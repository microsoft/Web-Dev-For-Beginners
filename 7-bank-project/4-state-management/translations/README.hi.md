# рдПрдХ рдмреИрдВрдХрд┐рдВрдЧ рдРрдк рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдВ рднрд╛рдЧ 4: рд╕реНрдЯреЗрдЯ рдкреНрд░рдмрдВрдзрди рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛

## рдкреВрд░реНрд╡ рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА

[рдкреВрд░реНрд╡ рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА](https://happy-mud-02d95f10f.azurestaticapps.net/quiz/47?loc=hi)

### рдкрд░рд┐рдЪрдп

рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдврд╝рддрд╛ рд╣реИ, рдпрд╣ рд╕рднреА рдбреЗрдЯрд╛ рдлреНрд▓реЛ рдкрд░ рдирдЬрд╝рд░ рд░рдЦрдирд╛ рдПрдХ рдЪреБрдиреМрддреА рдмрди рдЬрд╛рддрд╛ рд╣реИред рдХрд┐рд╕ рдХреЛрдб рдХреЛ рдбреЗрдЯрд╛ рдорд┐рд▓рддрд╛ рд╣реИ, рдХреМрди рд╕рд╛ рдкреЗрдЬ рдЗрд╕рдХрд╛ рдЙрдкрднреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдХрд╣рд╛рдВ рдФрд░ рдХрдм рдЗрд╕реЗ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ ... рдЧрдВрджреЗ рдХреЛрдб рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ рдЬрд┐рд╕реЗ рдмрдирд╛рдП рд░рдЦрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИред рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рдЪ рд╣реИ рдЬрдм рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдРрдк рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдкреГрд╖реНрдареЛрдВ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛ред *рд╕реНрдЯреЗрдЯ рдкреНрд░рдмрдВрдзрди* рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рд╣рдореЗрд╢рд╛ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рдореЗрдВ рдореМрдЬреВрдж рд░рд╣реА рд╣реИ, рд▓реЗрдХрд┐рди рдЬреИрд╕рд╛ рдХрд┐ рд╡реЗрдм рдРрдк рдЬрдЯрд┐рд▓рддрд╛ рдореЗрдВ рдмрдврд╝ рд░рд╣реЗ рд╣реИрдВ, рдпрд╣ рдЕрдм рд╡рд┐рдХрд╛рд╕ рдХреЗ рджреМрд░рд╛рди рд╕реЛрдЪрдиреЗ рдХрд╛ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рд╣реИред

рдЗрд╕ рдЕрдВрддрд┐рдо рднрд╛рдЧ рдореЗрдВ, рд╣рдо рдЙрд╕ рдРрдк рдкрд░ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВрдЧреЗ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдмрдирд╛рдпрд╛ рд╣реИ рдХрд┐ рд╕реНрдЯреЗрдЯ рдХреИрд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХрд┐рд╕реА рднреА рдмрд┐рдВрджреБ рдкрд░ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд░реАрдлреНрд░реЗрд╢ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рддреНрд░реЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

### рд╢рд░реНрдд

рдЖрдкрдХреЛ рдЗрд╕ рдкрд╛рда рдХреЗ рд▓рд┐рдП рд╡реЗрдм рдРрдк рдХрд╛ [рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ](../../3-data/translations/README.hi.md) рд╡рд╛рд▓рд╛ рднрд╛рдЧ рдкреВрд░рд╛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЖрдкрдХреЛ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ [Node.js](https://nodejs.org) рдФрд░ [рд╕рд░реНрд╡рд░ рдПрдкреАрдЖрдИ рдЪрд▓рд╛рдиреЗ](../../api/translations/README.hi.md) рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░ рд╕рдХреЗрдВред

рдЖрдк рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕рд░реНрд╡рд░ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдЗрд╕ рдХрдорд╛рдВрдб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдХреЗ рдареАрдХ рд╕реЗ рдЪрд▓ рд░рд╣рд╛ рд╣реИ:

```sh
curl http://localhost:5000/api
# -> should return "Bank API v1.0.0" as a result
```

---

## рд╕реНрдЯреЗрдЯ рдкреНрд░рдмрдВрдзрди рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░

[рдкрд┐рдЫрд▓реЗ рдкрд╛рда](../../3-data/translations/README.hi.md) рдореЗрдВ, рд╣рдордиреЗ рдЕрдкрдиреЗ рдРрдк рдореЗрдВ рд╡реИрд╢реНрд╡рд┐рдХ `account` рдЪрд░ рдХреЗ рд╕рд╛рде рд╕реНрдЯреЗрдЯ рдХреА рдПрдХ рдмреБрдирд┐рдпрд╛рджреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдкреЗрд╢ рдХреА, рдЬрд┐рд╕рдореЗрдВ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд▓реЙрдЧ рдЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдмреИрдВрдХ рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдорд╛рд░реЗ рд╡рд░реНрддрдорд╛рди рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдХреБрдЫ рдЦрд╛рдорд┐рдпрд╛рдВ рд╣реИрдВред рдЬрдм рдЖрдк рдбреИрд╢рдмреЛрд░реНрдб рдкрд░ рд╣реЛрдВ рддреЛ рдкреГрд╖реНрда рдХреЛ рддрд╛рдЬрд╝рд╛ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ?

рд╡рд░реНрддрдорд╛рди рдХреЛрдб рдХреЗ рд╕рд╛рде 3 рд╕рдорд╕реНрдпрд╛рдПрдБ рд╣реИрдВ:

- рд╕реНрдЯреЗрдЯ рдХрд╛рдпрдо рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд░реАрдлрд╝реНрд░реЗрд╢ рдЖрдкрдХреЛ рд▓реЙрдЧрд┐рди рдкреГрд╖реНрда рдкрд░ рд╡рд╛рдкрд╕ рд▓реЗ рдЬрд╛рддрд╛ рд╣реИред
- рд╕реНрдЯреЗрдЯ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрдИ рдХрд╛рд░реНрдп рд╣реИрдВред рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рдРрдк рдмрдврд╝рддрд╛ рд╣реИ, рдпрд╣ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдХрд┐рд╕реА рдПрдХ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛ рднреВрд▓ рдЬрд╛рдирд╛ рдЖрд╕рд╛рди рд╣реИред
- рд╕реНрдЯреЗрдЯ рдХреЛ рд╕рд╛рдл рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЬрдм рдЖрдк * рд▓реЙрдЧрдЖрдЙрдЯ * рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдЕрднреА рднреА рд╡рд╣реАрдВ рд╣реИ рдЬрдмрдХрд┐ рдЖрдк рд▓реЙрдЧрд┐рди рдкреЗрдЬ рдкрд░ рд╣реИрдВред

рд╣рдо рдПрдХ-рдПрдХ рдХрд░рдХреЗ рдЗрди рдореБрджреНрджреЛрдВ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдХреЛрдб рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрдзрд┐рдХ рдХреЛрдб рджреЛрд╣рд░рд╛рд╡ рдкреИрджрд╛ рдХрд░реЗрдЧрд╛ рдФрд░ рдРрдк рдХреЛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдФрд░ рдмрдирд╛рдП рд░рдЦрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрдЧрд╛ред рдпрд╛ рд╣рдо рдХреБрдЫ рдорд┐рдирдЯреЛрдВ рдХреЗ рд▓рд┐рдП рд░реБрдХ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЕрдкрдиреА рд░рдгрдиреАрддрд┐ рдкрд░ рдлрд┐рд░ рд╕реЗ рд╡рд┐рдЪрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

> 
рд╣рдо рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХрд┐рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ?

[рд╕реНрдЯреЗрдЯ рдкреНрд░рдмрдВрдзрди](https://en.wikipedia.org/wiki/State_management) рдЗрди рджреЛ рд╡рд┐рд╢реЗрд╖ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рдЦреЛрдЬрдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ:

- рдРрдк рдореЗрдВ рдбреЗрдЯрд╛ рдлреНрд▓реЛ рдХреЛ рдХреИрд╕реЗ рд╕рдордЭрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ?
- рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ (рдФрд░ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд) рдХреЗ рд╕рд╛рде рд╕реНрдЯреЗрдЯ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рд╣рдореЗрд╢рд╛ рд╕рд┐рдВрдХ рдореЗрдВ рдХреИрд╕реЗ рд░рдЦрд╛ рдЬрд╛рдП?

рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк рдЗрдирдХрд╛ рдзреНрдпрд╛рди рд░рдЦ рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреЛрдИ рдЕрдиреНрдп рд╕рдорд╕реНрдпрд╛ рдпрд╛ рддреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдареАрдХ рд╣реЛ рдЬрд╛рдП рдпрд╛ рдЬрд┐рд╕реЗ рдареАрдХ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рдПред рдЗрди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рд╕рдВрднрд╛рд╡рд┐рдд рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдо рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╛рдзрд╛рди рдХреЗ рд╕рд╛рде рдЬрд╛рдПрдВрдЧреЗ рдЬрд┐рд╕рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ **рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░рдирд╛ рдФрд░ рдЗрд╕реЗ рдмрджрд▓рдиреЗ рдХреЗ рддрд░реАрдХреЗ** рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣ рдЗрд╕ рддрд░рд╣ рд╣реЛрдЧрд╛:

![HTML, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреНрд░рд┐рдпрд╛рдУрдВ рдФрд░ рд╕реНрдЯреЗрдЯ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣ рджрд┐рдЦрд╛рддреА рд╣реБрдИ рд╕реНрдХреАрдорд╛](../images/data-flow.png)

> рд╣рдо рдпрд╣рд╛рдВ рдЙрд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдХрд╡рд░ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рджреГрд╢реНрдп рдЕрджреНрдпрддрди рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ [рд░реАрдРрдХреНрдЯрд┐рд╡ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ](https://en.wikipedia.org/wiki/Reactive_programming) рдХреА рдЕрдзрд┐рдХ рдЙрдиреНрдирдд рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рд╕реЗ рдмрдВрдзрд╛ рд╣реИред рдпрджрд┐ рдЖрдк рдПрдХ рдЧрд╣рд░реА рдЧреЛрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рдЕрдиреБрд╡рд░реНрддреА рд╡рд┐рд╖рдп рд╣реИред

тЬЕ рд╕реНрдЯреЗрдЯ рдкреНрд░рдмрдВрдзрди рдХреЗ рд╡рд┐рднрд┐рдиреНрди рджреГрд╖реНрдЯрд┐рдХреЛрдгреЛрдВ рдХреЗ рд╕рд╛рде рд╡рд╣рд╛рдБ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╣реИрдВ, [Redux](https://redux.js.org) рдПрдХ рд▓реЛрдХрдкреНрд░рд┐рдп рд╡рд┐рдХрд▓реНрдк рд╣реИред рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдФрд░ рдкреИрдЯрд░реНрдиреЛрдВ рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЕрдХреНрд╕рд░ рд╕реАрдЦрдиреЗ рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИ рдХрд┐ рдЖрдк рдмрдбрд╝реЗ рд╡реЗрдм рдРрдк рдореЗрдВ рдХрд┐рди рд╕рдВрднрд╛рд╡рд┐рдд рдореБрджреНрджреЛрдВ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдХреИрд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### рдЯрд╛рд╕реНрдХ

рд╣рдо рдереЛрдбрд╝рд╛ рд╕рд╛ рд░рд┐рдлреИрдХреНрдЯрд░рд┐рдВрдЧ рдХреЗ рд╕рд╛рде рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВрдЧреЗред `account` рдШреЛрд╖рдгрд╛ рдмрджрд▓реЗрдВ:

```js
let account = null;
```

With:

```js
let state = {
  account: null
};
```

рдПрдХ рд╕реНрдЯреЗрдЯ рд╡рд╕реНрддреБ рдореЗрдВ рд╣рдорд╛рд░реЗ рд╕рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛ рдХреЛ *рдХреЗрдВрджреНрд░реАрдХреГрдд* рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИред рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕реНрдЯреЗрдЯ рдореЗрдВ рдЕрднреА рдХреЗ рд▓рд┐рдП `account` рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдирд╣реАрдВ рдмрджрд▓рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдкреНрд░рд╕реНрддрд╛рд╡реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд╛рд╕реНрддрд╛ рдмрдирд╛рддрд╛ рд╣реИред


рд╣рдореЗрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рднреА рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред `register()` рдФрд░ `login()` рдлрдВрдЧрдХреНрд╢рдирд╕рдореЗ,`account = ...` рдХреЛ `state.account = ...` рд╕реЗ рдмрджрд▓реЗ;

`UpdateDashboard()` рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╢реАрд░реНрд╖ рдкрд░, рдпрд╣ рдкрдВрдХреНрддрд┐ рдЬреЛрдбрд╝реЗрдВ:

```js
const account = state.account;
```

рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдЗрд╕ рд░рд┐рдлреНрд░реИрдХреНрдЯрд┐рдВрдЧ  рдореЗрдВ рдмрд╣реБрдд рд╕реБрдзрд╛рд░ рдирд╣реАрдВ рд╣реБрдЖ, рд▓реЗрдХрд┐рди рд╡рд┐рдЪрд╛рд░ рдЕрдЧрд▓реЗ рдмрджрд▓рд╛рд╡реЛрдВ рдХреА рдиреАрдВрд╡ рд░рдЦрдиреЗ рдХрд╛ рдерд╛ред

## рдбреЗрдЯрд╛ рдкрд░рд┐рд╡рд░реНрддрди рдЯреНрд░реИрдХ рдХрд░реЗрдВ

рдЕрдм рдЬрдм рд╣рдордиреЗ рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `state` рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд░рдЦрд╛ рд╣реИ, рддреЛ рдЕрдЧрд▓рд╛ рдЪрд░рдг рдЕрдкрдбреЗрдЯ рдХреЛ рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░рдирд╛ рд╣реИред рд▓рдХреНрд╖реНрдп рдХрд┐рд╕реА рднреА рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдЯреНрд░реИрдХ рд░рдЦрдирд╛ рдЖрд╕рд╛рди рд╣реИ рдФрд░ рдЬрдм рд╡реЗ рд╣реЛрддреЗ рд╣реИрдВред

`state` рд╡рд╕реНрддреБ рдореЗрдВ рдХрд┐рдП рдЧрдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ [*рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп*](https://en.wikipedia.org/wiki/Immutable_object) рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рдЕрднреНрдпрд╛рд╕ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЗрд╕реЗ рдмрд┐рд▓реНрдХреБрд▓ рднреА рд╕рдВрд╢реЛрдзрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЕрд░реНрде рдпрд╣ рднреА рд╣реИ рдХрд┐ рдпрджрд┐ рдЖрдк рдЗрд╕рдореЗрдВ рдХреБрдЫ рднреА рдмрджрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдЖрдкрдХреЛ рдПрдХ рдирдпрд╛ рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛ред рдРрд╕рд╛ рдХрд░рдиреЗ рд╕реЗ, рдЖрдк рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рдЕрд╡рд╛рдВрдЫрд┐рдд [рд╕рд╛рдЗрдб рдЗрдлреЗрдХреНрдЯреНрд╕](https://en.wikipedia.org/wiki/Side_effect_(computer_science)) рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЕрдкрдиреЗ рдРрдк рдореЗрдВ рдирдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд╡рдирд╛рдПрдВ рдЦреЛрд▓рддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдХрд┐ undo/redo рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛, рдЬрдмрдХрд┐ рдбрд┐рдмрдЧ рдХрд░рдирд╛ рднреА рдЖрд╕рд╛рди рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕реНрдЯреЗрдЯ рдореЗрдВ рдХрд┐рдП рдЧрдП рдкреНрд░рддреНрдпреЗрдХ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рд▓реЙрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдмрдЧ рдХреЗ рд╕реНрд░реЛрдд рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдЗрддрд┐рд╣рд╛рд╕ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред

рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ, рдЖрдк рдПрдХ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╕рдВрд╕реНрдХрд░рдг рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП [`Object.freeze()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ ред рдпрджрд┐ рдЖрдк рдПрдХ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╡рд╕реНрддреБ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рдЕрдкрд╡рд╛рдж рдЙрдард╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

тЬЕ рдХреНрдпрд╛ рдЖрдк рдПрдХ *рдЙрдерд▓реЗ* рдФрд░ рдПрдХ *рдЧрд╣рд░реА* рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╡рд╕реНрддреБ рдХреЗ рдмреАрдЪ рдХрд╛ рдЕрдВрддрд░ рдЬрд╛рдирддреЗ рд╣реИрдВ? рдЖрдк рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ [рдпрд╣рд╛рдВ](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze#What_is_shallow_freeze) рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ.

### рдЯрд╛рд╕реНрдХ

Let's create a new `updateState()` function:

```js
function updateState(property, newData) {
  state = Object.freeze({
    ...state,
    [property]: newData
  });
}
```

рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ, рд╣рдо [*spread (`...`) operator*](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_object_literals) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд┐рдЫрд▓реЗ рд╕реНрдЯреЗрдЯ рд╕реЗ рдПрдХ рдирдпрд╛ рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдФрд░ рдХреЙрдкреА рдбреЗрдЯрд╛ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВред рдлрд┐рд░ рд╣рдо рдирдП рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░рддреЗ рд╣реИрдВ [рдмреНрд░реИрдХреЗрдЯ рдиреЛрдЯреЗрд╢рди] `[property]` рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХреЗ рд▓рд┐рдПред рдЕрдВрдд рдореЗрдВ, рд╣рдо `Object.freeze()` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрд╢реЛрдзрдиреЛрдВ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд▓реЙрдХ рдХрд░рддреЗ рд╣реИрдВред рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрдм рдХреЗрд╡рд▓ рд╕реНрдЯреЗрдЯ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд `рдЕрдХрд╛рдЙрдВрдЯ` рдкреНрд░реЙрдкрд░реНрдЯреА рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рд╛рде рдЖрдк рд╕реНрдЯреЗрдЯ рдореЗрдВ рдЬрд┐рддрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рдЙрддрдиреЗ рдЧреБрдг рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред

рд╣рдо рдпрд╣ рднреА рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЕрд╡рд╕реНрдерд╛ рднреА рдЬрдо рдЧрдИ рд╣реИ, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `state` рдЖрд░рдВрднреАрдХрд░рдг рдХреЛ рдЕрджреНрдпрддрди рдХрд░реЗрдЧрд╛:

```js
let state = Object.freeze({
  account: null
});
```

рдЙрд╕рдХреЗ рдмрд╛рдж, `state.account = result` рдХреЗ рд╕реНрдерд╛рди рдкрд░ `register` рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ; рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХреЗ рд╕рд╛рде:

```js
updateState('account', result);
```

`login` рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде рднреА рдРрд╕рд╛ рд╣реА рдХрд░реЗрдВ, `state.account = data;` рдХреЗ рд╕реНрдерд╛рди рдкрд░:

```js
updateState('account', data);
```

рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ *рд▓реЙрдЧрдЖрдЙрдЯ* рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдЧрд╛ рддреЛ рд╣рдо рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдХреЗ рдореБрджреНрджреЗ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХрд╛ рдореМрдХрд╛ рдирд╣реАрдВ рд▓реЗрдВрдЧреЗред

рдПрдХ рдирдпрд╛ `logout()` рдлрдВрдЧрдХреНрд╢рди рдмрдирд╛рдП:

```js
function logout() {
  updateState('account', null);
  navigate('/login');
}
```

`updateDashboard()` рдореЗ , рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рди `return navigate('/login');` рдХреА рдЬрдЧрд╣ `return logout()` рдХреЗ рд╕рд╛рде;

рдПрдХ рдирдпрд╛ рдЦрд╛рддрд╛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ, рд▓реЙрдЧ рдЖрдЙрдЯ рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ рд╕реЗ рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рд╕рдм рдХреБрдЫ рдЕрднреА рднреА рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред

рдпреБрдХреНрддрд┐: рдЖрдк `updateState()` рдХреЗ рддрд▓ рдкрд░ `console.log(state)` рдЬреЛрдбрд╝рдХрд░ рдФрд░ рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдЯреВрд▓ рдореЗрдВ рдХрдВрд╕реЛрд▓ рдЦреЛрд▓рдХрд░ рд╕рднреА рд╕реНрдЯреЗрдЯ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред

## рд╕реНрдЯреЗрдЯ рдХреЛ рдкрд░реНрд╕рд┐рд╕реНрдЯ рдХрд░реЗ

рдЕрдзрд┐рдХрд╛рдВрд╢ рд╡реЗрдм рдРрдкреНрд╕ рдХреЛ рдбреЗрдЯрд╛ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рдЧрд╛рддрд╛рд░ рдмрдиреЗ рд░рд╣рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рд╕рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдбреЗрдЯрд╛ рдХреЛ рдЖрдорддреМрд░ рдкрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╕рд░реНрд╡рд░ рдПрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ред рд▓реЗрдХрд┐рди рдХрднреА-рдХрднреА, рдПрдХ рдмреЗрд╣рддрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрднрд╡ рдХреЗ рд▓рд┐рдП рдпрд╛ рд▓реЛрдбрд┐рдВрдЧ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдЪрд▓ рд░рд╣реЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдРрдк рдкрд░ рдХреБрдЫ рдбреЗрдЯрд╛ рдХреЛ рдЬрд╛рд░реА рд░рдЦрдирд╛ рднреА рджрд┐рд▓рдЪрд╕реНрдк рд╣реИред

рдЬрдм рдЖрдк рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ рдкрд░реНрд╕рд┐рд╕реНрдЯ рд░рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдХреБрдЫ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рд╡рд╛рд▓ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рдЦреБрдж рд╕реЗ рдкреВрдЫрдирд╛ рдЪрд╛рд╣рд┐рдП:

- *рдХреНрдпрд╛ рдбреЗрдЯрд╛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реИ?* рдЖрдкрдХреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд░ рдХрд┐рд╕реА рднреА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛, рдЬреИрд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рд╕реЗ рдмрдЪрдирд╛ рдЪрд╛рд╣рд┐рдПред
- *рдЖрдкрдХреЛ рдпрд╣ рдбреЗрдЯрд╛ рдХрдм рддрдХ рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ?* рдХреНрдпрд╛ рдЖрдк рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди рд╕рддреНрд░ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ рдпрд╛ рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рд╣рдореЗрд╢рд╛ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░ рд╣реЛ рдЬрд╛рдП?

рд╡реЗрдм рдРрдк рдХреЗ рдЕрдВрджрд░ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ, рдЬреЛ рдЗрд╕ рдмрд╛рдд рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдХреНрдпрд╛ рд╣рд╛рд╕рд┐рд▓ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рдЦреЛрдЬ рдХреНрд╡реЗрд░реА рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП URL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рдмреАрдЪ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ рдЖрдк рдбреЗрдЯрд╛ рдХреЛ рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ [authentication](https://en.wikipedia.org/wiki/Authentication) рдХреА рдЬрд╛рдирдХрд╛рд░реАред


рдПрдХ рдЕрдиреНрдп рд╡рд┐рдХрд▓реНрдк рдбреЗрдЯрд╛ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдХрдИ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдкреАрдЖрдИ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред рдЙрдирдореЗрдВ рд╕реЗ рджреЛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИрдВ:

- [`localStorage`](https://developer.mozilla.org/docs/Web/API/Window/localStorage): рдПрдХ [Key/Value store](https://en.wikipedia.org/wiki/Key%E2%80%93value_database) рд╡рд┐рднрд┐рдиреНрди рд╕рддреНрд░реЛрдВ рдореЗрдВ рд╡рд░реНрддрдорд╛рди рд╡реЗрдм рд╕рд╛рдЗрдЯ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рдбреЗрдЯрд╛ рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред рдЗрд╕рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЧрдпрд╛ рдбреЗрдЯрд╛ рдХрднреА рд╕рдорд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред
- [`sessionStorage`](https://developer.mozilla.org/docs/Web/API/Window/sessionStorage): рдпрд╣ рдПрдХ `sessionStorage` рдХреА рддрд░рд╣ рд╣реА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд╕рд┐рд╡рд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рдЗрд╕рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдбреЗрдЯрд╛ рд╕рддреНрд░ рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рдкрд░ (рдЬрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ) рд╕рд╛рдл рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

рдпрджрд┐ рдЖрдк рдЬрдЯрд┐рд▓ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕реЗ [JSON](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON) рдкреНрд░рд╛рд░реВрдк [`JSON.stringify()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд░рдордмрджреНрдз рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред 

тЬЕ рдпрджрд┐ рдЖрдк рдПрдХ рд╡реЗрдм рдРрдк рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЬреЛ рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рддреЛ [`IndexedDB` API](https://developer.mozilla.org/docs/Web/API/IndexedDB_API) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдмрдирд╛рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИред рдпрд╣ рдПрдХ рдЙрдиреНрдирдд рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рд╣реИ рдпрд╛ рдпрджрд┐ рдЖрдкрдХреЛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдорд╛рддреНрд░рд╛ рдореЗрдВ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИред

### рдЯрд╛рд╕реНрдХ

рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рддрдм рддрдХ рд▓реЙрдЧ рдЗрди рд░рд╣реЗрдВ рдЬрдм рддрдХ рдХрд┐ рд╡реЗ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ *рд▓реЙрдЧрдЖрдЙрдЯ* рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рди рдХрд░реЗрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП `localStorage` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рдХреБрдВрдЬреА рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗред.

```js
const storageKey = 'savedAccount';
```

рдлрд┐рд░ рдЗрд╕ рд▓рд╛рдЗрди рдХреЛ `updateState()` рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЕрдВрдд рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ:

```js
localStorage.setItem(storageKey, JSON.stringify(state.account));
```

рдЗрд╕рдХреЗ рд╕рд╛рде, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдмрдирд╛рдП рд░рдЦрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рд╣рдореЗрд╢рд╛ рдЕрдк-рдЯреВ-рдбреЗрдЯ рд░рд╣реЗрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ рд╣рдордиреЗ рдЕрдкрдиреЗ рд╕рднреА рд╕реНрдЯреЗрдЯ рдЕрдкрдбреЗрдЯ рдкрд╣рд▓реЗ рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд┐рдП рдереЗред рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдБ рд╣рдо рдЕрдкрдиреЗ рд╕рднреА рдкрд┐рдЫрд▓реЗ рд░рд┐рдлреНрд▓реЗрдХреНрдЯрд░реЛрдВ рд╕реЗ рд▓рд╛рднрд╛рдиреНрд╡рд┐рдд рд╣реЛрдиреЗ рд▓рдЧрддреЗ рд╣реИрдВ ЁЯЩВ.

рдбреЗрдЯрд╛ рд╕рд╣реЗрдЬреЗ рдЬрд╛рдиреЗ рдХреЗ рд╕рд╛рде, рд╣рдореЗрдВ рдРрдк рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдкрд░ рдЗрд╕реЗ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХрд╛ рднреА рдзреНрдпрд╛рди рд░рдЦрдирд╛ рд╣реЛрдЧрд╛ред рдЪреВрдВрдХрд┐ рд╣рдо рдЕрдзрд┐рдХ рдЖрд░рдВрднреАрдХрд░рдг рдХреЛрдб рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдПрдХ рдирдпрд╛ `init` рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рд╡рд┐рдЪрд╛рд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ `app.js` рдХреЗ рдиреАрдЪреЗ рд╣рдорд╛рд░рд╛ рдкрд┐рдЫрд▓рд╛ рдХреЛрдб рднреА рд╢рд╛рдорд┐рд▓ рд╣реИред:

```js
function init() {
  const savedAccount = localStorage.getItem(storageKey);
  if (savedAccount) {
    updateState('account', JSON.parse(savedAccount));
  }

  // Our previous initialization code
  window.onpopstate = () => updateRoute();
  updateRoute();
}

init();
```

рдпрд╣рд╛рдВ рд╣рдо рд╕рд╣реЗрдЬреЗ рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдпрджрд┐ рдХреЛрдИ рд╣реИ рддреЛ рд╣рдо рддрджрдиреБрд╕рд╛рд░ рд╕реНрдЯреЗрдЯ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддреЗ рд╣реИрдВред рд░реВрдЯ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рд╕реЗ *рдкрд╣рд▓реЗ* рдЗрд╕реЗ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкреЗрдЬ рдЕрдкрдбреЗрдЯ рдХреЗ рджреМрд░рд╛рди рд╕реНрдЯреЗрдЯ рдкрд░ рдХреЛрдб рдирд┐рд░реНрднрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

рд╣рдо рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбрд┐рдлреЙрд▓реНрдЯ рдкреЗрдЬ рдХреЛ рднреА * рдбреИрд╢рдмреЛрд░реНрдб * рдкреЗрдЬ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдЕрдм рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдХреЛ рдЬрд╛рд░реА рд░рдЦ рд░рд╣реЗ рд╣реИрдВред рдпрджрд┐ рдХреЛрдИ рдбреЗрдЯрд╛ рдирд╣реАрдВ рдорд┐рд▓рд╛ рд╣реИ, рддреЛ рдбреИрд╢рдмреЛрд░реНрдб * рд▓реЙрдЧрд┐рди * рдкреЗрдЬ рд╡реИрд╕реЗ рднреА рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдЦреНрдпрд╛рд▓ рд░рдЦрддрд╛ рд╣реИред `updateRoute()` рдореЗрдВ, рдлрд╝реЙрд▓рдмреИрдХ `return navigate('/login');` рдХреЛ `return navigate('/dashboard');` рд╕реЗ рдмрджрд▓реЗрдВред

рдЕрдм рдРрдк рдореЗрдВ рд▓реЙрдЧрдЗрди рдХрд░реЗрдВ рдФрд░ рдкреЗрдЬ рдХреЛ рд░рд┐рдлреНрд░реЗрд╢ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВред рдЖрдкрдХреЛ рдбреИрд╢рдмреЛрд░реНрдб рдкрд░ рд░рд╣рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЙрд╕ рдЕрдкрдбреЗрдЯ рдХреЗ рд╕рд╛рде рд╣рдордиреЗ рдЕрдкрдиреЗ рд╕рднреА рд╢реБрд░реБрдЖрддреА рдореБрджреНрджреЛрдВ рдХрд╛ рдзреНрдпрд╛рди рд░рдЦрд╛ рд╣реИ ...

## рдбрд╛рдЯрд╛рдХреЛ рд░рд┐рдлреНрд░реЗрд╢ рдХрд░реЗ

...рд▓реЗрдХрд┐рди рд╣рдо рдПрдХ рдирдпрд╛ рднреА рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред рдКрдкрд╕!

 `test` рдЦрд╛рддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреИрд╢рдмреЛрд░реНрдб рдкрд░ рдЬрд╛рдПрдВ, рдлрд┐рд░ рдПрдХ рдирдпрд╛ рд▓реЗрдирджреЗрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдХрдорд╛рдВрдб рдХреЛ рдЯрд░реНрдорд┐рдирд▓ рдкрд░ рдЪрд▓рд╛рдПрдВ:

```sh
curl --request POST \
     --header "Content-Type: application/json" \
     --data "{ \"date\": \"2020-07-24\", \"object\": \"Bought book\", \"amount\": -20 }" \
     http://localhost:5000/api/accounts/test/transactions
```

рдЕрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдЕрдкрдиреЗ рдбреИрд╢рдмреЛрд░реНрдб рдкреГрд╖реНрда рдХреЛ рд░рд┐рдлреНрд░реЗрд╢ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ? рдХреНрдпрд╛ рдЖрдк рдирдпрд╛ рд▓реЗрдирджреЗрди рджреЗрдЦрддреЗ рд╣реИрдВ?

рд╕реНрдЯреЗрдЯ рдЕрдирд┐рд╢реНрдЪрд┐рдд рдХрд╛рд▓ рддрдХ `localStorage` рдХреА рдмрджреМрд▓рдд рдХрд╛рдпрдо рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рднреА рд╣реИ рдХрд┐ рдпрд╣ рддрдм рддрдХ рдЕрдкрдбреЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рдЬрдм рддрдХ рдЖрдк рдРрдк рд╕реЗ рд▓реЙрдЧ-рдЖрдЙрдЯ рдирд╣реАрдВ рдХрд░рддреЗ рдФрд░ рдлрд┐рд░ рд╕реЗ рд▓реЙрдЧ рдЗрди рдирд╣реАрдВ рдХрд░рддреЗ!

рд╕реНрдЯреЗрдХ рдбреЗрдЯрд╛ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рд░ рдмрд╛рд░ рдбреИрд╢рдмреЛрд░реНрдб рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЦрд╛рддреЗ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓реЛрдб рдХрд░рдирд╛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд░рдгрдиреАрддрд┐ рд╣реИред

### рдЯрд╛рд╕реНрдХ

рдПрдХ рдирдпрд╛ рдлрдВрдЧрдХреНрд╢рди `updateAccountData` рдмрдирд╛рдП:

```js
async function updateAccountData() {
  const account = state.account;
  if (!account) {
    return logout();
  }

  const data = await getAccount(account.user);
  if (data.error) {
    return logout();
  }

  updateState('account', data);
}
```

рдпрд╣ рд╡рд┐рдзрд┐ рдЬрд╛рдВрдЪрддреА рд╣реИ рдХрд┐ рд╣рдо рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд▓реЙрдЧ рдЗрди рд╣реИрдВ рдлрд┐рд░ рд╕рд░реНрд╡рд░ рд╕реЗ рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдкреБрдирдГ рд▓реЛрдб рдХрд░рддрд╛ рд╣реИред

рдПрдХ рджреВрд╕рд░рд╛ рдирдпрд╛ `refresh` рдирд╛рдордХрд╛ рдлрдВрдЧрдХреНрд╢рди рдмрдирд╛рдП:

```js
async function refresh() {
  await updateAccountData();
  updateDashboard();
}
```

рдпрд╣ рдПрдХ рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИ, рдлрд┐рд░ рдбреИрд╢рдмреЛрд░реНрдб рдкреГрд╖реНрда рдХреЗ HTML рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХрд╛ рдзреНрдпрд╛рди рд░рдЦрддрд╛ рд╣реИред рдбреИрд╢рдмреЛрд░реНрдб рдорд╛рд░реНрдЧ рд▓реЛрдб рд╣реЛрдиреЗ рдкрд░ рд╣рдореЗрдВ рдпрд╣ рдХреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЗрд╕рдХреЗ рд╕рд╛рде рд░реВрдЯ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ:

```js
const routes = {
  '/login': { templateId: 'login' },
  '/dashboard': { templateId: 'dashboard', init: refresh }
};
```

рдбреИрд╢рдмреЛрд░реНрдб рдХреЛ рдЕрдм рдкреБрдирдГ рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ, рдЗрд╕реЗ рдЕрджреНрдпрддрди рдЦрд╛рддрд╛ рдбреЗрдЯрд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред

---

## ЁЯЪА рдЪреБрдиреМрддреА

рдЕрдм рдЬрдм рд╣рдо рдбреИрд╢рдмреЛрд░реНрдб рд▓реЛрдб рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рд╣рд░ рдмрд╛рд░ рдЦрд╛рддреЗ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдХреНрдпрд╛ рдЖрдкрдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рдореЗрдВ рдЕрднреА рднреА *рд╕рднреА рдЦрд╛рддреЗ* рдбреЗрдЯрд╛ рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ?

рд╕рд╣реЗрдЬрдиреЗ рдФрд░ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ `localStorage` рд╕реЗ рдХреЗрд╡рд▓ рдЙрд╕ рдРрдк рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдЙрд╕реЗ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВред

## рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдЙрдкрд░рд╛рдВрдд рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА

[рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдЙрдкрд░рд╛рдВрдд рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА](https://happy-mud-02d95f10f.azurestaticapps.net/quiz/48?loc=hi)

## рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ

["рдЯреНрд░реИрдиреНрд╕реИрдХреНрд╢рди рдЬреЛреЬреЗ" рдбрд╛рдпрд▓реЙрдЧ рдЗрдореНрдкреНрд▓рдореЗрдиреНрдЯ рдХрд░реЗ](assignment.hi.md)

рдпрд╣рд╛рдВ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдПрдХ рдЙрджрд╛рд╣рд░рдг рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:

![рдПрдХ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ "рд▓реЗрдирджреЗрди рдЬреЛрдбрд╝реЗрдВ" рдбрд╛рдпрд▓реЙрдЧ рджрд┐рдЦрд╛рддреЗ рд╣реБрдП](../images/dialog.png)
