<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "2e83e38c35dc003f046d7cc0bbfd4920",
  "translation_date": "2025-08-25T22:21:24+00:00",
  "source_file": "6-space-game/4-collision-detection/README.md",
  "language_code": "ar"
}
-->
# ุจูุงุก ูุนุจุฉ ูุถุงุก ุงูุฌุฒุก 4: ุฅุถุงูุฉ ุงูููุฒุฑ ูุงูุชุดุงู ุงูุชุตุงุฏูุงุช

## ุงุฎุชุจุงุฑ ูุง ูุจู ุงููุญุงุถุฑุฉ

[ุงุฎุชุจุงุฑ ูุง ูุจู ุงููุญุงุถุฑุฉ](https://ff-quizzes.netlify.app/web/quiz/35)

ูู ูุฐุง ุงูุฏุฑุณุ ุณุชุชุนูู ููููุฉ ุฅุทูุงู ุงูููุฒุฑ ุจุงุณุชุฎุฏุงู JavaScript! ุณูุถูู ุนูุตุฑูู ุฅูู ูุนุจุชูุง:

- **ุงูููุฒุฑ**: ูุชู ุฅุทูุงู ูุฐุง ุงูููุฒุฑ ูู ุณูููุฉ ุงูุจุทู ููุชุญุฑู ุนููุฏููุง ููุฃุนูู.
- **ุงูุชุดุงู ุงูุชุตุงุฏูุงุช**: ูุฌุฒุก ูู ุชูููุฐ ุงููุฏุฑุฉ ุนูู *ุงูุฅุทูุงู*ุ ุณูุถูู ุจุนุถ ุงูููุงุนุฏ ุงูููุชุนุฉ ููุนุจุฉ:
   - **ุงูููุฒุฑ ูุตูุจ ุงูุนุฏู**: ูููุช ุงูุนุฏู ุฅุฐุง ุฃุตูุจ ุจุงูููุฒุฑ.
   - **ุงูููุฒุฑ ูุตูุจ ุฃุนูู ุงูุดุงุดุฉ**: ูุชู ุชุฏููุฑ ุงูููุฒุฑ ุฅุฐุง ุฃุตุงุจ ุงูุฌุฒุก ุงูุนููู ูู ุงูุดุงุดุฉ.
   - **ุชุตุงุฏู ุงูุนุฏู ูุน ุงูุจุทู**: ูุชู ุชุฏููุฑ ุงูุนุฏู ูุงูุจุทู ุฅุฐุง ุงุตุทุฏูุง ุจุจุนุถููุง.
   - **ุงูุนุฏู ูุตูุจ ุฃุณูู ุงูุดุงุดุฉ**: ูุชู ุชุฏููุฑ ุงูุนุฏู ูุงูุจุทู ุฅุฐุง ูุตู ุงูุนุฏู ุฅูู ุฃุณูู ุงูุดุงุดุฉ.

ุจุงุฎุชุตุงุฑุ ุฃูุช -- *ุงูุจุทู* -- ุชุญุชุงุฌ ุฅูู ุฅุตุงุจุฉ ุฌููุน ุงูุฃุนุฏุงุก ุจุงูููุฒุฑ ูุจู ุฃู ูุชููููุง ูู ุงููุตูู ุฅูู ุฃุณูู ุงูุดุงุดุฉ.

โ ูู ุจุฅุฌุฑุงุก ุจุญุซ ุตุบูุฑ ุนู ุฃูู ูุนุจุฉ ููุจููุชุฑ ุชู ุฅูุดุงุคูุง ุนูู ุงูุฅุทูุงู. ูุง ูู ูุธููุชูุงุ

ูููู ุฃุจุทุงููุง ูุนูุง!

## ุงูุชุดุงู ุงูุชุตุงุฏูุงุช

ููู ูููู ุจุงูุชุดุงู ุงูุชุตุงุฏูุงุชุ ูุญุชุงุฌ ุฅูู ุงูุชูููุฑ ูู ูุงุฆูุงุช ุงููุนุจุฉ ูุฃููุง ูุณุชุทููุงุช ุชุชุญุฑู. ููุงุฐุงุ ูุฃู ุงูุตูุฑุฉ ุงููุณุชุฎุฏูุฉ ูุฑุณู ูุงุฆู ุงููุนุจุฉ ูู ูุณุชุทูู: ููุง `x`ุ `y`ุ `width` ู`height`.

ุฅุฐุง ุชูุงุทุน ูุณุชุทููุงูุ ูุซู ุงูุจุทู ูุงูุนุฏูุ ููุฐุง ูุนูู ุญุฏูุซ ุชุตุงุฏู. ูุง ูุฌุจ ุฃู ูุญุฏุซ ุจุนุฏ ุฐูู ูุนุชูุฏ ุนูู ููุงุนุฏ ุงููุนุจุฉ. ูุชูููุฐ ุงูุชุดุงู ุงูุชุตุงุฏูุงุชุ ุชุญุชุงุฌ ุฅูู ูุง ููู:

1. ุทุฑููุฉ ููุญุตูู ุนูู ุชูุซูู ูุณุชุทูู ููุงุฆู ุงููุนุจุฉุ ูุซู ูุฐุง:

   ```javascript
   rectFromGameObject() {
     return {
       top: this.y,
       left: this.x,
       bottom: this.y + this.height,
       right: this.x + this.width
     }
   }
   ```

2. ูุธููุฉ ููุงุฑูุฉุ ูููู ุฃู ุชุจุฏู ูุฐู ุงููุธููุฉ ูุงูุชุงูู:

   ```javascript
   function intersectRect(r1, r2) {
     return !(r2.left > r1.right ||
       r2.right < r1.left ||
       r2.top > r1.bottom ||
       r2.bottom < r1.top);
   }
   ```

## ููู ูุฏูุฑ ุงูุฃุดูุงุก

ูุชุฏููุฑ ุงูุฃุดูุงุก ูู ุงููุนุจุฉุ ุชุญุชุงุฌ ุฅูู ุฅุนูุงู ุงููุนุจุฉ ุจุนุฏู ุฑุณู ูุฐุง ุงูุนูุตุฑ ูู ุฏูุฑุฉ ุงููุนุจุฉ ุงูุชู ูุชู ุชุดุบูููุง ุนูู ูุงุตู ุฒููู ูุนูู. ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ูุถุน ุนูุงูุฉ ุนูู ูุงุฆู ุงููุนุจุฉ ูู *ููุช* ุนูุฏูุง ูุญุฏุซ ุดูุก ูุงุ ูุซู:

```javascript
// collision happened
enemy.dead = true
```

ุซู ููููู ูุนุงูุฌุฉ ุงููุงุฆูุงุช *ุงูููุชุฉ* ูุจู ุฅุนุงุฏุฉ ุฑุณู ุงูุดุงุดุฉุ ูุซู:

```javascript
gameObjects = gameObject.filter(go => !go.dead);
```

## ููู ูุทูู ุงูููุฒุฑ

ุฅุทูุงู ุงูููุฒุฑ ูุนูู ุงูุงุณุชุฌุงุจุฉ ูุญุฏุซ ููุชุงุญ ูุฅูุดุงุก ูุงุฆู ูุชุญุฑู ูู ุงุชุฌุงู ูุนูู. ูุฐููุ ูุญุชุงุฌ ุฅูู ุชูููุฐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. **ุฅูุดุงุก ูุงุฆู ููุฒุฑ**: ูู ุฃุนูู ุณูููุฉ ุงูุจุทูุ ูุจุฏุฃ ูู ุงูุชุญุฑู ููุฃุนูู ูุญู ุฃุนูู ุงูุดุงุดุฉ ุนูุฏ ุฅูุดุงุฆู.
2. **ุฅุฑูุงู ููุฏ ุจุญุฏุซ ููุชุงุญ**: ูุญุชุงุฌ ุฅูู ุงุฎุชูุงุฑ ููุชุงุญ ุนูู ููุญุฉ ุงูููุงุชูุญ ููุซู ุฅุทูุงู ุงููุงุนุจ ูููุฒุฑ.
3. **ุฅูุดุงุก ูุงุฆู ูุนุจุฉ ูุจุฏู ูุฃูู ููุฒุฑ** ุนูุฏ ุงูุถุบุท ุนูู ุงูููุชุงุญ.

## ูุชุฑุฉ ุงูุชูุฏุฆุฉ ูููุฒุฑ

ูุญุชุงุฌ ุงูููุฒุฑ ุฅูู ุงูุฅุทูุงู ูู ูู ูุฑุฉ ุชุถุบุท ูููุง ุนูู ููุชุงุญุ ูุซู *ุงููุณุงูุฉ* ุนูู ุณุจูู ุงููุซุงู. ูููุน ุงููุนุจุฉ ูู ุฅูุชุงุฌ ุนุฏุฏ ูุจูุฑ ุฌุฏูุง ูู ุงูููุฒุฑุงุช ูู ููุช ูุตูุฑุ ูุญุชุงุฌ ุฅูู ุฅุตูุงุญ ุฐูู. ูุชู ุฐูู ุนู ุทุฑูู ุชูููุฐ ูุง ูุณูู ุจู *ูุชุฑุฉ ุงูุชูุฏุฆุฉ*ุ ููู ูุคูุช ูุถูู ุฃู ุงูููุฒุฑ ูููู ุฅุทูุงูู ููุท ุจูุงุตู ุฒููู ูุนูู. ููููู ุชูููุฐ ุฐูู ุจุงูุทุฑููุฉ ุงูุชุงููุฉ:

```javascript
class Cooldown {
  constructor(time) {
    this.cool = false;
    setTimeout(() => {
      this.cool = true;
    }, time)
  }
}

class Weapon {
  constructor {
  }
  fire() {
    if (!this.cooldown || this.cooldown.cool) {
      // produce a laser
      this.cooldown = new Cooldown(500);
    } else {
      // do nothing - it hasn't cooled down yet.
    }
  }
}
```

โ ุงุฑุฌุน ุฅูู ุงูุฏุฑุณ ุงูุฃูู ูู ุณูุณูุฉ ูุนุจุฉ ุงููุถุงุก ูุชุฐููุฑ ููุณู ุจู *ูุชุฑุงุช ุงูุชูุฏุฆุฉ*.

## ูุง ุงูุฐู ุณูุจููู

ุณุชุฃุฎุฐ ุงูููุฏ ุงูููุฌูุฏ (ุงูุฐู ูุฌุจ ุฃู ุชููู ูุฏ ููุช ุจุชูุธููู ูุฅุนุงุฏุฉ ุชูุธููู) ูู ุงูุฏุฑุณ ุงูุณุงุจูุ ูุชููู ุจุชูุณูุนู. ููููู ุงูุจุฏุก ุจุงูููุฏ ูู ุงูุฌุฒุก ุงูุซุงูู ุฃู ุงุณุชุฎุฏุงู ุงูููุฏ ูู [ุงูุฌุฒุก ุงูุซุงูุซ - ุงูุจุฏุงูุฉ](../../../../../../../../../your-work).

> ูุตูุญุฉ: ุงูููุฒุฑ ุงูุฐู ุณุชุนูู ุนููู ููุฌูุฏ ุจุงููุนู ูู ูุฌูุฏ ุงูุฃุตูู ุงูุฎุงุต ุจู ูููุดุงุฑ ุฅููู ูู ุงูููุฏ.

- **ุฅุถุงูุฉ ุงูุชุดุงู ุงูุชุตุงุฏูุงุช**ุ ุนูุฏูุง ูุตุทุฏู ุงูููุฒุฑ ุจุดูุก ูุงุ ูุฌุจ ุฃู ุชูุทุจู ุงูููุงุนุฏ ุงูุชุงููุฉ:
   1. **ุงูููุฒุฑ ูุตูุจ ุงูุนุฏู**: ูููุช ุงูุนุฏู ุฅุฐุง ุฃุตูุจ ุจุงูููุฒุฑ.
   2. **ุงูููุฒุฑ ูุตูุจ ุฃุนูู ุงูุดุงุดุฉ**: ูุชู ุชุฏููุฑ ุงูููุฒุฑ ุฅุฐุง ุฃุตุงุจ ุงูุฌุฒุก ุงูุนููู ูู ุงูุดุงุดุฉ.
   3. **ุชุตุงุฏู ุงูุนุฏู ูุน ุงูุจุทู**: ูุชู ุชุฏููุฑ ุงูุนุฏู ูุงูุจุทู ุฅุฐุง ุงุตุทุฏูุง ุจุจุนุถููุง.
   4. **ุงูุนุฏู ูุตูุจ ุฃุณูู ุงูุดุงุดุฉ**: ูุชู ุชุฏููุฑ ุงูุนุฏู ูุงูุจุทู ุฅุฐุง ูุตู ุงูุนุฏู ุฅูู ุฃุณูู ุงูุดุงุดุฉ.

## ุงูุฎุทูุงุช ุงูููุตู ุจูุง

ุญุฏุฏ ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูู ูุฌูุฏ `your-work`. ูุฌุจ ุฃู ุชุญุชูู ุนูู ูุง ููู:

```bash
-| assets
  -| enemyShip.png
  -| player.png
  -| laserRed.png
-| index.html
-| app.js
-| package.json
```

ุงุจุฏุฃ ูุดุฑูุนู ูู ูุฌูุฏ `your_work` ุจูุชุงุจุฉ:

```bash
cd your-work
npm start
```

ุณูุคุฏู ุฐูู ุฅูู ุชุดุบูู ุฎุงุฏู HTTP ุนูู ุงูุนููุงู `http://localhost:5000`. ุงูุชุญ ูุชุตูุญูุง ูุฃุฏุฎู ูุฐุง ุงูุนููุงูุ ูู ุงูููุช ุงูุญุงูู ูุฌุจ ุฃู ูุนุฑุถ ุงูุจุทู ูุฌููุน ุงูุฃุนุฏุงุกุ ูููู ูุง ุดูุก ูุชุญุฑู - ุญุชู ุงูุขู :).

### ุฅุถุงูุฉ ุงูููุฏ

1. **ุฅุนุฏุงุฏ ุชูุซูู ูุณุชุทูู ููุงุฆู ุงููุนุจุฉ ููุชุนุงูู ูุน ุงูุชุตุงุฏูุงุช**. ูุชูุญ ูู ุงูููุฏ ุฃุฏูุงู ุงูุญุตูู ุนูู ุชูุซูู ูุณุชุทูู ูู `GameObject`. ูู ุจุชุญุฑูุฑ ูุฆุฉ GameObject ูุชูุณูุนูุง:

    ```javascript
    rectFromGameObject() {
        return {
          top: this.y,
          left: this.x,
          bottom: this.y + this.height,
          right: this.x + this.width,
        };
      }
    ```

2. **ุฅุถุงูุฉ ููุฏ ูุชุญูู ูู ุงูุชุตุงุฏู**. ุณุชููู ูุฐู ูุธููุฉ ุฌุฏูุฏุฉ ุชุฎุชุจุฑ ูุง ุฅุฐุง ูุงู ูุณุชุทููุงู ูุชูุงุทุนุงู:

    ```javascript
    function intersectRect(r1, r2) {
      return !(
        r2.left > r1.right ||
        r2.right < r1.left ||
        r2.top > r1.bottom ||
        r2.bottom < r1.top
      );
    }
    ```

3. **ุฅุถุงูุฉ ูุฏุฑุฉ ุฅุทูุงู ุงูููุฒุฑ**
   1. **ุฅุถุงูุฉ ุฑุณุงูุฉ ุญุฏุซ ููุชุงุญ**. ูุฌุจ ุฃู ูููู ููุชุงุญ *ุงููุณุงูุฉ* ุจุฅูุดุงุก ููุฒุฑ ููู ุณูููุฉ ุงูุจุทู. ุฃุถู ุซูุงุซ ุซูุงุจุช ูู ูุงุฆู Messages:

       ```javascript
        KEY_EVENT_SPACE: "KEY_EVENT_SPACE",
        COLLISION_ENEMY_LASER: "COLLISION_ENEMY_LASER",
        COLLISION_ENEMY_HERO: "COLLISION_ENEMY_HERO",
       ```

   1. **ุงูุชุนุงูู ูุน ููุชุงุญ ุงููุณุงูุฉ**. ูู ุจุชุญุฑูุฑ ูุธููุฉ `window.addEventListener` ุงูุฎุงุตุฉ ุจู keyup ููุชุนุงูู ูุน ููุชุงุญ ุงููุณุงูุฉ:

      ```javascript
        } else if(evt.keyCode === 32) {
          eventEmitter.emit(Messages.KEY_EVENT_SPACE);
        }
      ```

    1. **ุฅุถุงูุฉ ูุณุชูุนูู**. ูู ุจุชุญุฑูุฑ ูุธููุฉ `initGame()` ููุชุฃูุฏ ูู ุฃู ุงูุจุทู ููููู ุงูุฅุทูุงู ุนูุฏ ุงูุถุบุท ุนูู ููุชุงุญ ุงููุณุงูุฉ:

       ```javascript
       eventEmitter.on(Messages.KEY_EVENT_SPACE, () => {
        if (hero.canFire()) {
          hero.fire();
        }
       ```

       ูุฃุถู ูุธููุฉ ุฌุฏูุฏุฉ `eventEmitter.on()` ูุถูุงู ุงูุณููู ุนูุฏ ุงุตุทุฏุงู ุงูุนุฏู ุจุงูููุฒุฑ:

          ```javascript
          eventEmitter.on(Messages.COLLISION_ENEMY_LASER, (_, { first, second }) => {
            first.dead = true;
            second.dead = true;
          })
          ```

   1. **ุชุญุฑูู ุงููุงุฆู**. ุชุฃูุฏ ูู ุฃู ุงูููุฒุฑ ูุชุญุฑู ุชุฏุฑูุฌููุง ุฅูู ุฃุนูู ุงูุดุงุดุฉ. ุณุชููู ุจุฅูุดุงุก ูุฆุฉ Laser ุฌุฏูุฏุฉ ุชูุชุฏ ูู `GameObject`ุ ููุง ูุนูุช ูู ูุจู:

      ```javascript
        class Laser extends GameObject {
        constructor(x, y) {
          super(x,y);
          (this.width = 9), (this.height = 33);
          this.type = 'Laser';
          this.img = laserImg;
          let id = setInterval(() => {
            if (this.y > 0) {
              this.y -= 15;
            } else {
              this.dead = true;
              clearInterval(id);
            }
          }, 100)
        }
      }
      ```

   1. **ุงูุชุนุงูู ูุน ุงูุชุตุงุฏูุงุช**. ูู ุจุชูููุฐ ููุงุนุฏ ุงูุชุตุงุฏู ูููุฒุฑ. ุฃุถู ูุธููุฉ `updateGameObjects()` ุงูุชู ุชุฎุชุจุฑ ุงููุงุฆูุงุช ุงููุชุตุงุฏูุฉ:

      ```javascript
      function updateGameObjects() {
        const enemies = gameObjects.filter(go => go.type === 'Enemy');
        const lasers = gameObjects.filter((go) => go.type === "Laser");
      // laser hit something
        lasers.forEach((l) => {
          enemies.forEach((m) => {
            if (intersectRect(l.rectFromGameObject(), m.rectFromGameObject())) {
            eventEmitter.emit(Messages.COLLISION_ENEMY_LASER, {
              first: l,
              second: m,
            });
          }
         });
      });

        gameObjects = gameObjects.filter(go => !go.dead);
      }  
      ```

      ุชุฃูุฏ ูู ุฅุถุงูุฉ `updateGameObjects()` ุฅูู ุฏูุฑุฉ ุงููุนุจุฉ ูู `window.onload`.

   4. **ุชูููุฐ ูุชุฑุฉ ุงูุชูุฏุฆุฉ** ูููุฒุฑุ ุจุญูุซ ูููู ุฅุทูุงูู ููุท ุจูุงุตู ุฒููู ูุนูู.

      ุฃุฎูุฑูุงุ ูู ุจุชุญุฑูุฑ ูุฆุฉ Hero ุจุญูุซ ูููููุง ุงูุชุนุงูู ูุน ูุชุฑุฉ ุงูุชูุฏุฆุฉ:

       ```javascript
      class Hero extends GameObject {
        constructor(x, y) {
          super(x, y);
          (this.width = 99), (this.height = 75);
          this.type = "Hero";
          this.speed = { x: 0, y: 0 };
          this.cooldown = 0;
        }
        fire() {
          gameObjects.push(new Laser(this.x + 45, this.y - 10));
          this.cooldown = 500;
    
          let id = setInterval(() => {
            if (this.cooldown > 0) {
              this.cooldown -= 100;
            } else {
              clearInterval(id);
            }
          }, 200);
        }
        canFire() {
          return this.cooldown === 0;
        }
      }
      ```

ูู ูุฐู ุงููุฑุญูุฉุ ุฃุตุจุญุช ูุนุจุชู ุชุญุชูู ุนูู ุจุนุถ ุงููุธุงุฆู! ููููู ุงูุชููู ุจุงุณุชุฎุฏุงู ููุงุชูุญ ุงูุฃุณููุ ุฅุทูุงู ุงูููุฒุฑ ุจุงุณุชุฎุฏุงู ููุชุงุญ ุงููุณุงูุฉุ ูุงุฎุชูุงุก ุงูุฃุนุฏุงุก ุนูุฏ ุฅุตุงุจุชูู. ุนูู ุฑุงุฆุน!

---

## ๐ ุงูุชุญุฏู

ุฃุถู ุงููุฌุงุฑูุง! ุฃููู ูุธุฑุฉ ุนูู ุฃุตูู ุงููุนุจุฉ ูู [ูุณุชูุฏุน Space Art](../../../../6-space-game/solution/spaceArt/readme.txt) ูุญุงูู ุฅุถุงูุฉ ุงููุฌุงุฑ ุนูุฏูุง ูุตูุจ ุงูููุฒุฑ ูุงุฆููุง ูุถุงุฆููุง.

## ุงุฎุชุจุงุฑ ูุง ุจุนุฏ ุงููุญุงุถุฑุฉ

[ุงุฎุชุจุงุฑ ูุง ุจุนุฏ ุงููุญุงุถุฑุฉ](https://ff-quizzes.netlify.app/web/quiz/36)

## ุงููุฑุงุฌุนุฉ ูุงูุฏุฑุงุณุฉ ุงูุฐุงุชูุฉ

ุฌุฑูุจ ุชุบููุฑ ุงูููุงุตู ุงูุฒูููุฉ ูู ูุนุจุชู ุญุชู ุงูุขู. ูุงุฐุง ูุญุฏุซ ุนูุฏ ุชุบููุฑูุงุ ุงูุฑุฃ ุงููุฒูุฏ ุนู [ุฃุญุฏุงุซ ุชูููุช JavaScript](https://www.freecodecamp.org/news/javascript-timing-events-settimeout-and-setinterval/).

## ุงููุงุฌุจ

[ุงุณุชูุดุงู ุงูุชุตุงุฏูุงุช](assignment.md)

**ุฅุฎูุงุก ุงููุณุคูููุฉ**:  
ุชู ุชุฑุฌูุฉ ูุฐุง ุงููุณุชูุฏ ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุชุฑุฌูุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู [Co-op Translator](https://github.com/Azure/co-op-translator). ุจูููุง ูุณุนู ูุชุญููู ุงูุฏูุฉุ ูุฑุฌู ุงูุนูู ุฃู ุงูุชุฑุฌูุงุช ุงูุขููุฉ ูุฏ ุชุญุชูู ุนูู ุฃุฎุทุงุก ุฃู ูุนูููุงุช ุบูุฑ ุฏูููุฉ. ูุฌุจ ุงุนุชุจุงุฑ ุงููุณุชูุฏ ุงูุฃุตูู ุจูุบุชู ุงูุฃุตููุฉ ุงููุตุฏุฑ ุงูุฑุณูู. ููุญุตูู ุนูู ูุนูููุงุช ุญุงุณูุฉุ ูููุตู ุจุงูุงุณุชุนุงูุฉ ุจุชุฑุฌูุฉ ุจุดุฑูุฉ ุงุญุชุฑุงููุฉ. ูุญู ุบูุฑ ูุณุคูููู ุนู ุฃู ุณูุก ููู ุฃู ุชูุณูุฑุงุช ุฎุงุทุฆุฉ ุชูุดุฃ ุนู ุงุณุชุฎุฏุงู ูุฐู ุงูุชุฑุฌูุฉ.