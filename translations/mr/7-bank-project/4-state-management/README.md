<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4fa20c513e367e9cdd401bf49ae16e33",
  "translation_date": "2025-08-26T00:43:43+00:00",
  "source_file": "7-bank-project/4-state-management/README.md",
  "language_code": "mr"
}
-->
# рдмрдБрдХрд┐рдВрдЧ рдЕтАНреЕрдк рддрдпрд╛рд░ рдХрд░рд╛ рднрд╛рдЧ рек: рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯрдЪреА рд╕рдВрдХрд▓реНрдкрдирд╛

## рдкреНрд░реА-рд▓реЗрдХреНрдЪрд░ рдХреНрд╡рд┐рдЭ

[рдкреНрд░реА-рд▓реЗрдХреНрдЪрд░ рдХреНрд╡рд┐рдЭ](https://ff-quizzes.netlify.app/web/quiz/47)

### рдкрд░рд┐рдЪрдп

рд╡реЗрдм рдЕтАНреЕрдкреНрд▓рд┐рдХреЗрд╢рди рдореЛрдареЗ рд╣реЛрдд рдЕрд╕рддрд╛рдирд╛, рдбреЗрдЯрд╛ рдлреНрд▓реЛ рдЯреНрд░реЕрдХ рдХрд░рдгреЗ рдЖрд╡реНрд╣рд╛рдирд╛рддреНрдордХ рдмрдирддреЗ. рдХреЛрдгрддрд╛ рдХреЛрдб рдбреЗрдЯрд╛ рдорд┐рд│рд╡рддреЛ, рдХреЛрдгрддреЗ рдкреГрд╖реНрда рддреЛ рд╡рд╛рдкрд░рддреЗ, рддреЛ рдХрдзреА рдЖрдгрд┐ рдХреБрдареЗ рдЕрдкрдбреЗрдЯ рдХрд░рд╛рдпрдЪрд╛... рд╣реЗ рд╕рд░реНрд╡ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдареЗрд╡рдгреЗ рдХрдареАрдг рд╣реЛрдК рд╢рдХрддреЗ. рд╡рд┐рд╢реЗрд╖рддрдГ рдЬреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣рд╛рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдЕтАНреЕрдкрдЪреНрдпрд╛ рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рдкреГрд╖реНрдард╛рдВрдордзреНрдпреЗ рдбреЗрдЯрд╛ рд╢реЗрдЕрд░ рдХрд░рд╛рдпрдЪрд╛ рдЕрд╕рддреЛ, рдЬрд╕реЗ рдХреА рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪрд╛ рдбреЗрдЯрд╛. *рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯ* рд╣реА рд╕рдВрдХрд▓реНрдкрдирд╛ рд╕рд░реНрд╡ рдкреНрд░рдХрд╛рд░рдЪреНрдпрд╛ рдкреНрд░реЛрдЧреНрд░рд╛рдореНрд╕рдордзреНрдпреЗ рдиреЗрд╣рдореАрдЪ рдЕрд╕реНрддрд┐рддреНрд╡рд╛рдд рдЕрд╕рддреЗ, рдкрд░рдВрддреБ рд╡реЗрдм рдЕтАНреЕрдкреНрд╕ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реЛрдд рдЕрд╕рд▓реНрдпрд╛рдиреЗ рд╡рд┐рдХрд╛рд╕рд╛рджрд░рдореНрдпрд╛рди рдпрд╛рд╡рд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдгреЗ рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдмрдирд▓реЗ рдЖрд╣реЗ.

рдпрд╛ рдЕрдВрддрд┐рдо рднрд╛рдЧрд╛рдд, рдЖрдкрдг рддрдпрд╛рд░ рдХреЗрд▓реЗрд▓реНрдпрд╛ рдЕтАНреЕрдкрд╡рд░ рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░ рдХрд░реВ рдЖрдгрд┐ рд╕реНрдЯреЗрдЯ рдХрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрд┐рдд рдХреЗрд▓реЗ рдЬрд╛рддреЗ рддреЗ рдкрд╛рд╣реВ, рдмреНрд░рд╛рдЙрдЭрд░ рд░рд┐рдлреНрд░реЗрд╢рд▓рд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рд╡реЗрд│реА рд╕рдорд░реНрдерди рджреЗрдгреЗ рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рд╕рддреНрд░рд╛рдВрдордзреНрдпреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдгреЗ рдпрд╛рд╕рд╛рдареА.

### рдкреВрд░реНрд╡рддрдпрд╛рд░реА

рдпрд╛ рдзрдбреНрдпрд╛рд╕рд╛рдареА рддреБрдореНрд╣реА рд╡реЗрдм рдЕтАНреЕрдкрдЪрд╛ [рдбреЗрдЯрд╛ рдлреЗрдЪрд┐рдВрдЧ](../3-data/README.md) рднрд╛рдЧ рдкреВрд░реНрдг рдХреЗрд▓рд╛ рдЕрд╕рд╛рд╡рд╛. рддреБрдореНрд╣рд╛рд▓рд╛ [Node.js](https://nodejs.org) рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдгреЗ рдЖрдгрд┐ [рд╕рд░реНрд╡реНрд╣рд░ API](../api/README.md) рд╕реНрдерд╛рдирд┐рдХ рдкрд╛рддрд│реАрд╡рд░ рдЪрд╛рд▓рд╡рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ рдЬреЗрдгреЗрдХрд░реВрди рддреБрдореНрд╣реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрд┐рдд рдХрд░реВ рд╢рдХрддрд╛.

рддреБрдореНрд╣реА рдЯрд░реНрдорд┐рдирд▓рдордзреНрдпреЗ рдЦрд╛рд▓реАрд▓ рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡реВрди рд╕рд░реНрд╡реНрд╣рд░ рдпреЛрдЧреНрдпрд░рд┐рддреНрдпрд╛ рдЪрд╛рд▓рдд рдЖрд╣реЗ рдХрд╛ рддреЗ рддрдкрд╛рд╕реВ рд╢рдХрддрд╛:

```sh
curl http://localhost:5000/api
# -> should return "Bank API v1.0.0" as a result
```

---

## рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯрд╡рд░ рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░ рдХрд░рд╛

[рдорд╛рдЧреАрд▓ рдзрдбрд╛](../3-data/README.md) рдордзреНрдпреЗ, рдЖрдореНрд╣реА `account` рдирд╛рд╡рд╛рдЪреНрдпрд╛ рдЧреНрд▓реЛрдмрд▓ рд╡реНрд╣реЗрд░рд┐рдПрдмрд▓рд╕рд╣ рдЕтАНреЕрдкрдордзреНрдпреЗ рд╕реНрдЯреЗрдЯрдЪреА рдореВрд▓рднреВрдд рд╕рдВрдХрд▓реНрдкрдирд╛ рд╕рд╛рджрд░ рдХреЗрд▓реА рд╣реЛрддреА, рдЬреНрдпрд╛рдордзреНрдпреЗ рд╕рдзреНрдпрд╛ рд▓реЙрдЧ рдЗрди рдХреЗрд▓реЗрд▓реНрдпрд╛ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪрд╛ рдмрдБрдХ рдбреЗрдЯрд╛ рдЖрд╣реЗ. рдкрд░рдВрддреБ, рдЖрдордЪреНрдпрд╛ рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рдЕрдВрдорд▓рдмрдЬрд╛рд╡рдгреАрдд рдХрд╛рд╣реА рддреНрд░реБрдЯреА рдЖрд╣реЗрдд. рдбреЕрд╢рдмреЛрд░реНрдбрд╡рд░ рдЕрд╕рддрд╛рдирд╛ рдкреГрд╖реНрда рд░рд┐рдлреНрд░реЗрд╢ рдХрд░реВрди рдкрд╣рд╛. рдХрд╛рдп рд╣реЛрддреЗ?

рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рдХреЛрдбрдордзреНрдпреЗ рей рд╕рдорд╕реНрдпрд╛ рдЖрд╣реЗрдд:

- рд╕реНрдЯреЗрдЯ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд▓реЗ рдЬрд╛рдд рдирд╛рд╣реА, рдХрд╛рд░рдг рдмреНрд░рд╛рдЙрдЭрд░ рд░рд┐рдлреНрд░реЗрд╢ рддреБрдореНрд╣рд╛рд▓рд╛ рд▓реЙрдЧрд┐рди рдкреГрд╖реНрдард╛рд╡рд░ рдкрд░рдд рдиреЗрддреЗ.
- рд╕реНрдЯреЗрдЯ рдмрджрд▓рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреЗрдХ рдлрдВрдХреНрд╢рдиреНрд╕ рдЖрд╣реЗрдд. рдЕтАНреЕрдк рдореЛрдард╛ рд╣реЛрдд рдЕрд╕рддрд╛рдирд╛, рдмрджрд▓ рдЯреНрд░реЕрдХ рдХрд░рдгреЗ рдХрдареАрдг рд╣реЛрдК рд╢рдХрддреЗ рдЖрдгрд┐ рдПрдЦрд╛рджрд╛ рдЕрдкрдбреЗрдЯ рд╡рд┐рд╕рд░рдгреЗ рд╕реЛрдкреЗ рд╣реЛрдК рд╢рдХрддреЗ.
- рд╕реНрдЯреЗрдЯ рд╕рд╛рдл рдХреЗрд▓рд╛ рдЬрд╛рдд рдирд╛рд╣реА, рддреНрдпрд╛рдореБрд│реЗ рддреБрдореНрд╣реА *рд▓реЙрдЧрдЖрдЙрдЯ* рдХреНрд▓рд┐рдХ рдХреЗрд▓реНрдпрд╛рд╡рд░рд╣реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рддрд┐рдереЗрдЪ рд░рд╛рд╣рддреЛ, рдЬрд░реА рддреБрдореНрд╣реА рд▓реЙрдЧрд┐рди рдкреГрд╖реНрдард╛рд╡рд░ рдЕрд╕рд╛рд▓.

рдЖрдореНрд╣реА рдпрд╛ рд╕рдорд╕реНрдпрд╛рдВрдирд╛ рдПрдХ-рдПрдХ рдХрд░реВрди рд╕реЛрдбрд╡рдгреНрдпрд╛рд╕рд╛рдареА рдЖрдордЪрд╛ рдХреЛрдб рдЕрдкрдбреЗрдЯ рдХрд░реВ рд╢рдХрддреЛ, рдкрд░рдВрддреБ рдпрд╛рдореБрд│реЗ рдХреЛрдб рдбреБрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рд╛рдвреЗрд▓ рдЖрдгрд┐ рдЕтАНреЕрдк рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЖрдгрд┐ рджреЗрдЦрднрд╛рд▓ рдХрд░рдгреЗ рдХрдареАрдг рд╣реЛрдИрд▓. рдХрд┐рдВрд╡рд╛ рдЖрдореНрд╣реА рдХрд╛рд╣реА рдорд┐рдирд┐рдЯреЗ рдерд╛рдВрдмреВрди рдЖрдордЪреА рд░рдгрдиреАрддреА рдкреБрдиреНрд╣рд╛ рд╡рд┐рдЪрд╛рд░ рдХрд░реВ рд╢рдХрддреЛ.

> рдЖрдореНрд╣реА рдпреЗрдереЗ рдХреЛрдгрддреНрдпрд╛ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рдд рдЖрд╣реЛрдд?

[рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯ](https://en.wikipedia.org/wiki/State_management) рдореНрд╣рдгрдЬреЗ рдпрд╛ рджреЛрди рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЪрд╛рдВрдЧрд▓рд╛ рджреГрд╖реНрдЯрд┐рдХреЛрди рд╢реЛрдзрдгреЗ:

- рдЕтАНреЕрдкрдордзреАрд▓ рдбреЗрдЯрд╛ рдлреНрд▓реЛ рд╕рдордЬрдгреНрдпрд╛рд╕ рд╕реЛрдкреЗ рдХрд╕реЗ рдареЗрд╡рд╛рдпрдЪреЗ?
- рд╕реНрдЯреЗрдЯ рдбреЗрдЯрд╛ рдиреЗрд╣рдореА рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлреЗрд╕рд╕рд╣ (рдЖрдгрд┐ рдЙрд▓рдЯ) рд╕рдордХреНрд░рдорд┐рдд рдХрд╕рд╛ рдареЗрд╡рд╛рдпрдЪрд╛?

рдПрдХрджрд╛ рддреБрдореНрд╣реА рдпрд╛рдЪреА рдХрд╛рд│рдЬреА рдШреЗрддрд▓реА рдХреА, рддреБрдореНрд╣рд╛рд▓рд╛ рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдЗрддрд░ рдХреЛрдгрддреНрдпрд╛рд╣реА рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдЖрдзреАрдЪ рдЭрд╛рд▓реЗ рдЕрд╕реЗрд▓ рдХрд┐рдВрд╡рд╛ рд╕реЛрдбрд╡рдгреЗ рд╕реЛрдкреЗ рдЭрд╛рд▓реЗ рдЕрд╕реЗрд▓. рдпрд╛ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреЗрдХ рд╕рдВрднрд╛рд╡реНрдп рджреГрд╖реНрдЯрд┐рдХреЛрди рдЖрд╣реЗрдд, рдкрд░рдВрддреБ рдЖрдореНрд╣реА **рдбреЗрдЯрд╛ рдЖрдгрд┐ рддреНрдпрд╛рдд рдмрджрд▓ рдХрд░рдгреНрдпрд╛рдЪреЗ рдорд╛рд░реНрдЧ рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░рдгреЗ** рдпрд╛ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрд╛рдпрд╛рдЪрд╛ рдЕрд╡рд▓рдВрдм рдХрд░реВ. рдбреЗрдЯрд╛ рдлреНрд▓реЛ рдЕрд╕реЗ рдЕрд╕реЗрд▓:

![HTML, рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдХреНрд░рд┐рдпрд╛ рдЖрдгрд┐ рд╕реНрдЯреЗрдЯ рдпрд╛рдордзреАрд▓ рдбреЗрдЯрд╛ рдлреНрд▓реЛ рджрд░реНрд╢рд╡рдгрд╛рд░реА рдпреЛрдЬрдирд╛](../../../../translated_images/data-flow.fa2354e0908fecc89b488010dedf4871418a992edffa17e73441d257add18da4.mr.png)

> рдЖрдореНрд╣реА рдпреЗрдереЗ рдбреЗрдЯрд╛ рд╕реНрд╡рдпрдВрдЪрд▓рд┐рддрдкрдгреЗ рджреГрд╢реНрдп рдЕрдкрдбреЗрдЯ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддреЛ рддреЛ рднрд╛рдЧ рдХрд╡реНрд╣рд░ рдХрд░рдгрд╛рд░ рдирд╛рд╣реА, рдХрд╛рд░рдг рддреЛ [Reactive Programming](https://en.wikipedia.org/wiki/Reactive_programming) рдЪреНрдпрд╛ рдЕрдзрд┐рдХ рдкреНрд░рдЧрдд рд╕рдВрдХрд▓реНрдкрдирд╛рдВрд╢реА рд╕рдВрдмрдВрдзрд┐рдд рдЖрд╣реЗ. рддреБрдореНрд╣рд╛рд▓рд╛ рд╕рдЦреЛрд▓ рдЕрднреНрдпрд╛рд╕ рдХрд░рд╛рдпрдЪрд╛ рдЕрд╕реЗрд▓ рддрд░ рд╣рд╛ рдПрдХ рдЪрд╛рдВрдЧрд▓рд╛ рдкреБрдвреАрд▓ рд╡рд┐рд╖рдп рдЖрд╣реЗ.

тЬЕ рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯрд╕рд╛рдареА рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдирд╛рдВрд╕рд╣ рдЕрдиреЗрдХ рд▓рд╛рдпрдмреНрд░рд░реА рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗрдд, [Redux](https://redux.js.org) рд╣реЗ рдПрдХ рд▓реЛрдХрдкреНрд░рд┐рдп рдкрд░реНрдпрд╛рдп рдЖрд╣реЗ. рдореЛрдареНрдпрд╛ рд╡реЗрдм рдЕтАНреЕрдкреНрд╕рдордзреНрдпреЗ рддреБрдореНрд╣рд╛рд▓рд╛ рдХреЛрдгрддреНрдпрд╛ рд╕рдВрднрд╛рд╡реНрдп рд╕рдорд╕реНрдпрд╛рдВрдЪрд╛ рд╕рд╛рдордирд╛ рдХрд░рд╛рд╡рд╛ рд▓рд╛рдЧреВ рд╢рдХрддреЛ рдЖрдгрд┐ рддреНрдпрд╛рдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд╕реЗ рдХрд░рддрд╛ рдпреЗрдИрд▓ рд╣реЗ рд╢рд┐рдХрдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗ рдЬрд╛рдгрд╛рд░реЗ рд╕рдВрдХрд▓реНрдкрдирд╛ рдЖрдгрд┐ рдкреЕрдЯрд░реНрди рдкрд╛рд╣рд╛.

### рдХрд╛рд░реНрдп

рдЖрдореНрд╣реА рдереЛрдбреЗ рд░рд┐рдлреЕрдХреНрдЯрд░рд┐рдВрдЧ рдХрд░реВрди рд╕реБрд░реБрд╡рд╛рдд рдХрд░реВ. `account` рдбрд┐рдХреНрд▓рд░реЗрд╢рди рдмрджрд▓рд╛:

```js
let account = null;
```

рд╕рд╣:

```js
let state = {
  account: null
};
```

рдЖрдордЪреНрдпрд╛ рдЕтАНреЕрдкрдордзреАрд▓ рд╕рд░реНрд╡ рдбреЗрдЯрд╛ рдПрдХрд╛ рд╕рд┐рдВрдЧрд▓ рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯрдордзреНрдпреЗ *рдХреЗрдВрджреНрд░реАрдХреГрдд* рдХрд░рдгреНрдпрд╛рдЪреА рдХрд▓реНрдкрдирд╛ рдЖрд╣реЗ. рд╕рдзреНрдпрд╛ рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдлрдХреНрдд `account` рдЖрд╣реЗ рддреНрдпрд╛рдореБрд│реЗ рдлрд╛рд░рд╕рд╛ рдмрджрд▓ рд╣реЛрдд рдирд╛рд╣реА, рдкрд░рдВрддреБ рднрд╡рд┐рд╖реНрдпрд╛рддреАрд▓ рд╕реБрдзрд╛рд░рдгрд╛ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдорд╛рд░реНрдЧ рддрдпрд╛рд░ рд╣реЛрддреЛ.

рдЖрдореНрд╣рд╛рд▓рд╛ рддреЗ рд╡рд╛рдкрд░рдгрд╛рд▒реНрдпрд╛ рдлрдВрдХреНрд╢рдиреНрд╕ рджреЗрдЦреАрд▓ рдЕрдкрдбреЗрдЯ рдХрд░рд╛рд╡реНрдпрд╛ рд▓рд╛рдЧрддреАрд▓. `register()` рдЖрдгрд┐ `login()` рдлрдВрдХреНрд╢рдиреНрд╕рдордзреНрдпреЗ, `account = ...` рдмрджрд▓рд╛ `state.account = ...`;

`updateDashboard()` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╢реАрд░реНрд╖рд╕реНрдерд╛рдиреА, рд╣реА рдУрд│ рдЬреЛрдбрд╛:

```js
const account = state.account;
```

рдпрд╛ рд░рд┐рдлреЕрдХреНрдЯрд░рд┐рдВрдЧрдореБрд│реЗ рдлрд╛рд░рд╕рд╛ рд╕реБрдзрд╛рд░рдгрд╛ рдЭрд╛рд▓реА рдирд╛рд╣реА, рдкрд░рдВрддреБ рдкреБрдвреАрд▓ рдмрджрд▓рд╛рдВрд╕рд╛рдареА рдкрд╛рдпрд╛ рддрдпрд╛рд░ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдЙрджреНрджреЗрд╢ рд╣реЛрддрд╛.

## рдбреЗрдЯрд╛ рдмрджрд▓ рдЯреНрд░реЕрдХ рдХрд░рд╛

рдЖрддрд╛ рдЖрдкрдг рдбреЗрдЯрд╛ рд╕реНрдЯреЛрдЕрд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА `state` рдСрдмреНрдЬреЗрдХреНрдЯ рддрдпрд╛рд░ рдХреЗрд▓рд╛ рдЖрд╣реЗ, рдкреБрдвреАрд▓ рдкрд╛рдпрд░реА рдореНрд╣рдгрдЬреЗ рдЕрдкрдбреЗрдЯреНрд╕ рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░рдгреЗ. рдХреЛрдгрддреЗрд╣реА рдмрджрд▓ рдЖрдгрд┐ рддреЗ рдХрдзреА рд╣реЛрддрд╛рдд рд╣реЗ рдЯреНрд░реЕрдХ рдХрд░рдгреЗ рд╕реЛрдкреЗ рдмрдирд╡рдгреЗ рд╣реЗ рдЙрджреНрджрд┐рд╖реНрдЯ рдЖрд╣реЗ.

`state` рдСрдмреНрдЬреЗрдХреНрдЯрдордзреНрдпреЗ рдмрджрд▓ рд╣реЛрдК рдирдпреЗрдд рдпрд╛рд╕рд╛рдареА, рддреНрдпрд╛рд▓рд╛ [*immutable*](https://en.wikipedia.org/wiki/Immutable_object) рдорд╛рдирдгреЗ рдЪрд╛рдВрдЧрд▓реА рдкреНрд░рдерд╛ рдЖрд╣реЗ, рдореНрд╣рдгрдЬреЗ рддреНрдпрд╛рдд рдЕрдЬрд┐рдмрд╛рдд рдмрджрд▓ рдХрд░рддрд╛ рдпреЗрдгрд╛рд░ рдирд╛рд╣реА. рдпрд╛рдЪрд╛ рдЕрд░реНрде рддреБрдореНрд╣рд╛рд▓рд╛ рддреНрдпрд╛рдд рдХрд╛рд╣реАрд╣реА рдмрджрд▓ рдХрд░рд╛рдпрдЪреЗ рдЕрд╕рд▓реНрдпрд╛рд╕ рдирд╡реАрди рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рддрдпрд╛рд░ рдХрд░рд╛рд╡рд╛ рд▓рд╛рдЧреЗрд▓. рдЕрд╕реЗ рдХрд░реВрди, рддреБрдореНрд╣реА рд╕рдВрднрд╛рд╡реНрдп рдЕрд╡рд╛рдВрдЫрд┐рдд [side effects](https://en.wikipedia.org/wiki/Side_effect_(computer_science)) рдкрд╛рд╕реВрди рд╕рдВрд░рдХреНрд╖рдг рддрдпрд╛рд░ рдХрд░рддрд╛ рдЖрдгрд┐ рддреБрдордЪреНрдпрд╛ рдЕтАНреЕрдкрдордзреНрдпреЗ рдирд╡реАрди рд╡реИрд╢рд┐рд╖реНрдЯреНрдпреЗ рд▓рд╛рдЧреВ рдХрд░рдгреНрдпрд╛рдЪреНрдпрд╛ рд╢рдХреНрдпрддрд╛ рдЙрдШрдбрддрд╛ рдЬрд╕реЗ рдХреА undo/redo рдЕрдВрдорд▓рдмрдЬрд╛рд╡рдгреА рдХрд░рдгреЗ, рддрд╕реЗрдЪ рдбрд┐рдмрдЧ рдХрд░рдгреЗ рд╕реЛрдкреЗ рдмрдирд╡рддрд╛. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рддреБрдореНрд╣реА рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдХреЗрд▓реЗрд▓рд╛ рдкреНрд░рддреНрдпреЗрдХ рдмрджрд▓ рд▓реЙрдЧ рдХрд░реВ рд╢рдХрддрд╛ рдЖрдгрд┐ рдмрдЧрдЪрд╛ рд╕реНрд░реЛрдд рд╕рдордЬрдгреНрдпрд╛рд╕рд╛рдареА рдмрджрд▓рд╛рдВрдЪрд╛ рдЗрддрд┐рд╣рд╛рд╕ рдареЗрд╡реВ рд╢рдХрддрд╛.

JavaScript рдордзреНрдпреЗ, [`Object.freeze()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze) рд╡рд╛рдкрд░реВрди рдСрдмреНрдЬреЗрдХреНрдЯрдЪреА immutable рдЖрд╡реГрддреНрддреА рддрдпрд╛рд░ рдХрд░рддрд╛ рдпреЗрддреЗ. рдЬрд░ рддреБрдореНрд╣реА immutable рдСрдмреНрдЬреЗрдХреНрдЯрдордзреНрдпреЗ рдмрджрд▓ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХреЗрд▓рд╛ рддрд░ рдЕрдкрд╡рд╛рдж рдирд┐рд░реНрдорд╛рдг рд╣реЛрдИрд▓.

тЬЕ рддреБрдореНрд╣рд╛рд▓рд╛ *shallow* рдЖрдгрд┐ *deep* immutable рдСрдмреНрдЬреЗрдХреНрдЯрдордзреАрд▓ рдлрд░рдХ рдорд╛рд╣рд┐рдд рдЖрд╣реЗ рдХрд╛? рддреБрдореНрд╣реА рдпрд╛рдмрджреНрджрд▓ [рдЗрдереЗ](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze#What_is_shallow_freeze) рд╡рд╛рдЪреВ рд╢рдХрддрд╛.

### рдХрд╛рд░реНрдп

рдирд╡реАрди `updateState()` рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░реВрдпрд╛:

```js
function updateState(property, newData) {
  state = Object.freeze({
    ...state,
    [property]: newData
  });
}
```

рдпрд╛ рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ, рдЖрдореНрд╣реА рдирд╡реАрди рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рддрдпрд╛рд░ рдХрд░рдд рдЖрд╣реЛрдд рдЖрдгрд┐ [*spread (`...`) operator*](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_object_literals) рд╡рд╛рдкрд░реВрди рдорд╛рдЧреАрд▓ рд╕реНрдЯреЗрдЯрдордзреВрди рдбреЗрдЯрд╛ рдХреЙрдкреА рдХрд░рдд рдЖрд╣реЛрдд. рдирдВрддрд░ рдЖрдореНрд╣реА [bracket notation](https://developer.mozilla.org/docs/Web/JavaScript/Guide/Working_with_Objects#Objects_and_properties) `[property]` рд╡рд╛рдкрд░реВрди рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯрдЪреНрдпрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░реЙрдкрд░реНрдЯреАрд▓рд╛ рдирд╡реАрди рдбреЗрдЯрд╛рд╕рд╣ рдУрд╡реНрд╣рд░рд░рд╛рдЗрдб рдХрд░рддреЛ. рд╢реЗрд╡рдЯреА, рдЖрдореНрд╣реА `Object.freeze()` рд╡рд╛рдкрд░реВрди рдСрдмреНрдЬреЗрдХреНрдЯ рд▓реЙрдХ рдХрд░рддреЛ рдЬреЗрдгреЗрдХрд░реВрди рддреНрдпрд╛рдд рдмрджрд▓ рд╣реЛрдК рдирдпреЗрдд. рд╕рдзреНрдпрд╛ рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдлрдХреНрдд `account` рдкреНрд░реЙрдкрд░реНрдЯреА рдЖрд╣реЗ, рдкрд░рдВрддреБ рдпрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдирд╛рдиреЗ рддреБрдореНрд╣реА рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдЬрд┐рддрдХреНрдпрд╛ рдкреНрд░реЙрдкрд░реНрдЯреА рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗрдд рддрд┐рддрдХреНрдпрд╛ рдЬреЛрдбреВ рд╢рдХрддрд╛.

рдЖрдореНрд╣реА `state` рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдпрдЭреЗрд╢рди рджреЗрдЦреАрд▓ рдЕрдкрдбреЗрдЯ рдХрд░реВ рдЬреЗрдгреЗрдХрд░реВрди рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдЯреЗрдЯ рджреЗрдЦреАрд▓ рдлреНрд░реЛрдЭрди рдЕрд╕реЗрд▓:

```js
let state = Object.freeze({
  account: null
});
```

рдпрд╛рдирдВрддрд░, `register` рдлрдВрдХреНрд╢рди рдЕрдкрдбреЗрдЯ рдХрд░рд╛ рдЖрдгрд┐ `state.account = result;` рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдмрджрд▓рд╛:

```js
updateState('account', result);
```

`login` рдлрдВрдХреНрд╢рдирд╕рд╣ рджреЗрдЦреАрд▓ рдЕрд╕реЗрдЪ рдХрд░рд╛, `state.account = data;` рдмрджрд▓рд╛:

```js
updateState('account', data);
```

рдЖрддрд╛ рдЖрдкрдг рд╡рд╛рдкрд░рдХрд░реНрддрд╛ *рд▓реЙрдЧрдЖрдЙрдЯ* рдХреНрд▓рд┐рдХ рдХреЗрд▓реНрдпрд╛рд╡рд░ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рд╕рд╛рдл рди рд╣реЛрдгреНрдпрд╛рдЪреНрдпрд╛ рд╕рдорд╕реНрдпреЗрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рдЪреА рд╕рдВрдзреА рдШреЗрдК.

рдирд╡реАрди `logout()` рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рд╛:

```js
function logout() {
  updateState('account', null);
  navigate('/login');
}
```

`updateDashboard()` рдордзреНрдпреЗ, `return navigate('/login');` рд░реАрдбрд╛рдпрд░реЗрдХреНрд╢рди рдмрджрд▓рд╛ `return logout();`;

рдирд╡реАрди рдЦрд╛рддреЗ рдиреЛрдВрджрдгреА рдХрд░рд╛, рд▓реЙрдЧрдЖрдЙрдЯ рдХрд░рд╛ рдЖрдгрд┐ рдкреБрдиреНрд╣рд╛ рд▓реЙрдЧрд┐рди рдХрд░рд╛ рдЖрдгрд┐ рд╕рд░реНрд╡ рдХрд╛рд╣реА рдпреЛрдЧреНрдп рдкреНрд░рдХрд╛рд░реЗ рдХрд╛рд░реНрдп рдХрд░рдд рдЖрд╣реЗ рдХрд╛ рддреЗ рддрдкрд╛рд╕рд╛.

> рдЯрд┐рдк: рддреБрдореНрд╣реА `updateState()` рдЪреНрдпрд╛ рддрд│рд╛рд╢реА `console.log(state)` рдЬреЛрдбреВрди рдЖрдгрд┐ рддреБрдордЪреНрдпрд╛ рдмреНрд░рд╛рдЙрдЭрд░рдЪреНрдпрд╛ рдбреЗрд╡реНрд╣рд▓рдкрдореЗрдВрдЯ рдЯреВрд▓реНрд╕рдордзреНрдпреЗ рдХрдиреНрд╕реЛрд▓ рдЙрдШрдбреВрди рд╕рд░реНрд╡ рд╕реНрдЯреЗрдЯ рдмрджрд▓ рдкрд╛рд╣реВ рд╢рдХрддрд╛.

## рд╕реНрдЯреЗрдЯ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд╛

рдмрд╣реБрддреЗрдХ рд╡реЗрдм рдЕтАНреЕрдкреНрд╕рдирд╛ рдпреЛрдЧреНрдп рдкреНрд░рдХрд╛рд░реЗ рдХрд╛рд░реНрдп рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЕрд╕рддреЗ. рд╕рд░реНрд╡ рдорд╣рддреНрддреНрд╡рд╛рдЪрд╛ рдбреЗрдЯрд╛ рд╕рд╛рдорд╛рдиреНрдпрддрдГ рдбреЗрдЯрд╛рдмреЗрд╕рдордзреНрдпреЗ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХреЗрд▓рд╛ рдЬрд╛рддреЛ рдЖрдгрд┐ рд╕рд░реНрд╡реНрд╣рд░ API рджреНрд╡рд╛рд░реЗ рдкреНрд░рд╡реЗрд╢ рдХреЗрд▓рд╛ рдЬрд╛рддреЛ, рдЬрд╕реЗ рдХреА рдЖрдордЪреНрдпрд╛ рдмрд╛рдмрддреАрдд рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдбреЗрдЯрд╛. рдкрд░рдВрддреБ рдХрдзреАрдХрдзреА, рдмреНрд░рд╛рдЙрдЭрд░рдордзреНрдпреЗ рдЪрд╛рд▓рдгрд╛рд▒реНрдпрд╛ рдХреНрд▓рд╛рдпрдВрдЯ рдЕтАНреЕрдкрд╡рд░ рдХрд╛рд╣реА рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдгреЗ рджреЗрдЦреАрд▓ рдордиреЛрд░рдВрдЬрдХ рдЕрд╕рддреЗ, рдЪрд╛рдВрдЧрд▓реНрдпрд╛ рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЕрдиреБрднрд╡рд╛рд╕рд╛рдареА рдХрд┐рдВрд╡рд╛ рд▓реЛрдбрд┐рдВрдЧ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╕реБрдзрд╛рд░рдгреНрдпрд╛рд╕рд╛рдареА.

рддреБрдореНрд╣рд╛рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдмреНрд░рд╛рдЙрдЭрд░рдордзреНрдпреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд╛рдпрдЪрд╛ рдЕрд╕рд▓реНрдпрд╛рд╕, рддреБрдореНрд╣реА рд╕реНрд╡рддрдГрд▓рд╛ рдХрд╛рд╣реА рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдкреНрд░рд╢реНрди рд╡рд┐рдЪрд╛рд░рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗрдд:

- *рдбреЗрдЯрд╛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЖрд╣реЗ рдХрд╛?* рддреБрдореНрд╣реА рдХреНрд▓рд╛рдпрдВрдЯрд╡рд░ рдХреЛрдгрддрд╛рд╣реА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рдЪреЗ рдЯрд╛рд│рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ, рдЬрд╕реЗ рдХреА рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб.
- *рддреБрдореНрд╣рд╛рд▓рд╛ рдХрд┐рддреА рдХрд╛рд│рд╛рд╕рд╛рдареА рд╣рд╛ рдбреЗрдЯрд╛ рдареЗрд╡рд╛рдпрдЪрд╛ рдЖрд╣реЗ?* рддреБрдореНрд╣реА рд╣рд╛ рдбреЗрдЯрд╛ рдлрдХреНрдд рдЪрд╛рд▓реВ рд╕рддреНрд░рд╛рд╕рд╛рдареА рдкреНрд░рд╡реЗрд╢ рдХрд░рдгреНрдпрд╛рдЪреА рдпреЛрдЬрдирд╛ рдЖрдЦрдд рдЖрд╣рд╛рдд рдХреА рддреБрдореНрд╣рд╛рд▓рд╛ рддреЛ рдХрд╛рдпрдорд╕реНрд╡рд░реВрдкреА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рд╛рдпрдЪрд╛ рдЖрд╣реЗ?

рд╡реЗрдм рдЕтАНреЕрдкрдордзреНрдпреЗ рдорд╛рд╣рд┐рддреА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рдЪреЗ рдЕрдиреЗрдХ рдорд╛рд░реНрдЧ рдЖрд╣реЗрдд, рддреБрдореНрд╣рд╛рд▓рд╛ рдХрд╛рдп рд╕рд╛рдзреНрдп рдХрд░рд╛рдпрдЪреЗ рдЖрд╣реЗ рдпрд╛рд╡рд░ рдЕрд╡рд▓рдВрдмреВрди. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рддреБрдореНрд╣реА URL рд╡рд╛рдкрд░реВрди рд╢реЛрдз рдХреНрд╡реЗрд░реА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░реВ рд╢рдХрддрд╛ рдЖрдгрд┐ рддреА рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдВрдордзреНрдпреЗ рд╢реЗрдЕрд░ рдХрд░рдгреНрдпрд╛рдпреЛрдЧреНрдп рдмрдирд╡реВ рд╢рдХрддрд╛. рддреБрдореНрд╣реА [HTTP cookies](https://developer.mozilla.org/docs/Web/HTTP/Cookies) рджреЗрдЦреАрд▓ рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛ рдЬрд░ рдбреЗрдЯрд╛ рд╕рд░реНрд╡реНрд╣рд░рд╕рд╣ рд╢реЗрдЕрд░ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЕрд╕реЗрд▓, рдЬрд╕реЗ рдХреА [authentication](https://en.wikipedia.org/wiki/Authentication) рдорд╛рд╣рд┐рддреА.

рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреЗрдХ рдмреНрд░рд╛рдЙрдЭрд░ APIs рдЖрд╣реЗрдд, рддреНрдпрд╛рдкреИрдХреА рджреЛрди рд╡рд┐рд╢реЗрд╖рддрдГ рдордиреЛрд░рдВрдЬрдХ рдЖрд╣реЗрдд:

- [`localStorage`](https://developer.mozilla.org/docs/Web/API/Window/localStorage): рдПрдХ [Key/Value store](https://en.wikipedia.org/wiki/Key%E2%80%93value_database) рдЬреЛ рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯрд╕рд╛рдареА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдбреЗрдЯрд╛ рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рд╕рддреНрд░рд╛рдВрдордзреНрдпреЗ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рддреЛ. рдпрд╛рдд рд╕рдВрдЧреНрд░рд╣рд┐рдд рдбреЗрдЯрд╛ рдХрдзреАрд╣реА рдПрдХреНрд╕рдкрд╛рдпрд░ рд╣реЛрдд рдирд╛рд╣реА.
- [`sessionStorage`](https://developer.mozilla.org/docs/Web/API/Window/sessionStorage): рд╣реЗ `localStorage` рдкреНрд░рдорд╛рдгреЗрдЪ рдХрд╛рд░реНрдп рдХрд░рддреЗ рдкрд░рдВрддреБ рдпрд╛рдд рд╕рдВрдЧреНрд░рд╣рд┐рдд рдбреЗрдЯрд╛ рд╕рддреНрд░ рд╕рдВрдкрд▓реНрдпрд╛рд╡рд░ (рдмреНрд░рд╛рдЙрдЭрд░ рдмрдВрдж рдЭрд╛рд▓реНрдпрд╛рд╡рд░) рд╕рд╛рдл рдХреЗрд▓рд╛ рдЬрд╛рддреЛ.

рд▓рдХреНрд╖рд╛рдд рдШреНрдпрд╛ рдХреА рдпрд╛ рджреЛрдиреНрд╣реА APIs рдлрдХреНрдд [strings](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рдЪреА рдкрд░рд╡рд╛рдирдЧреА рджреЗрддрд╛рдд. рддреБрдореНрд╣рд╛рд▓рд╛ рдЬрдЯрд┐рд▓ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рд╛рдпрдЪреЗ рдЕрд╕рд▓реНрдпрд╛рд╕, рддреБрдореНрд╣рд╛рд▓рд╛ [`JSON.stringify()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) рд╡рд╛рдкрд░реВрди рддреЗ [JSON](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON) рд╕реНрд╡рд░реВрдкрд╛рдд рд╕рд┐рд░реАрдпрд▓рд╛рдЗрдЭ рдХрд░рд╛рд╡реЗ рд▓рд╛рдЧреЗрд▓.

тЬЕ рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рд╕рд░реНрд╡реНрд╣рд░рд╢рд┐рд╡рд╛рдп рдХрд╛рд░реНрдп рдХрд░рдгрд╛рд░рд╛ рд╡реЗрдм рдЕтАНреЕрдк рддрдпрд╛рд░ рдХрд░рд╛рдпрдЪрд╛ рдЕрд╕реЗрд▓, рддрд░ [`IndexedDB` API](https://developer.mozilla.org/docs/Web/API/IndexedDB_API) рд╡рд╛рдкрд░реВрди рдХреНрд▓рд╛рдпрдВрдЯрд╡рд░ рдбреЗрдЯрд╛рдмреЗрд╕ рддрдпрд╛рд░ рдХрд░рдгреЗ рджреЗрдЦреАрд▓ рд╢рдХреНрдп рдЖрд╣реЗ. рд╣реЗ рдкреНрд░рдЧрдд рдЙрдкрдпреЛрдЧ рдкреНрд░рдХрд░рдгрд╛рдВрд╕рд╛рдареА рдХрд┐рдВрд╡рд╛ рддреБрдореНрд╣рд╛рд▓рд╛ рдореЛрдареНрдпрд╛ рдкреНрд░рдорд╛рдгрд╛рдд рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рд╛рдпрдЪрд╛ рдЕрд╕рд▓реНрдпрд╛рд╕ рд░рд╛рдЦреАрд╡ рдЖрд╣реЗ, рдХрд╛рд░рдг рддреЗ рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЖрд╣реЗ.

### рдХрд╛рд░реНрдп

рдЖрдореНрд╣рд╛рд▓рд╛ рдЖрдордЪреНрдпрд╛ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдВрдирд╛ *рд▓реЙрдЧрдЖрдЙрдЯ* рдмрдЯрдгрд╛рд╡рд░ рд╕реНрдкрд╖реНрдЯрдкрдгреЗ рдХреНрд▓рд┐рдХ рдХрд░реЗрдкрд░реНрдпрдВрдд рд▓реЙрдЧ рдЗрди рдареЗрд╡рд╛рдпрдЪреЗ рдЖрд╣реЗ, рддреНрдпрд╛рдореБрд│реЗ рдЖрдореНрд╣реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА `localStorage` рд╡рд╛рдкрд░реВ. рдкреНрд░рдердо, рдЖрдкрдг рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рдХреА рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реВрдпрд╛.

```js
const storageKey = 'savedAccount';
```

рдордЧ `updateState()` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╢реЗрд╡рдЯреА рд╣реА рдУрд│ рдЬреЛрдбрд╛:

```js
localStorage.setItem(storageKey, JSON.stringify(state.account));
```

рдпрд╛рдореБрд│реЗ, рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд▓рд╛ рдЬрд╛рдИрд▓ рдЖрдгрд┐ рдЖрдкрдг рдкреВрд░реНрд╡реА рдХреЗрдВрджреНрд░реАрдХреГрдд рдХреЗрд▓реЗрд▓реНрдпрд╛ рд╕рд░реНрд╡ рд╕реНрдЯреЗрдЯ рдЕрдкрдбреЗрдЯреНрд╕рдореБрд│реЗ рдиреЗрд╣рдореА рдЕрджреНрдпрдпрд╛рд╡рдд рд░рд╛рд╣реАрд▓. рд╣реЗрдЪ рдЖрд╣реЗ рдЬрд┐рдереЗ рдЖрдкрд▓реНрдпрд╛рд▓рд╛ рдЖрдкрд▓реНрдпрд╛ рдкреВрд░реНрд╡реАрдЪреНрдпрд╛ рд░рд┐рдлреЕрдХреНрдЯрд░рд┐рдВрдЧрдЪрд╛ рдлрд╛рдпрджрд╛ рд╣реЛрддреЛ ЁЯЩВ.

рдбреЗрдЯрд╛ рд╕реЗрд╡реНрд╣ рдХреЗрд▓рд╛ рдЬрд╛рдд рдЕрд╕рд▓реНрдпрд╛рдиреЗ, рдЕтАНреЕрдк рд▓реЛрдб рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рддреЛ рдкреБрдирд░реНрд╕рдВрдЪрдпрд┐рдд рдХрд░рдгреНрдпрд╛рдЪреА рдХрд╛рд│рдЬреА рдШреЗрдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ. рдЖрддрд╛ рдЖрдкрд▓реНрдпрд╛рдХрдбреЗ рдЕрдзрд┐рдХ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдпрдЭреЗрд╢рди рдХреЛрдб рдЕрд╕рдгрд╛рд░ рдЖрд╣реЗ, рддреНрдпрд╛рдореБрд│реЗ `app.js` рдЪреНрдпрд╛ рддрд│рд╛рд╢реА рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдЖрдордЪреНрдпрд╛ рдкреВрд░реНрд╡реАрдЪреНрдпрд╛ рдХреЛрдбрд╕рд╣ рдирд╡реАрди `init` рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рдгреЗ рдЪрд╛рдВрдЧрд▓реА рдХрд▓реНрдкрдирд╛ рдЕрд╕реВ рд╢рдХрддреЗ:

```js
function init() {
  const savedAccount = localStorage.getItem(storageKey);
  if (savedAccount) {
    updateState('account', JSON.parse(savedAccount));
  }

  // Our previous initialization code
  window.onpopstate = () => updateRoute();
  updateRoute();
}

init();
```

рдпреЗрдереЗ рдЖрдореНрд╣реА рд╕реЗрд╡реНрд╣ рдХреЗрд▓реЗрд▓рд╛ рдбреЗрдЯрд╛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рддреЛ рдЖрдгрд┐ рдЬрд░ рдХрд╛рд╣реА рдЕрд╕реЗрд▓ рддрд░ рдЖрдореНрд╣реА рддреНрдпрд╛рдиреБрд╕рд╛рд░ рд╕реНрдЯреЗрдЯ рдЕрдкрдбреЗрдЯ рдХрд░рддреЛ. рд╣реЗ *рдкреГрд╖реНрда рдЕрджреНрдпрддрди* рджрд░рдореНрдпрд╛рди рд╕реНрдЯреЗрдЯрд╡рд░ рдЕрд╡рд▓рдВрдмреВрди рдЕрд╕рд▓реЗрд▓рд╛ рдХреЛрдб рдЕрд╕реВ рд╢рдХрддреЛ рдореНрд╣рдгреВрди рд░реВрдЯ рдЕрдкрдбреЗрдЯ рдХрд░рдгреНрдпрд╛рдкреВрд░реНрд╡реА рд╣реЗ рдХрд░рдгреЗ рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдЖрд╣реЗ.

рдЖрдореНрд╣реА *рдбреЕрд╢рдмреЛрд░реНрдб* рдкреГрд╖реНрда рдЖрдордЪреНрдпрд╛ рдЕтАНреЕрдкреНрд▓рд┐рдХреЗрд╢рдирдЪреЗ рдбреАрдлреЙрд▓реНрдЯ рдкреГрд╖реНрда рдмрдирд╡реВ рд╢рдХрддреЛ, рдХрд╛рд░рдг рдЖрддрд╛ рдЖрдореНрд╣реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдд рдЖрд╣реЛрдд. рдЬрд░ рдХреЛрдгрддрд╛рд╣реА рдбреЗрдЯрд╛ рд╕рд╛рдкрдбрд▓рд╛ рдирд╛рд╣реА, рддрд░ рдбреЕрд╢рдмреЛрд░реНрдб *рд▓реЙрдЧрд┐рди* рдкреГрд╖реНрдард╛рд╡рд░ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХрд░рдгреНрдпрд╛рдЪреА рдХрд╛рд│рдЬреА рдШреЗрддреЛ. `updateRoute()` рдордзреНрдпреЗ, рдлреЙрд▓рдмреЕрдХ `return navigate('/login');` рдмрджрд▓рд╛ `return navigate('/dashboard');`.

рдЖрддрд╛ рдЕтАНреЕрдкрдордзреНрдпреЗ рд▓реЙрдЧрд┐рди рдХрд░рд╛ рдЖрдгрд┐ рдкреГрд╖реНрда рд░рд┐рдлреНрд░реЗрд╢ рдХрд░реВрди рдкрд╣рд╛. рддреБрдореНрд╣реА рдбреЕрд╢рдмреЛрд░реНрдбрд╡рд░рдЪ рд░рд╛рд╣рд╛рд▓. рдпрд╛ рдЕрдкрдбреЗрдЯрд╕рд╣ рдЖрдкрдг рдЖрдкрд▓реНрдпрд╛ рд╕рд░реНрд╡ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХреЗрд▓реЗ рдЖрд╣реЗ...

## рдбреЗрдЯрд╛ рд░рд┐рдлреНрд░реЗрд╢ рдХрд░рд╛

...рдкрд░рдВрддреБ рдЖрдкрдг рдирд╡реАрди рд╕рдорд╕реНрдпрд╛ рдирд┐рд░реНрдорд╛рдг рдХреЗрд▓реА рдЕрд╕рд╛рд╡реА. рдУрд╣!

`test` рдЦрд╛рддреЗ рд╡рд╛рдкрд░реВрди рдбреЕрд╢рдмреЛрд░реНрдбрд╡рд░ рдЬрд╛, рдирдВрддрд░ рдЯрд░реНрдорд┐рдирд▓рд╡рд░ рд╣реА рдХрдорд╛рдВрдб рдЪрд╛рд▓рд╡рд╛ рдЖрдгрд┐ рдирд╡реАрди рд╡реНрдпрд╡рд╣рд╛рд░ рддрдпрд╛рд░ рдХрд░рд╛:

```sh
curl --request POST \
     --header "Content-Type: application/json" \
     --data "{ \"date\": \"2020-07-24\", \"object\": \"Bought book\", \"amount\": -20 }" \
     http://localhost:5000/api/accounts/test/transactions
```

рдЖрддрд╛ рдмреНрд░рд╛рдЙрдЭрд░рдордзреНрдпреЗ рдбреЕрд╢рдмреЛрд░реНрдб рдкреГрд╖реНрда рд░рд┐рдлреНрд░реЗрд╢ рдХрд░реВрди рдкрд╣рд╛. рдХрд╛рдп рд╣реЛрддреЗ? рддреБрдореНрд╣рд╛рд▓рд╛ рдирд╡реАрди рд╡реНрдпрд╡рд╣рд╛рд░ рджрд┐рд╕рддреЛ рдХрд╛?

`localStorage` рдореБрд│реЗ рд╕реНрдЯреЗрдЯ рдЕрдирд┐рд╢реНрдЪрд┐рдд рдХрд╛рд│рд╛рд╕рд╛рдареА рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд▓рд╛ рдЬрд╛рддреЛ, рдкрд░рдВрддреБ рдпрд╛рдЪрд╛ рдЕрд░реНрде рддреЛ рдкреБрдиреНрд╣рд╛ рд▓реЙрдЧ рдЖрдЙрдЯ рдЖрдгрд┐ рд▓реЙрдЧ рдЗрди рдХреЗрд▓реНрдпрд╛рд╢рд┐рд╡рд╛рдп рдХрдзреАрд╣реА рдЕрдкрдбреЗрдЯ рд╣реЛрдд рдирд╛рд╣реА!

рдпрд╛рд╡рд░ рдЙрдкрд╛рдп рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рд╕рдВрднрд╛рд╡реНрдп рд░рдгрдиреАрддреА рдореНрд╣рдгрдЬреЗ рдбреЕрд╢рдмреЛрд░реНрдб рд▓реЛрдб рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдкреНрд░рддреНрдпреЗрдХ рд╡реЗрд│реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдкреБрдиреНрд╣рд╛ рд▓реЛрдб рдХрд░рдгреЗ, рдЬреЗрдгреЗрдХрд░реВрди рдЬреБрдирд╛ рдбреЗрдЯрд╛ рдЯрд╛рд│рддрд╛ рдпреЗрдИрд▓.

### рдХрд╛рд░реНрдп

рдирд╡реАрди `updateAccountData` рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рд╛:

```js
async function updateAccountData() {
  const account = state.account;
  if (!account) {
    return logout();
  }

  const data = await getAccount(account.user);
  if (data.error) {
    return logout();
  }

  updateState('account', data);
}
```

рд╣реЗ рдлрдВрдХреНрд╢рди рддрдкрд╛рд╕рддреЗ рдХреА рдЖрдкрдг рд╕рдзреНрдпрд╛ рд▓реЙрдЧ рдЗрди рдЖрд╣реЛрдд рдЖрдгрд┐ рдирдВрддрд░ рд╕рд░реНрд╡реНрд╣рд░рд╡рд░реВрди рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдкреБрдиреНрд╣рд╛ рд▓реЛрдб рдХрд░рддреЗ.

`refresh` рдирд╛рд╡рд╛рдЪреЗ рдЖрдгрдЦреА рдПрдХ рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рд╛:

```js
async function refresh() {
  await updateAccountData();
  updateDashboard();
}
```

рд╣реЗ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдЕрдкрдбреЗрдЯ рдХрд░рддреЗ рдЖрдгрд┐ рдирдВрддрд░ рдбреЕрд╢рдмреЛрд░реНрдб рдкреГрд╖реНрдард╛рдЪреНрдпрд╛ HTML рдЕрдкрдбреЗрдЯ рдХрд░рдгреНрдпрд╛рдЪреА рдХрд╛рд│рдЬреА рдШреЗрддреЗ. рд╣реЗрдЪ рдЖрдкрд▓реНрдпрд╛рд▓рд╛ рдбреЕрд╢рдмреЛрд░реНрдб рд░реВрдЯ рд▓реЛрдб рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдХреЙрд▓ рдХрд░рд╛рдпрдЪреЗ рдЖрд╣реЗ. рд░реВрдЯ рдбрд┐рдлрд┐рдирд┐рд╢рди рдЕрдкрдбреЗрдЯ рдХрд░рд╛:

```js
const routes = {
  '/login': { templateId: 'login' },
  '/dashboard': { templateId: 'dashboard', init: refresh }
};
```

рдЖрддрд╛ рдбреЕрд╢рдмреЛрд░реНрдб рд░рд┐рдлреНрд░реЗрд╢ рдХрд░реВрди рдкрд╣рд╛, рддреЗ рдЕрдкрдбреЗрдЯ рдХреЗрд▓реЗрд▓рд╛ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрд▓.

---

## ЁЯЪА рдЖрд╡реНрд╣рд╛рди

рдЖрддрд╛ рдЖрдкрдг рдбреЕрд╢рдмреЛрд░реНрдб рд▓реЛрдб рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдкреНрд░рддреНрдпреЗрдХ рд╡реЗрд│реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдкреБрдиреНрд╣рд╛ рд▓реЛрдб рдХрд░рддреЛ, рддреБрдореНрд╣рд╛рд▓рд╛ рдЕрд╕реЗ рд╡рд╛рдЯрддреЗ рдХрд╛ рдХреА рдЖрдкрд▓реНрдпрд╛рд▓рд╛
[рд╡реНрдпрд╛рдЦреНрдпрд╛рдирд╛рдирдВрддрд░рдЪрд╛ рдкреНрд░рд╢реНрдирдордВрдЬреВрд╖рд╛](https://ff-quizzes.netlify.app/web/quiz/48)

## рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ

["Add transaction" рд╕рдВрд╡рд╛рдж рд▓рд╛рдЧреВ рдХрд░рд╛](assignment.md)

рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдкреВрд░реНрдг рдХреЗрд▓реНрдпрд╛рдирдВрддрд░рдЪрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░рд┐рдгрд╛рдо рдпреЗрдереЗ рджрд┐рд▓рд╛ рдЖрд╣реЗ:

!["Add transaction" рд╕рдВрд╡рд╛рджрд╛рдЪреЗ рдЙрджрд╛рд╣рд░рдг рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рджрд╛рдЦрд╡рдд рдЖрд╣реЗ](../../../../translated_images/dialog.93bba104afeb79f12f65ebf8f521c5d64e179c40b791c49c242cf15f7e7fab15.mr.png)

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рд╡рд╛рдкрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА рдХреГрдкрдпрд╛ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдЙрджреНрднрд╡рд▓реЗрд▓реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.