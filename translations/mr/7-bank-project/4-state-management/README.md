<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b46acf79da8550d76445eed00b06c878",
  "translation_date": "2025-10-03T12:55:21+00:00",
  "source_file": "7-bank-project/4-state-management/README.md",
  "language_code": "mr"
}
-->
# рдмрдБрдХрд┐рдВрдЧ рдЕтАНреЕрдк рддрдпрд╛рд░ рдХрд░рд╛ рднрд╛рдЧ 4: рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯрдЪреА рд╕рдВрдХрд▓реНрдкрдирд╛

## рдкреВрд░реНрд╡-рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдкреНрд░рд╢реНрдирдордВрдЬреБрд╖рд╛

[рдкреВрд░реНрд╡-рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдкреНрд░рд╢реНрдирдордВрдЬреБрд╖рд╛](https://ff-quizzes.netlify.app/web/quiz/47)

### рдкрд░рд┐рдЪрдп

рдЬрд╕реЗ рдЬрд╕реЗ рд╡реЗрдм рдЕтАНреЕрдкреНрд▓рд┐рдХреЗрд╢рди рдореЛрдареЗ рд╣реЛрддреЗ, рддрд╕рддрд╕реЗ рд╕рд░реНрд╡ рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣рд╛рдВрдЪрд╛ рдорд╛рдЧреЛрд╡рд╛ рдареЗрд╡рдгреЗ рдХрдареАрдг рд╣реЛрддреЗ. рдХреЛрдгрддрд╛ рдХреЛрдб рдбреЗрдЯрд╛ рдорд┐рд│рд╡рддреЛ, рдХреЛрдгрддреЗ рдкреГрд╖реНрда рддреЛ рд╡рд╛рдкрд░рддреЗ, рддреЛ рдХрдзреА рдЖрдгрд┐ рдХреБрдареЗ рдЕрджреНрдпрддрдирд┐рдд рдХрд░рд╛рдпрдЪрд╛ рдЖрд╣реЗ... рд╣реЗ рд╕рд░реНрд╡ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рдгреЗ рдХрдареАрдг рд╣реЛрдК рд╢рдХрддреЗ рдЖрдгрд┐ рддреНрдпрд╛рдореБрд│реЗ рдХреЛрдб рдЧреЛрдВрдзрд│рд▓реЗрд▓рд╛ рдЖрдгрд┐ рджреЗрдЦрднрд╛рд▓ рдХрд░рдгреЗ рдХрдареАрдг рд╣реЛрддреЛ. рд╣реЗ рд╡рд┐рд╢реЗрд╖рддрдГ рдЦрд░реЗ рдЖрд╣реЗ рдЬреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣рд╛рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдЕтАНреЕрдкрдЪреНрдпрд╛ рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рдкреГрд╖реНрдард╛рдВрдордзреНрдпреЗ рдбреЗрдЯрд╛ рд╕рд╛рдорд╛рдпрд┐рдХ рдХрд░рд╛рдпрдЪрд╛ рдЕрд╕рддреЛ, рдЬрд╕реЗ рдХреА рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪрд╛ рдбреЗрдЯрд╛. *рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯ* рд╣реА рд╕рдВрдХрд▓реНрдкрдирд╛ рд╕рд░реНрд╡ рдкреНрд░рдХрд╛рд░рдЪреНрдпрд╛ рдкреНрд░реЛрдЧреНрд░рд╛рдореНрд╕рдордзреНрдпреЗ рдиреЗрд╣рдореАрдЪ рдЕрд╕реНрддрд┐рддреНрд╡рд╛рдд рд╣реЛрддреА, рдкрд░рдВрддреБ рд╡реЗрдм рдЕтАНреЕрдкреНрд╕рдЪреА рдЬрдЯрд┐рд▓рддрд╛ рд╡рд╛рдврдд рдЕрд╕рд▓реНрдпрд╛рдиреЗ рд╡рд┐рдХрд╛рд╕рд╛рджрд░рдореНрдпрд╛рди рдпрд╛рдЪрд╛ рд╡рд┐рдЪрд╛рд░ рдХрд░рдгреЗ рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдард░рддреЗ.

рдпрд╛ рдЕрдВрддрд┐рдо рднрд╛рдЧрд╛рдд, рдЖрдкрдг рддрдпрд╛рд░ рдХреЗрд▓реЗрд▓реНрдпрд╛ рдЕтАНреЕрдкрд╡рд░ рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░ рдХрд░реВ рдЖрдгрд┐ рд╕реНрдЯреЗрдЯ рдХрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрд┐рдд рдХрд░рд╛рдпрдЪреЗ рдпрд╛рд╡рд░ рд▓рдХреНрд╖ рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реВ, рдЬреНрдпрд╛рдореБрд│реЗ рдХреЛрдгрддреНрдпрд╛рд╣реА рдХреНрд╖рдгреА рдмреНрд░рд╛рдЙрдЭрд░ рд░реАрдлреНрд░реЗрд╢рд▓рд╛ рд╕рдорд░реНрдерди рдорд┐рд│реЗрд▓ рдЖрдгрд┐ рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рд╕рддреНрд░рд╛рдВрдордзреНрдпреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рддрд╛ рдпреЗрдИрд▓.

### рдкреВрд░реНрд╡рдЕрдЯ

рдпрд╛ рдзрдбреНрдпрд╛рд╕рд╛рдареА рддреБрдореНрд╣реА [рдбреЗрдЯрд╛ рдлреЗрдЪрд┐рдВрдЧ](../3-data/README.md) рднрд╛рдЧ рдкреВрд░реНрдг рдХреЗрд▓реЗрд▓рд╛ рдЕрд╕рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ. рддреБрдореНрд╣рд╛рд▓рд╛ [Node.js](https://nodejs.org) рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдгреЗ рдЖрдгрд┐ [рд╕рд░реНрд╡реНрд╣рд░ API](../api/README.md) рд╕реНрдерд╛рдирд┐рдХрд░рд┐рддреНрдпрд╛ рдЪрд╛рд▓рд╡рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ рдЬреЗрдгреЗрдХрд░реВрди рддреБрдореНрд╣реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрд┐рдд рдХрд░реВ рд╢рдХрд╛рд▓.

рддреБрдореНрд╣реА рдЯрд░реНрдорд┐рдирд▓рдордзреНрдпреЗ рд╣рд╛ рдЖрджреЗрд╢ рдЪрд╛рд▓рд╡реВрди рд╕рд░реНрд╡реНрд╣рд░ рдпреЛрдЧреНрдпрд░рд┐рддреНрдпрд╛ рдЪрд╛рд▓реВ рдЖрд╣реЗ рдХрд╛ рддреЗ рддрдкрд╛рд╕реВ рд╢рдХрддрд╛:

```sh
curl http://localhost:5000/api
# -> should return "Bank API v1.0.0" as a result
```

---

## рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯрд╡рд░ рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░ рдХрд░рд╛

[рдорд╛рдЧреАрд▓ рдзрдбреНрдпрд╛рдд](../3-data/README.md), рдЖрдореНрд╣реА `account` рдирд╛рд╡рд╛рдЪреНрдпрд╛ рдЧреНрд▓реЛрдмрд▓ рд╡реНрд╣реЗрд░рд┐рдПрдмрд▓рд╕рд╣ рдЕтАНреЕрдкрдордзреНрдпреЗ рд╕реНрдЯреЗрдЯрдЪреА рдореВрд▓рднреВрдд рд╕рдВрдХрд▓реНрдкрдирд╛ рд╕рд╛рджрд░ рдХреЗрд▓реА, рдЬреНрдпрд╛рдордзреНрдпреЗ рд╕рдзреНрдпрд╛ рд▓реЙрдЧ рдЗрди рдХреЗрд▓реЗрд▓реНрдпрд╛ рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪрд╛ рдмрдБрдХ рдбреЗрдЯрд╛ рдЖрд╣реЗ. рддрдерд╛рдкрд┐, рдЖрдордЪреНрдпрд╛ рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рдЕрдВрдорд▓рдмрдЬрд╛рд╡рдгреАрдд рдХрд╛рд╣реА рддреНрд░реБрдЯреА рдЖрд╣реЗрдд. рдбреЕрд╢рдмреЛрд░реНрдбрд╡рд░ рдЕрд╕рддрд╛рдирд╛ рдкреГрд╖реНрда рд░реАрдлреНрд░реЗрд╢ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛. рдХрд╛рдп рд╣реЛрддреЗ?

рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рдХреЛрдбрдордзреНрдпреЗ 3 рд╕рдорд╕реНрдпрд╛ рдЖрд╣реЗрдд:

- рд╕реНрдЯреЗрдЯ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд▓реА рдЬрд╛рдд рдирд╛рд╣реА, рдХрд╛рд░рдг рдмреНрд░рд╛рдЙрдЭрд░ рд░реАрдлреНрд░реЗрд╢ рдХреЗрд▓реНрдпрд╛рд╡рд░ рддреБрдореНрд╣рд╛рд▓рд╛ рд▓реЙрдЧрд┐рди рдкреГрд╖реНрдард╛рд╡рд░ рдкрд░рдд рдиреЗрд▓реЗ рдЬрд╛рддреЗ.
- рд╕реНрдЯреЗрдЯ рдмрджрд▓рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреЗрдХ рдлрдВрдХреНрд╢рдиреНрд╕ рдЖрд╣реЗрдд. рдЕтАНреЕрдк рдореЛрдареЗ рд╣реЛрдд рдЕрд╕рддрд╛рдирд╛, рдмрджрд▓рд╛рдВрдЪрд╛ рдорд╛рдЧреЛрд╡рд╛ рдареЗрд╡рдгреЗ рдХрдареАрдг рд╣реЛрдК рд╢рдХрддреЗ рдЖрдгрд┐ рдПрдЦрд╛рджреНрдпрд╛ рдЕрджреНрдпрддрдирд╛рдЪреА рдЖрдард╡рдг рд░рд╛рд╣реВ рд╢рдХрддреЗ.
- рд╕реНрдЯреЗрдЯ рд╕рд╛рдл рдХреЗрд▓реА рдЬрд╛рдд рдирд╛рд╣реА, рддреНрдпрд╛рдореБрд│реЗ рдЬреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣реА *рд▓реЙрдЧрдЖрдЙрдЯ* рдХреНрд▓рд┐рдХ рдХрд░рддрд╛, рддреЗрд╡реНрд╣рд╛ рд▓реЙрдЧрд┐рди рдкреГрд╖реНрдард╛рд╡рд░ рдЕрд╕рддрд╛рдирд╛рд╣реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рддрд┐рдереЗрдЪ рд░рд╛рд╣рддреЛ.

рдЖрдкрдг рдпрд╛ рд╕рдорд╕реНрдпрд╛рдВрд╡рд░ рдПрдХ рдПрдХ рдХрд░реВрди рдЙрдкрд╛рдп рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдб рдЕрджреНрдпрддрдирд┐рдд рдХрд░реВ рд╢рдХрддреЛ, рдкрд░рдВрддреБ рдпрд╛рдореБрд│реЗ рдХреЛрдб рдбреБрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рд╛рдвреЗрд▓ рдЖрдгрд┐ рдЕтАНреЕрдк рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЖрдгрд┐ рджреЗрдЦрднрд╛рд▓ рдХрд░рдгреЗ рдХрдареАрдг рд╣реЛрдИрд▓. рдХрд┐рдВрд╡рд╛ рдЖрдкрдг рдХрд╛рд╣реА рдорд┐рдирд┐рдЯреЗ рдерд╛рдВрдмреВрди рдЖрдкрд▓реНрдпрд╛ рд░рдгрдиреАрддреАрдЪрд╛ рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░ рдХрд░реВ рд╢рдХрддреЛ.

> рдпреЗрдереЗ рдЖрдкрдг рдЦрд░реЛрдЦрд░ рдХреЛрдгрддреНрдпрд╛ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рдд рдЖрд╣реЛрдд?

[рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯ](https://en.wikipedia.org/wiki/State_management) рдореНрд╣рдгрдЬреЗ рдпрд╛ рджреЛрди рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЪрд╛рдВрдЧрд▓рд╛ рджреГрд╖реНрдЯрд┐рдХреЛрди рд╢реЛрдзрдгреЗ:

- рдЕтАНреЕрдкрдордзреАрд▓ рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣ рд╕рдордЬрдгреНрдпрд╛рд╕рд╛рд░рдЦрд╛ рдХрд╕рд╛ рдареЗрд╡рд╛рдпрдЪрд╛?
- рд╕реНрдЯреЗрдЯ рдбреЗрдЯрд╛ рдиреЗрд╣рдореА рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлреЗрд╕рд╕рд╣ (рдЖрдгрд┐ рдЙрд▓рдЯ) рд╕рдордХреНрд░рдорд┐рдд рдХрд╕рд╛ рдареЗрд╡рд╛рдпрдЪрд╛?

рдПрдХрджрд╛ рддреБрдореНрд╣реА рдпрд╛рдВрдЪреА рдХрд╛рд│рдЬреА рдШреЗрддрд▓реА рдХреА, рддреБрдореНрд╣рд╛рд▓рд╛ рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдЗрддрд░ рдХреЛрдгрддреНрдпрд╛рд╣реА рд╕рдорд╕реНрдпрд╛ рдХрджрд╛рдЪрд┐рдд рдЖрдзреАрдЪ рдирд┐рд░рд╛рдХрд░рдг рдЭрд╛рд▓реНрдпрд╛ рдЕрд╕рддреАрд▓ рдХрд┐рдВрд╡рд╛ рддреНрдпрд╛ рд╕реЛрдбрд╡рдгреЗ рд╕реЛрдкреЗ рдЭрд╛рд▓реЗ рдЕрд╕реЗрд▓. рдпрд╛ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЕрдиреЗрдХ рджреГрд╖реНрдЯрд┐рдХреЛрди рдЖрд╣реЗрдд, рдкрд░рдВрддреБ рдЖрдореНрд╣реА **рдбреЗрдЯрд╛ рдЖрдгрд┐ рддреЛ рдмрджрд▓рдгреНрдпрд╛рдЪреНрдпрд╛ рдкрджреНрдзрддреА рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░рдгреНрдпрд╛рдЪрд╛** рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрд╛рдп рдирд┐рд╡рдбреВ. рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣ рдЕрд╕рд╛ рдЕрд╕реЗрд▓:

![HTML, рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдХреНрд░рд┐рдпрд╛ рдЖрдгрд┐ рд╕реНрдЯреЗрдЯ рдпрд╛рдВрдЪреНрдпрд╛рддреАрд▓ рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣ рджрд░реНрд╢рд╡рд┐рдгрд╛рд░реА рдпреЛрдЬрдирд╛](../../../../translated_images/data-flow.fa2354e0908fecc89b488010dedf4871418a992edffa17e73441d257add18da4.mr.png)

> рдпреЗрдереЗ рдбреЗрдЯрд╛ рд╕реНрд╡рдпрдВрдЪрд▓рд┐рддрдкрдгреЗ рджреГрд╢реНрдп рдЕрджреНрдпрддрдирд┐рдд рдХрд░рддреЛ рддреЛ рднрд╛рдЧ рдЖрдореНрд╣реА рдХрд╡реНрд╣рд░ рдХрд░рдгрд╛рд░ рдирд╛рд╣реА, рдХрд╛рд░рдг рддреЛ [Reactive Programming](https://en.wikipedia.org/wiki/Reactive_programming) рдЪреНрдпрд╛ рдЕрдзрд┐рдХ рдкреНрд░рдЧрдд рд╕рдВрдХрд▓реНрдкрдирд╛рдВрд╢реА рд╕рдВрдмрдВрдзрд┐рдд рдЖрд╣реЗ. рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рд╕рдЦреЛрд▓ рдЕрднреНрдпрд╛рд╕ рдХрд░рд╛рдпрдЪрд╛ рдЕрд╕реЗрд▓ рддрд░ рд╣рд╛ рдПрдХ рдЪрд╛рдВрдЧрд▓рд╛ рдкреБрдвреАрд▓ рд╡рд┐рд╖рдп рдЖрд╣реЗ.

тЬЕ рд╕реНрдЯреЗрдЯ рдореЕрдиреЗрдЬрдореЗрдВрдЯрд╕рд╛рдареА рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдирд╛рдВрд╕рд╣ рдЕрдиреЗрдХ рд▓рд╛рдпрдмреНрд░рд░реА рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗрдд, [Redux](https://redux.js.org) рд╣рд╛ рдПрдХ рд▓реЛрдХрдкреНрд░рд┐рдп рдкрд░реНрдпрд╛рдп рдЖрд╣реЗ. рдореЛрдареНрдпрд╛ рд╡реЗрдм рдЕтАНреЕрдкреНрд╕рдордзреНрдпреЗ рддреБрдореНрд╣реА рдХреЛрдгрддреНрдпрд╛ рд╕рдВрднрд╛рд╡реНрдп рд╕рдорд╕реНрдпрд╛рдВрдирд╛ рд╕рд╛рдореЛрд░реЗ рдЬрд╛рдК рд╢рдХрддрд╛ рдЖрдгрд┐ рддреНрдпрд╛ рдХрд╢рд╛ рд╕реЛрдбрд╡рддрд╛ рдпреЗрддреАрд▓ рд╣реЗ рд╢рд┐рдХрдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓реЗ рдЬрд╛рдгрд╛рд░реЗ рд╕рдВрдХрд▓реНрдкрдирд╛ рдЖрдгрд┐ рдкреЕрдЯрд░реНрди рдкрд╛рд╣рд╛.

### рдХрд╛рд░реНрдп

рдЖрдореНрд╣реА рдереЛрдбреЗрд╕реЗ рдХреЛрдб рдкреБрдирд░реНрд░рдЪрдирд╛ рдХрд░реВрди рд╕реБрд░реБрд╡рд╛рдд рдХрд░реВ. `account` рдбрд┐рдХреНрд▓реЗрд░реЗрд╢рди рдмрджрд▓рд╛:

```js
let account = null;
```

рдпрд╛рд╕рд╣:

```js
let state = {
  account: null
};
```

рдХрд▓реНрдкрдирд╛ рдореНрд╣рдгрдЬреЗ рд╕рд░реНрд╡ рдЕтАНреЕрдк рдбреЗрдЯрд╛ рдПрдХрд╛ рд╕рд┐рдВрдЧрд▓ рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯрдордзреНрдпреЗ *рдХреЗрдВрджреНрд░реАрдХреГрдд* рдХрд░рдгреЗ. рд╕рдзреНрдпрд╛ рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдлрдХреНрдд `account` рдЖрд╣реЗ рддреНрдпрд╛рдореБрд│реЗ рдлрд╛рд░рд╕рд╛ рдлрд░рдХ рдкрдбрдд рдирд╛рд╣реА, рдкрд░рдВрддреБ рднрд╡рд┐рд╖реНрдпрд╛рддреАрд▓ рдмрджрд▓рд╛рдВрд╕рд╛рдареА рдорд╛рд░реНрдЧ рддрдпрд╛рд░ рд╣реЛрддреЛ.

рдЖрдкрд▓реНрдпрд╛рд▓рд╛ рддреЗ рд╡рд╛рдкрд░рдгрд╛рд▒реНрдпрд╛ рдлрдВрдХреНрд╢рдиреНрд╕ рджреЗрдЦреАрд▓ рдЕрджреНрдпрддрдирд┐рдд рдХрд░рд╛рд╡реНрдпрд╛ рд▓рд╛рдЧрддреАрд▓. `register()` рдЖрдгрд┐ `login()` рдлрдВрдХреНрд╢рдиреНрд╕рдордзреНрдпреЗ, `account = ...` рд▓рд╛ `state.account = ...` рдиреЗ рдмрджрд▓рд╛;

`updateDashboard()` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╢реАрд░реНрд╖рд╕реНрдерд╛рдиреА, рд╣реА рдУрд│ рдЬреЛрдбрд╛:

```js
const account = state.account;
```

рдпрд╛ рдкреБрдирд░реНрд░рдЪрдиреЗрдиреЗ рд╕реНрд╡рддрдГрд╣реВрди рдлрд╛рд░рд╕реЗ рд╕реБрдзрд╛рд░рдгрд╛ рдХреЗрд▓реНрдпрд╛ рдирд╛рд╣реАрдд, рдкрд░рдВрддреБ рдкреБрдвреАрд▓ рдмрджрд▓рд╛рдВрд╕рд╛рдареА рдкрд╛рдпрд╛ рдШрд╛рд▓рдгреНрдпрд╛рдЪрд╛ рд╡рд┐рдЪрд╛рд░ рд╣реЛрддрд╛.

## рдбреЗрдЯрд╛ рдмрджрд▓рд╛рдВрдЪрд╛ рдорд╛рдЧреЛрд╡рд╛ рдШреНрдпрд╛

рдЖрддрд╛ рдЖрдкрдг рдбреЗрдЯрд╛ рд╕рд╛рдард╡рдгреНрдпрд╛рд╕рд╛рдареА `state` рдСрдмреНрдЬреЗрдХреНрдЯ рддрдпрд╛рд░ рдХреЗрд▓рд╛ рдЖрд╣реЗ, рдкреБрдвреАрд▓ рдкрд╛рдКрд▓ рдореНрд╣рдгрдЬреЗ рдЕрджреНрдпрддрдирд╛рдВрдирд╛ рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░рдгреЗ. рдЙрджреНрджрд┐рд╖реНрдЯ рдореНрд╣рдгрдЬреЗ рдХреЛрдгрддреЗрд╣реА рдмрджрд▓ рдЖрдгрд┐ рддреЗ рдХрдзреА рдШрдбрддрд╛рдд рдпрд╛рдЪрд╛ рдорд╛рдЧреЛрд╡рд╛ рдШреЗрдгреЗ рд╕реЛрдкреЗ рдХрд░рдгреЗ.

`state` рдСрдмреНрдЬреЗрдХреНрдЯрдордзреНрдпреЗ рдмрджрд▓ рд╣реЛрдК рдирдпреЗрдд рдпрд╛рд╕рд╛рдареА, рддреНрдпрд╛рд▓рд╛ [*immutable*](https://en.wikipedia.org/wiki/Immutable_object) рдорд╛рдирдгреЗ рдЪрд╛рдВрдЧрд▓реА рдкрджреНрдзрдд рдЖрд╣реЗ, рдореНрд╣рдгрдЬреЗ рддреНрдпрд╛рдд рдЕрдЬрд┐рдмрд╛рдд рдмрджрд▓ рдХрд░рддрд╛ рдпреЗрдгрд╛рд░ рдирд╛рд╣реА. рдпрд╛рдЪрд╛ рдЕрд░реНрде рдЕрд╕рд╛ рдХреА рддреБрдореНрд╣рд╛рд▓рд╛ рддреНрдпрд╛рдд рдХрд╛рд╣реАрд╣реА рдмрджрд▓ рдХрд░рд╛рдпрдЪреЗ рдЕрд╕рд▓реНрдпрд╛рд╕ рдирд╡реАрди рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рддрдпрд╛рд░ рдХрд░рд╛рд╡рд╛ рд▓рд╛рдЧреЗрд▓. рдЕрд╕реЗ рдХреЗрд▓реНрдпрд╛рдиреЗ, рддреБрдореНрд╣реА рд╕рдВрднрд╛рд╡реНрдп рдЕрд╡рд╛рдВрдЫрд┐рдд [side effects](https://en.wikipedia.org/wiki/Side_effect_(computer_science)) рдкрд╛рд╕реВрди рд╕рдВрд░рдХреНрд╖рдг рддрдпрд╛рд░ рдХрд░рддрд╛ рдЖрдгрд┐ рддреБрдордЪреНрдпрд╛ рдЕтАНреЕрдкрдордзреНрдпреЗ рдирд╡реАрди рд╡реИрд╢рд┐рд╖реНрдЯреНрдпреЗ рдЕрдВрдорд▓рд╛рдд рдЖрдгрдгреНрдпрд╛рдЪреНрдпрд╛ рд╢рдХреНрдпрддрд╛ рдЙрдШрдбрддрд╛, рдЬрд╕реЗ рдХреА undo/redo рдЕрдВрдорд▓рд╛рдд рдЖрдгрдгреЗ, рддрд╕реЗрдЪ рдбрд┐рдмрдЧ рдХрд░рдгреЗ рд╕реЛрдкреЗ рд╣реЛрддреЗ. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рддреБрдореНрд╣реА рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдХреЗрд▓реЗрд▓рд╛ рдкреНрд░рддреНрдпреЗрдХ рдмрджрд▓ рд▓реЙрдЧ рдХрд░реВ рд╢рдХрддрд╛ рдЖрдгрд┐ рдмрдЧрдЪрд╛ рд╕реНрд░реЛрдд рд╕рдордЬрдгреНрдпрд╛рд╕рд╛рдареА рдмрджрд▓рд╛рдВрдЪрд╛ рдЗрддрд┐рд╣рд╛рд╕ рдареЗрд╡реВ рд╢рдХрддрд╛.

JavaScript рдордзреНрдпреЗ, [`Object.freeze()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze) рд╡рд╛рдкрд░реВрди рдСрдмреНрдЬреЗрдХреНрдЯрдЪреА immutable рдЖрд╡реГрддреНрддреА рддрдпрд╛рд░ рдХрд░реВ рд╢рдХрддрд╛. рдЬрд░ рддреБрдореНрд╣реА immutable рдСрдмреНрдЬреЗрдХреНрдЯрдордзреНрдпреЗ рдмрджрд▓ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХреЗрд▓рд╛, рддрд░ рдЕрдкрд╡рд╛рдж рдирд┐рд░реНрдорд╛рдг рд╣реЛрдИрд▓.

тЬЕ рддреБрдореНрд╣рд╛рд▓рд╛ *shallow* рдЖрдгрд┐ *deep* immutable рдСрдмреНрдЬреЗрдХреНрдЯрдордзреАрд▓ рдлрд░рдХ рдорд╛рд╣рд┐рдд рдЖрд╣реЗ рдХрд╛? рддреБрдореНрд╣реА рдпрд╛рдмрджреНрджрд▓ [рдпреЗрдереЗ](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze#What_is_shallow_freeze) рд╡рд╛рдЪреВ рд╢рдХрддрд╛.

### рдХрд╛рд░реНрдп

рдирд╡реАрди `updateState()` рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░реВрдпрд╛:

```js
function updateState(property, newData) {
  state = Object.freeze({
    ...state,
    [property]: newData
  });
}
```

рдпрд╛ рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ, рдЖрдореНрд╣реА рдирд╡реАрди рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рддрдпрд╛рд░ рдХрд░рддреЛ рдЖрдгрд┐ [*spread (`...`) operator*](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_object_literals) рд╡рд╛рдкрд░реВрди рдорд╛рдЧреАрд▓ рд╕реНрдЯреЗрдЯрдордзреВрди рдбреЗрдЯрд╛ рдХреЙрдкреА рдХрд░рддреЛ. рддреНрдпрд╛рдирдВрддрд░ рдЖрдореНрд╣реА [bracket notation](https://developer.mozilla.org/docs/Web/JavaScript/Guide/Working_with_Objects#Objects_and_properties) `[property]` рд╡рд╛рдкрд░реВрди рд╕реНрдЯреЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯрдЪреНрдпрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░реЙрдкрд░реНрдЯреАрд▓рд╛ рдирд╡реАрди рдбреЗрдЯрд╛рд╕рд╣ рдУрд╡реНрд╣рд░рд░рд╛рдЗрдб рдХрд░рддреЛ. рд╢реЗрд╡рдЯреА, `Object.freeze()` рд╡рд╛рдкрд░реВрди рдСрдмреНрдЬреЗрдХреНрдЯ рд▓реЙрдХ рдХрд░рддреЛ. рд╕рдзреНрдпрд╛ рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдлрдХреНрдд `account` рдкреНрд░реЙрдкрд░реНрдЯреА рдЖрд╣реЗ, рдкрд░рдВрддреБ рдпрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдирд╛рдиреЗ рддреБрдореНрд╣реА рд╕реНрдЯреЗрдЯрдордзреНрдпреЗ рдЖрд╡рд╢реНрдпрдХ рддреЗрд╡рдвреНрдпрд╛ рдкреНрд░реЙрдкрд░реНрдЯреА рдЬреЛрдбреВ рд╢рдХрддрд╛.

`state` рдкреНрд░рд╛рд░рдВрднрд┐рдХрд░рдг рджреЗрдЦреАрд▓ рдЕрджреНрдпрддрдирд┐рдд рдХрд░реВ рдЬреЗрдгреЗрдХрд░реВрди рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдЯреЗрдЯ рджреЗрдЦреАрд▓ рдлреНрд░реАрдЬ рдХреЗрд▓реЗ рдЬрд╛рдИрд▓:

```js
let state = Object.freeze({
  account: null
});
```

рдпрд╛рдирдВрддрд░, `register` рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ `state.account = result;` рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдмрджрд▓реВрди:

```js
updateState('account', result);
```

`login` рдлрдВрдХреНрд╢рдирдордзреНрдпреЗ рджреЗрдЦреАрд▓ рддрд╕реЗрдЪ рдХрд░рд╛, `state.account = data;` рдмрджрд▓реВрди:

```js
updateState('account', data);
```

рдЖрддрд╛ рдЬреЗрд╡реНрд╣рд╛ рд╡рд╛рдкрд░рдХрд░реНрддрд╛ *Logout* рдХреНрд▓рд┐рдХ рдХрд░рддреЛ рддреЗрд╡реНрд╣рд╛ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рд╕рд╛рдл рди рд╣реЛрдгреНрдпрд╛рдЪреНрдпрд╛ рд╕рдорд╕реНрдпреЗрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХрд░рдгреНрдпрд╛рдЪреА рд╕рдВрдзреА рдШреЗрдКрдпрд╛.

рдирд╡реАрди `logout()` рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рд╛:

```js
function logout() {
  updateState('account', null);
  navigate('/login');
}
```

`updateDashboard()` рдордзреНрдпреЗ, `return navigate('/login');` рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рди рдмрджрд▓реВрди `return logout();` рдХрд░рд╛;

рдирд╡реАрди рдЦрд╛рддреЗ рдиреЛрдВрджрдгреА рдХрд░рд╛, рд▓реЙрдЧрдЖрдЙрдЯ рдХрд░рд╛ рдЖрдгрд┐ рдкреБрдиреНрд╣рд╛ рд▓реЙрдЧрд┐рди рдХрд░реВрди рд╕рд░реНрд╡ рдХрд╛рд╣реА рдпреЛрдЧреНрдпрд░рд┐рддреНрдпрд╛ рдХрд╛рд░реНрдпрд░рдд рдЖрд╣реЗ рдХрд╛ рддреЗ рддрдкрд╛рд╕рд╛.

> рдЯреАрдк: рддреБрдореНрд╣реА `updateState()` рдЪреНрдпрд╛ рддрд│рд╛рд╢реА `console.log(state)` рдЬреЛрдбреВрди рдЖрдгрд┐ рддреБрдордЪреНрдпрд╛ рдмреНрд░рд╛рдЙрдЭрд░рдЪреНрдпрд╛ рд╡рд┐рдХрд╛рд╕ рд╕рд╛рдзрдирд╛рдВрдордзреНрдпреЗ рдХрдиреНрд╕реЛрд▓ рдЙрдШрдбреВрди рд╕рд░реНрд╡ рд╕реНрдЯреЗрдЯ рдмрджрд▓ рдкрд╛рд╣реВ рд╢рдХрддрд╛.

## рд╕реНрдЯреЗрдЯ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд╛

рдмрд╣реБрддреЗрдХ рд╡реЗрдм рдЕтАНреЕрдкреНрд╕рдирд╛ рдпреЛрдЧреНрдпрд░рд┐рддреНрдпрд╛ рдХрд╛рд░реНрдп рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдгреНрдпрд╛рдЪреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдЕрд╕рддреЗ. рд╕рд░реНрд╡ рдорд╣рддреНрддреНрд╡рд╛рдЪрд╛ рдбреЗрдЯрд╛ рд╕рд╣рд╕рд╛ рдбреЗрдЯрд╛рдмреЗрд╕рдордзреНрдпреЗ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХреЗрд▓рд╛ рдЬрд╛рддреЛ рдЖрдгрд┐ рд╕рд░реНрд╡реНрд╣рд░ API рджреНрд╡рд╛рд░реЗ рдкреНрд░рд╡реЗрд╢ рдХреЗрд▓рд╛ рдЬрд╛рддреЛ, рдЬрд╕реЗ рдХреА рдЖрдордЪреНрдпрд╛ рдмрд╛рдмрддреАрдд рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдбреЗрдЯрд╛. рдкрд░рдВрддреБ рдХрдзреАрдХрдзреА, рдмреНрд░рд╛рдЙрдЭрд░рдордзреНрдпреЗ рдЪрд╛рд▓рдгрд╛рд▒реНрдпрд╛ рдХреНрд▓рд╛рдпрдВрдЯ рдЕтАНреЕрдкрд╡рд░ рдХрд╛рд╣реА рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдгреЗ рджреЗрдЦреАрд▓ рдордиреЛрд░рдВрдЬрдХ рдЕрд╕рддреЗ, рдЪрд╛рдВрдЧрд▓реНрдпрд╛ рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдЕрдиреБрднрд╡рд╛рд╕рд╛рдареА рдХрд┐рдВрд╡рд╛ рд▓реЛрдбрд┐рдВрдЧ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╕реБрдзрд╛рд░рдгреНрдпрд╛рд╕рд╛рдареА.

рдЬреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣рд╛рд▓рд╛ рддреБрдордЪреНрдпрд╛ рдмреНрд░рд╛рдЙрдЭрд░рдордзреНрдпреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд╛рдпрдЪрд╛ рдЕрд╕реЗрд▓, рддреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣реА рд╕реНрд╡рддрдГрд▓рд╛ рдХрд╛рд╣реА рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдкреНрд░рд╢реНрди рд╡рд┐рдЪрд╛рд░рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗрдд:

- *рдбреЗрдЯрд╛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЖрд╣реЗ рдХрд╛?* рддреБрдореНрд╣реА рдХреНрд▓рд╛рдпрдВрдЯрд╡рд░ рдХреЛрдгрддрд╛рд╣реА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреЗ рдЯрд╛рд│рд▓реЗ рдкрд╛рд╣рд┐рдЬреЗ, рдЬрд╕реЗ рдХреА рд╡рд╛рдкрд░рдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб.
- *рддреБрдореНрд╣рд╛рд▓рд╛ рд╣рд╛ рдбреЗрдЯрд╛ рдХрд┐рддреА рдХрд╛рд│ рдареЗрд╡рд╛рдпрдЪрд╛ рдЖрд╣реЗ?* рддреБрдореНрд╣реА рд╣рд╛ рдбреЗрдЯрд╛ рдлрдХреНрдд рдЪрд╛рд▓реВ рд╕рддреНрд░рд╛рд╕рд╛рдареА рдкреНрд░рд╡реЗрд╢ рдХрд░рдгреНрдпрд╛рдЪреА рдпреЛрдЬрдирд╛ рдЖрдЦрдд рдЖрд╣рд╛рдд рдХреА рддреБрдореНрд╣рд╛рд▓рд╛ рддреЛ рдХрд╛рдпрдорд╕реНрд╡рд░реВрдкреА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рд╛рдпрдЪрд╛ рдЖрд╣реЗ?

рд╡реЗрдм рдЕтАНреЕрдкрдордзреНрдпреЗ рдорд╛рд╣рд┐рддреА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рдЪреЗ рдЕрдиреЗрдХ рдорд╛рд░реНрдЧ рдЖрд╣реЗрдд, рддреБрдореНрд╣рд╛рд▓рд╛ рдХрд╛рдп рд╕рд╛рдзреНрдп рдХрд░рд╛рдпрдЪреЗ рдЖрд╣реЗ рдпрд╛рд╡рд░ рдЕрд╡рд▓рдВрдмреВрди. рдЙрджрд╛рд╣рд░рдгрд╛рд░реНрде, рддреБрдореНрд╣реА рд╢реЛрдз рдХреНрд╡реЗрд░реА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА URL рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛ рдЖрдгрд┐ рддреА рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдВрдордзреНрдпреЗ рд╢реЗрдЕрд░ рдХрд░рдгреНрдпрд╛рдпреЛрдЧреНрдп рдмрдирд╡реВ рд╢рдХрддрд╛. рдЬрд░ рдбреЗрдЯрд╛ рд╕рд░реНрд╡реНрд╣рд░рд╕рд╣ рд╢реЗрдЕрд░ рдХрд░рдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЕрд╕реЗрд▓, рдЬрд╕реЗ рдХреА [authentication](https://en.wikipedia.org/wiki/Authentication) рдорд╛рд╣рд┐рддреА, рддрд░ рддреБрдореНрд╣реА [HTTP cookies](https://developer.mozilla.org/docs/Web/HTTP/Cookies) рд╡рд╛рдкрд░реВ рд╢рдХрддрд╛.

рдмреНрд░рд╛рдЙрдЭрд░ API рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рдЪрд╛ рдЖрдгрдЦреА рдПрдХ рдкрд░реНрдпрд╛рдп рдЖрд╣реЗ. рдпрд╛рдкреИрдХреА рджреЛрди рд╡рд┐рд╢реЗрд╖рддрдГ рдордиреЛрд░рдВрдЬрдХ рдЖрд╣реЗрдд:

- [`localStorage`](https://developer.mozilla.org/docs/Web/API/Window/localStorage): рдПрдХ [Key/Value store](https://en.wikipedia.org/wiki/Key%E2%80%93value_database) рдЬреЗ рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯрд╕рд╛рдареА рдбреЗрдЯрд╛ рд╡реЗрдЧрд╡реЗрдЧрд│реНрдпрд╛ рд╕рддреНрд░рд╛рдВрдордзреНрдпреЗ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдгреНрдпрд╛рдЪреА рдкрд░рд╡рд╛рдирдЧреА рджреЗрддреЗ. рдпрд╛рдд рд╕рдВрдЧреНрд░рд╣рд┐рдд рдбреЗрдЯрд╛ рдХрдзреАрд╣реА рдХрд╛рд▓рдмрд╛рд╣реНрдп рд╣реЛрдд рдирд╛рд╣реА.
- [`sessionStorage`](https://developer.mozilla.org/docs/Web/API/Window/sessionStorage): рд╣реЗ `localStorage` рдкреНрд░рдорд╛рдгреЗрдЪ рдХрд╛рд░реНрдп рдХрд░рддреЗ рдкрд░рдВрддреБ рдпрд╛рдд рд╕рдВрдЧреНрд░рд╣рд┐рдд рдбреЗрдЯрд╛ рд╕рддреНрд░ рд╕рдВрдкрд▓реНрдпрд╛рд╡рд░ (рдмреНрд░рд╛рдЙрдЭрд░ рдмрдВрдж рдХреЗрд▓реНрдпрд╛рд╡рд░) рд╕рд╛рдл рдХреЗрд▓рд╛ рдЬрд╛рддреЛ.

рдЯреАрдк рдХреА рдпрд╛ рджреЛрдиреНрд╣реА API рдлрдХреНрдд [strings](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) рд╕рд╛рдард╡рдгреНрдпрд╛рдЪреА рдкрд░рд╡рд╛рдирдЧреА рджреЗрддрд╛рдд. рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рдЬрдЯрд┐рд▓ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рд╛рдпрдЪреЗ рдЕрд╕рддреАрд▓, рддрд░ рддреБрдореНрд╣рд╛рд▓рд╛ [`JSON.stringify()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) рд╡рд╛рдкрд░реВрди рддреЗ [JSON](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON) рд╕реНрд╡рд░реВрдкрд╛рдд рд╕рд┐рд░реАрдпрд▓рд╛рдЗрдЭ рдХрд░рд╛рд╡реЗ рд▓рд╛рдЧреЗрд▓.

тЬЕ рдЬрд░ рддреБрдореНрд╣рд╛рд▓рд╛ рд╕рд░реНрд╡реНрд╣рд░рд╢рд┐рд╡рд╛рдп рдХрд╛рд░реНрдп рдХрд░рдгрд╛рд░реЗ рд╡реЗрдм рдЕтАНреЕрдк рддрдпрд╛рд░ рдХрд░рд╛рдпрдЪреЗ рдЕрд╕реЗрд▓, рддрд░ [`IndexedDB` API](https://developer.mozilla.org/docs/Web/API/IndexedDB_API) рд╡рд╛рдкрд░реВрди рдХреНрд▓рд╛рдпрдВрдЯрд╡рд░ рдбреЗрдЯрд╛рдмреЗрд╕ рддрдпрд╛рд░ рдХрд░рдгреЗ рджреЗрдЦреАрд▓ рд╢рдХреНрдп рдЖрд╣реЗ. рд╣реЗ рдкреНрд░рдЧрдд рд╡рд╛рдкрд░ рдкреНрд░рдХрд░рдгрд╛рдВрд╕рд╛рдареА рд░рд╛рдЦреАрд╡ рдЖрд╣реЗ рдХрд┐рдВрд╡рд╛ рддреБрдореНрд╣рд╛рд▓рд╛ рд▓рдХреНрд╖рдгреАрдп рдкреНрд░рдорд╛рдгрд╛рдд рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рд╛рдпрдЪрд╛ рдЕрд╕рд▓реНрдпрд╛рд╕, рдХрд╛рд░рдг рддреЗ рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЖрд╣реЗ.

### рдХрд╛рд░реНрдп

рдЖрдкрдг рдЗрдЪреНрдЫрд┐рддреЛ рдХреА рдЖрдордЪреЗ рд╡рд╛рдкрд░рдХрд░реНрддреЗ *Logout* рдмрдЯрдгрд╛рд╡рд░ рд╕реНрдкрд╖реНрдЯрдкрдгреЗ рдХреНрд▓рд┐рдХ рдХрд░реЗрдкрд░реНрдпрдВрдд рд▓реЙрдЧ рдЗрди рд░рд╛рд╣рд╛рд╡реЗ, рдореНрд╣рдгреВрди рдЖрдореНрд╣реА `localStorage` рд╡рд╛рдкрд░реВрди рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░реВ. рдкреНрд░рдердо, рдЖрдкрдг рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╡рд╛рдкрд░рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рдХреА рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реВрдпрд╛.

```js
const storageKey = 'savedAccount';
```

рдпрд╛рдирдВрддрд░ `updateState()` рдлрдВрдХреНрд╢рдирдЪреНрдпрд╛ рд╢реЗрд╡рдЯреА рд╣реА рдУрд│ рдЬреЛрдбрд╛:

```js
localStorage.setItem(storageKey, JSON.stringify(state.account));
```

рдпрд╛рдореБрд│реЗ, рд╡рд╛рдкрд░рдХрд░реНрддреНрдпрд╛рдЪреЗ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд▓реЗ рдЬрд╛рдИрд▓ рдЖрдгрд┐ рдЖрдкрдг рдпрд╛рдкреВрд░реНрд╡реА рдХреЗрдВрджреНрд░реАрдХреГрдд рдХреЗрд▓реЗрд▓реНрдпрд╛ рд╕рд░реНрд╡ рд╕реНрдЯреЗрдЯ рдЕрджреНрдпрддрдирд╛рдВрдореБрд│реЗ рдиреЗрд╣рдореА рдЕрджреНрдпрдпрд╛рд╡рдд рд░рд╛рд╣реАрд▓. рдпрд╛рдореБрд│реЗ рдЖрдкрд▓реНрдпрд╛рд▓рд╛ рдХреЗрд▓реЗрд▓реНрдпрд╛ рд╕рд░реНрд╡ рдкреБрдирд░реНрд░рдЪрдиреЗрдЪрд╛ рдлрд╛рдпрджрд╛ рд╣реЛрддреЛ ЁЯЩВ.

рдбреЗрдЯрд╛ рдЬрддрди рдХреЗрд▓рд╛ рдЬрд╛рдд рдЕрд╕рд▓реНрдпрд╛рдиреЗ, рдЕтАНреЕрдк рд▓реЛрдб рдХреЗрд▓реНрдпрд╛рд╡рд░ рддреЛ рдкреБрдирд░реНрд╕рдВрдЪрдпрд┐рдд рдХрд░рдгреНрдпрд╛рдЪреА рджреЗрдЦреАрд▓ рдХрд╛рд│рдЬреА рдШреНрдпрд╛рд╡реА рд▓рд╛рдЧреЗрд▓. рдЖрддрд╛ рдЖрдкрд▓реНрдпрд╛рдХрдбреЗ рдЕрдзрд┐рдХ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдХреЛрдб рдЕрд╕рдгрд╛рд░ рдЖрд╣реЗ, рдореНрд╣рдгреВрди `init` рдирд╛рд╡рд╛рдЪреЗ рдирд╡реАрди рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рдгреЗ рдЪрд╛рдВрдЧрд▓реЗ рд╣реЛрдИрд▓, рдЬреНрдпрд╛рдордзреНрдпреЗ `app.js` рдЪреНрдпрд╛ рддрд│рд╛рд╢реА рдЕрд╕рд▓реЗрд▓рд╛ рдЖрдкрд▓рд╛ рдкреВрд░реНрд╡реАрдЪрд╛ рдХреЛрдб рджреЗрдЦреАрд▓ рд╕рдорд╛рд╡рд┐рд╖реНрдЯ рдЕрд╕реЗрд▓:

```js
function init() {
  const savedAccount = localStorage.getItem(storageKey);
  if (savedAccount) {
    updateState('account', JSON.parse(savedAccount));
  }

  // Our previous initialization code
  window.onpopstate = () => updateRoute();
  updateRoute();
}

init();
```

рдпреЗрдереЗ рдЖрдореНрд╣реА рдЬрддрди рдХреЗрд▓реЗрд▓рд╛ рдбреЗрдЯрд╛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рддреЛ рдЖрдгрд┐ рдЬрд░ рдХрд╛рд╣реА рдбреЗрдЯрд╛ рд╕рд╛рдкрдбрд▓рд╛ рддрд░ рдЖрдореНрд╣реА рддреНрдпрд╛рдиреБрд╕рд╛рд░ рд╕реНрдЯреЗрдЯ рдЕрджреНрдпрддрдирд┐рдд рдХрд░рддреЛ. рд╣реЗ *рд░реВрдЯ* рдЕрджреНрдпрддрдирд┐рдд рдХрд░рдгреНрдпрд╛рдкреВрд░реНрд╡реА рдХрд░рдгреЗ рдорд╣рддреНрддреНрд╡рд╛рдЪреЗ рдЖрд╣реЗ, рдХрд╛рд░рдг рдкреГрд╖реНрда рдЕрджреНрдпрддрдирд╛рджрд░рдореНрдпрд╛рди рд╕реНрдЯреЗрдЯрд╡рд░ рдЕрд╡рд▓рдВрдмреВрди рдЕрд╕рд▓реЗрд▓рд╛ рдХреЛрдб рдЕрд╕реВ рд╢рдХрддреЛ.

рдЖрддрд╛ рдЖрдкрдг *Dashboard* рдкреГрд╖реНрдард╛рд▓рд╛ рдЖрдкрд▓реНрдпрд╛ рдЕтАНреЕрдкреНрд▓рд┐рдХреЗрд╢рдирдЪреЗ рдбрд┐рдлреЙрд▓реНрдЯ рдкреГрд╖реНрда рдмрдирд╡реВ рд╢рдХрддреЛ, рдХрд╛рд░рдг рдЖрдкрдг рдЖрддрд╛ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдЯрд┐рдХрд╡реВрди рдареЗрд╡рдд рдЖрд╣реЛрдд. рдЬрд░ рдХреЛрдгрддрд╛рд╣реА рдбреЗрдЯрд╛ рд╕рд╛рдкрдбрд▓рд╛ рдирд╛рд╣реА, рддрд░ рдбреЕрд╢рдмреЛрд░реНрдб *Login* рдкреГрд╖реНрдард╛рд╡рд░ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рдгреНрдпрд╛рдЪреА рдХрд╛рд│рдЬреА рдШреЗрддреЛ. `updateRoute()` рдордзреНрдпреЗ, рдлреЙрд▓рдмреЕрдХ `return navigate('/login');` рдмрджрд▓реВрди `return navigate('/dashboard');` рдХрд░рд╛.

рдЖрддрд╛ рдЕтАНреЕрдкрдордзреНрдпреЗ рд▓реЙрдЧрд┐рди рдХрд░рд╛ рдЖрдгрд┐ рдкреГрд╖реНрда рд░реАрдлреНрд░реЗрд╢ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛. рддреБрдореНрд╣реА рдбреЕрд╢рдмреЛрд░реНрдбрд╡рд░рдЪ рд░рд╛рд╣рд╛рд▓. рдпрд╛ рдЕрджреНрдпрддрдирд╛рд╕рд╣ рдЖрдкрдг рдЖрдкрд▓реНрдпрд╛ рд╕рд░реНрд╡ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдорд╕реНрдпрд╛рдВрдЪреЗ рдирд┐рд░рд╛рдХрд░рдг рдХреЗрд▓реЗ рдЖрд╣реЗ...

## рдбреЗрдЯрд╛ рд░реАрдлреНрд░реЗрд╢ рдХрд░рд╛

...рдкрдг рдЖрдкрдг рдирд╡реАрди рд╕рдорд╕реНрдпрд╛ рдирд┐рд░реНрдорд╛рдг рдХреЗрд▓реА рдЕрд╕реВ рд╢рдХрддреЛ. рдУрд╣!

`test` рдЦрд╛рддреЗ рд╡рд╛рдкрд░реВрди рдбреЕрд╢рдмреЛрд░реНрдбрд╡рд░ рдЬрд╛, рдирдВрддрд░ рдЯрд░реНрдорд┐рдирд▓рд╡рд░ рд╣рд╛ рдЖрджреЗрд╢ рдЪрд╛рд▓рд╡реВрди рдирд╡реАрди рд╡реНрдпрд╡рд╣рд╛рд░ рддрдпрд╛рд░ рдХрд░рд╛:

```sh
curl --request POST \
     --header "Content-Type: application/json" \
     --data "{ \"date\": \"2020-07-24\", \"object\": \"Bought book\", \"amount\": -20 }" \
     http://localhost:5000/api/accounts/test/transactions
```

рдЖрддрд╛ рдмреНрд░рд╛рдЙрдЭрд░рдордзреНрдпреЗ рддреБрдордЪреЗ рдбреЕрд╢рдмреЛрд░реНрдб рдкреГрд╖реНрда рд░реАрдлреНрд░реЗрд╢ рдХрд░рдгреНрдпрд╛рдЪрд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛. рдХрд╛рдп рд╣реЛрддреЗ? рддреБрдореНрд╣рд╛рд▓рд╛ рдирд╡реАрди рд╡реНрдпрд╡рд╣рд╛рд░ рджрд┐рд╕рддреЛ рдХрд╛?

`localStorage` рдореБрд│реЗ рд╕реНрдЯреЗрдЯ рдЕрдирд┐рд╢реНрдЪрд┐рдд рдХрд╛рд│рд╛рд╕рд╛рдареА рдЯрд┐рдХрд╡реВрди рдареЗрд╡рд▓реА рдЬрд╛рддреЗ, рдкрд░рдВрддреБ рдпрд╛рдЪрд╛ рдЕрд░реНрде рдЕрд╕рд╛ рдЖрд╣реЗ рдХреА рддреБрдореНрд╣реА рдЕтАНреЕрдкрдордзреВрди рд▓реЙрдЧрдЖрдЙрдЯ рдЖрдгрд┐ рдкреБрдиреНрд╣рд╛ рд▓реЙрдЧрд┐рди рдХреЗрд▓реНрдпрд╛рд╢рд┐рд╡рд╛рдп рддреА рдХрдзреАрд╣реА рдЕрджреНрдпрддрдирд┐рдд рд╣реЛрдд рдирд╛рд╣реА!

рд╣реЗ рдЯрд╛рд│рдгреНрдпрд╛рд╕рд╛рдареА рдПрдХ рд╕рдВрднрд╛рд╡реНрдп рд░рдгрдиреАрддреА рдореНрд╣рдгрдЬреЗ рдбреЕрд╢рдмреЛрд░реНрдб рд▓реЛрдб рдХреЗрд▓реНрдпрд╛рд╡рд░ рдкреНрд░рддреНрдпреЗрдХ рд╡реЗрд│реА рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдкреБрдиреНрд╣рд╛ рд▓реЛрдб рдХрд░рдгреЗ, рдЬреЗрдгреЗрдХрд░реВрди рдбреЗрдЯрд╛ рдЬреБрдирд╛ рд╣реЛрдгрд╛рд░ рдирд╛рд╣реА.

### рдХрд╛рд░реНрдп

рдирд╡реАрди `updateAccountData` рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рд╛:

```js
async function updateAccountData() {
  const account = state.account;
  if (!account) {
    return logout();
  }

  const data = await getAccount(account.user);
  if (data.error) {
    return logout();
  }

  updateState('account', data);
}
```

рд╣реЗ рдлрдВрдХреНрд╢рди рддрдкрд╛рд╕рддреЗ рдХреА рдЖрдкрдг рд╕рдзреНрдпрд╛ рд▓реЙрдЧ рдЗрди рдЖрд╣реЛрдд рдЖрдгрд┐ рдирдВрддрд░ рд╕рд░реНрд╡реНрд╣рд░рд╡рд░реВрди рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдкреБрдиреНрд╣рд╛ рд▓реЛрдб рдХрд░рддреЗ.

`refresh` рдирд╛рд╡рд╛рдЪреЗ рдЖрдгрдЦреА рдПрдХ рдлрдВрдХреНрд╢рди рддрдпрд╛рд░ рдХрд░рд╛:

```js
async function refresh() {
  await updateAccountData();
  updateDashboard();
}
```

рд╣реЗ рдЦрд╛рддреЗ рдбреЗрдЯрд╛ рдЕрджреНрдпрддрдирд┐рдд рдХрд░рддреЗ, рдирдВрддрд░ рдбреЕрд╢рдмреЛрд░реНрдб рдкреГрд╖реНрдард╛рдЪреНрдпрд╛ HTML рдЪреЗ рдЕрджреНрдпрддрдирд┐рдд рдХрд░рдгреНрдпрд╛рдЪреА рдХрд╛рд│рдЬреА рдШреЗрддреЗ. рдбреЕрд╢рдмреЛрд░реНрдб рд░реВрдЯ рд▓реЛрдб рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдЖрдореНрд╣рд╛рд▓рд╛ рдХреЙрд▓ рдХрд░рд╛рдпрдЪреЗ рдЖрд╣реЗ рддреЗрдЪ рдЖрд╣реЗ. рд░реВрдЯ
[рд╡реНрдпрд╛рдЦреНрдпрд╛рдирд╛рдирдВрддрд░рдЪрд╛ рдкреНрд░рд╢реНрдирдордВрдЬреВрд╖рд╛](https://ff-quizzes.netlify.app/web/quiz/48)

## рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ

["Add transaction" рд╕рдВрд╡рд╛рдж рд▓рд╛рдЧреВ рдХрд░рд╛](assignment.md)

рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдкреВрд░реНрдг рдХреЗрд▓реНрдпрд╛рдирдВрддрд░рдЪрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░рд┐рдгрд╛рдо рдпреЗрдереЗ рджрд┐рд▓рд╛ рдЖрд╣реЗ:

!["Add transaction" рд╕рдВрд╡рд╛рджрд╛рдЪреЗ рдЙрджрд╛рд╣рд░рдг рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рджрд╛рдЦрд╡рдд рдЖрд╣реЗ](../../../../translated_images/dialog.93bba104afeb79f12f65ebf8f521c5d64e179c40b791c49c242cf15f7e7fab15.mr.png)

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рд╣рд╛ рджрд╕реНрддрдРрд╡рдЬ AI рднрд╛рд╖рд╛рдВрддрд░ рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рд╡рд╛рдкрд░реВрди рднрд╛рд╖рд╛рдВрддрд░рд┐рдд рдХрд░рдгреНрдпрд╛рдд рдЖрд▓рд╛ рдЖрд╣реЗ. рдЖрдореНрд╣реА рдЕрдЪреВрдХрддреЗрд╕рд╛рдареА рдкреНрд░рдпрддреНрдирд╢реАрд▓ рдЕрд╕рд▓реЛ рддрд░реА, рдХреГрдкрдпрд╛рд╕ рд▓рдХреНрд╖рд╛рдд рдареЗрд╡рд╛ рдХреА рд╕реНрд╡рдпрдВрдЪрд▓рд┐рдд рднрд╛рд╖рд╛рдВрддрд░рд╛рдВрдордзреНрдпреЗ рддреНрд░реБрдЯреА рдХрд┐рдВрд╡рд╛ рдЕрдЪреВрдХрддреЗрдЪрд╛ рдЕрднрд╛рд╡ рдЕрд╕реВ рд╢рдХрддреЛ. рдореВрд│ рднрд╛рд╖реЗрддреАрд▓ рджрд╕реНрддрдРрд╡рдЬ рд╣рд╛ рдЕрдзрд┐рдХреГрдд рд╕реНрд░реЛрдд рдорд╛рдирд▓рд╛ рдЬрд╛рд╡рд╛. рдорд╣рддреНрддреНрд╡рд╛рдЪреНрдпрд╛ рдорд╛рд╣рд┐рддреАрд╕рд╛рдареА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡реА рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХреЗрд▓реА рдЬрд╛рддреЗ. рдпрд╛ рднрд╛рд╖рд╛рдВрддрд░рд╛рдЪрд╛ рд╡рд╛рдкрд░ рдХрд░реВрди рдирд┐рд░реНрдорд╛рдг рд╣реЛрдгрд╛рд▒реНрдпрд╛ рдХреЛрдгрддреНрдпрд╛рд╣реА рдЧреИрд░рд╕рдордЬ рдХрд┐рдВрд╡рд╛ рдЪреБрдХреАрдЪреНрдпрд╛ рдЕрд░реНрдерд╛рд╕рд╛рдареА рдЖрдореНрд╣реА рдЬрдмрд╛рдмрджрд╛рд░ рд░рд╛рд╣рдгрд╛рд░ рдирд╛рд╣реА.