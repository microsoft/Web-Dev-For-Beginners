<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "61c14b27044861e5e69db35dd52c4403",
  "translation_date": "2025-08-29T14:34:43+00:00",
  "source_file": "3-terrarium/3-intro-to-DOM-and-closures/README.md",
  "language_code": "fa"
}
-->
# ูพุฑูฺู ุชุฑุงุฑูู ุจุฎุด ณ: ุฏุณุชฺฉุงุฑ DOM ู Closure

![DOM ู Closure](../../../../translated_images/webdev101-js.10280393044d7eaaec7e847574946add7ddae6be2b2194567d848b61d849334a.fa.png)
> ุทุฑุงุญ ุชูุณุท [Tomomi Imura](https://twitter.com/girlie_mac)

## ุขุฒููู ูพุด ุงุฒ ุฏุฑุณ

[ุขุฒููู ูพุด ุงุฒ ุฏุฑุณ](https://ff-quizzes.netlify.app/web/quiz/19)

### ููุฏูู

ุฏุณุชฺฉุงุฑ DOMุ ุง "ูุฏู ุดุก ุณูุฏ"ุ ฺฉ ุงุฒ ุฌูุจูโูุง ฺฉูุฏ ุชูุณุนู ูุจ ุงุณุช. ุทุจู ฺฏูุชู [MDN](https://developer.mozilla.org/docs/Web/API/Document_Object_Model/Introduction)ุ "ูุฏู ุดุก ุณูุฏ (DOM) ููุงุด ุฏุงุฏูโุง ุงุฒ ุงุดุง ุงุณุช ฺฉู ุณุงุฎุชุงุฑ ู ูุญุชูุง ฺฉ ุณูุฏ ุฏุฑ ูุจ ุฑุง ุชุดฺฉู ูโุฏููุฏ." ฺุงูุดโูุง ูุฑุจูุท ุจู ุฏุณุชฺฉุงุฑ DOM ุฏุฑ ูุจ ุงุบูุจ ุงูฺฏุฒูโุง ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุฑูโูุฑฺฉโูุง ุฌุงูุงุงุณฺฉุฑูพุช ุจู ุฌุง ุฌุงูุงุงุณฺฉุฑูพุช ุฎุงูุต ุจุฑุง ูุฏุฑุช DOM ุจูุฏู ุงุณุชุ ุงูุง ูุง ุฎูุฏูุงู ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฎูุงูู ุฏุงุฏ!

ุนูุงูู ุจุฑ ุงูุ ุงู ุฏุฑุณ ุงุฏู [Closure ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช](https://developer.mozilla.org/docs/Web/JavaScript/Closures) ุฑุง ูุนุฑู ูโฺฉูุฏุ ฺฉู ูโุชูุงูุฏ ุขู ุฑุง ุจู ุนููุงู ฺฉ ุชุงุจุน ุฏุฑูู ุชุงุจุน ุฏฺฏุฑ ุชุตูุฑ ฺฉูุฏุ ุจู ุทูุฑ ฺฉู ุชุงุจุน ุฏุงุฎู ุจู ูุญุฏูุฏู ุชุงุจุน ุฎุงุฑุฌ ุฏุณุชุฑุณ ุฏุงุฑุฏ.

> Closure ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุช ููุถูุน ฺฏุณุชุฑุฏู ู ูพฺุฏู ุงุณุช. ุงู ุฏุฑุณ ุจู ุณุงุฏูโุชุฑู ุงุฏู ูโูพุฑุฏุงุฒุฏ ฺฉู ุฏุฑ ฺฉุฏ ุงู ุชุฑุงุฑููุ ฺฉ Closure ูุฌูุฏ ุฏุงุฑุฏ: ฺฉ ุชุงุจุน ุฏุงุฎู ู ฺฉ ุชุงุจุน ุฎุงุฑุฌ ฺฉู ุจู ฺฏูููโุง ุณุงุฎุชู ุดุฏูโุงูุฏ ฺฉู ุชุงุจุน ุฏุงุฎู ุจู ูุญุฏูุฏู ุชุงุจุน ุฎุงุฑุฌ ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ูุญูู ุนููฺฉุฑุฏ ุงู ููุถูุนุ ูุทูุงู ุจู [ูุณุชูุฏุงุช ุฌุงูุน](https://developer.mozilla.org/docs/Web/JavaScript/Closures) ูุฑุงุฌุนู ฺฉูุฏ.

ูุง ุงุฒ ฺฉ Closure ุจุฑุง ุฏุณุชฺฉุงุฑ DOM ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ.

DOM ุฑุง ุจู ุนููุงู ฺฉ ุฏุฑุฎุช ุชุตูุฑ ฺฉูุฏ ฺฉู ุชูุงู ุฑูุดโูุง ุฑุง ฺฉู ฺฉ ุณูุฏ ุตูุญู ูุจ ูโุชูุงูุฏ ุฏุณุชฺฉุงุฑ ุดูุฏุ ูุดุงู ูโุฏูุฏ. APIูุง ูุฎุชูู (ุฑุงุจุทโูุง ุจุฑูุงููโููุณ ฺฉุงุฑุจุฑุฏ) ููุดุชู ุดุฏูโุงูุฏ ุชุง ุจุฑูุงููโููุณุงู ุจุชูุงููุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฒุจุงู ุจุฑูุงููโููุณ ููุฑุฏ ูุธุฑ ุฎูุฏ ุจู DOM ุฏุณุชุฑุณ ูพุฏุง ฺฉุฑุฏู ู ุขู ุฑุง ูุฑุงุดุ ุชุบุฑุ ุจุงุฒุขุฑุง ู ูุฏุฑุช ฺฉููุฏ.

![ููุงุด ุฏุฑุฎุช DOM](../../../../translated_images/dom-tree.7daf0e763cbbba9273f9a66fe04c98276d7d23932309b195cb273a9cf1819b42.fa.png)

> ููุงุด ุงุฒ DOM ู ฺฉุฏ HTML ฺฉู ุจู ุขู ุงุดุงุฑู ุฏุงุฑุฏ. ุงุฒ [Olfa Nasraoui](https://www.researchgate.net/publication/221417012_Profile-Based_Focused_Crawler_for_Social_Media-Sharing_Websites)

ุฏุฑ ุงู ุฏุฑุณุ ูพุฑูฺู ุชุนุงูู ุชุฑุงุฑูู ุฎูุฏ ุฑุง ุจุง ุงุฌุงุฏ ุฌุงูุงุงุณฺฉุฑูพุช ฺฉู ุจู ฺฉุงุฑุจุฑ ุงุฌุงุฒู ูโุฏูุฏ ฺฏุงูุงู ุฑุง ุฏุฑ ุตูุญู ุฌุงุจูโุฌุง ฺฉูุฏุ ุชฺฉูู ุฎูุงูู ฺฉุฑุฏ.

### ูพุดโูุงุฒ

ุดูุง ุจุงุฏ HTML ู CSS ุชุฑุงุฑูู ุฎูุฏ ุฑุง ุณุงุฎุชู ุจุงุดุฏ. ุชุง ูพุงุงู ุงู ุฏุฑุณุ ูุงุฏุฑ ุฎูุงูุฏ ุจูุฏ ฺฏุงูุงู ุฑุง ุจุง ฺฉุดุฏู ู ุฑูุง ฺฉุฑุฏู ุจู ุฏุงุฎู ู ุฎุงุฑุฌ ุชุฑุงุฑูู ููุชูู ฺฉูุฏ.

### ูุธูู

ุฏุฑ ูพูุดู ุชุฑุงุฑูู ุฎูุฏุ ฺฉ ูุงู ุฌุฏุฏ ุจู ูุงู `script.js` ุงุฌุงุฏ ฺฉูุฏ. ุงู ูุงู ุฑุง ุฏุฑ ุจุฎุด `<head>` ูุงุฑุฏ ฺฉูุฏ:

```html
	<script src="./script.js" defer></script>
```

> ุชูุฌู: ููฺฏุงู ูุงุฑุฏ ฺฉุฑุฏู ฺฉ ูุงู ุฌุงูุงุงุณฺฉุฑูพุช ุฎุงุฑุฌ ุจู ูุงู HTMLุ ุงุฒ `defer` ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุฌุงูุงุงุณฺฉุฑูพุช ููุท ูพุณ ุงุฒ ุจุงุฑฺฏุฐุงุฑ ฺฉุงูู ูุงู HTML ุงุฌุฑุง ุดูุฏ. ููฺูู ูโุชูุงูุฏ ุงุฒ ูฺฺฏ `async` ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุจู ุงุณฺฉุฑูพุช ุงุฌุงุฒู ูโุฏูุฏ ุฏุฑ ุญู ุชุฌุฒู ูุงู HTML ุงุฌุฑุง ุดูุฏุ ุงูุง ุฏุฑ ููุฑุฏ ูุงุ ููู ุงุณุช ฺฉู ุนูุงุตุฑ HTML ูุจู ุงุฒ ุงุฌุฑุง ุงุณฺฉุฑูพุช ฺฉุดุฏู ฺฉุงููุงู ุฏุฑ ุฏุณุชุฑุณ ุจุงุดูุฏ.
---

## ุนูุงุตุฑ DOM

ุงููู ฺฉุงุฑ ฺฉู ุจุงุฏ ุงูุฌุงู ุฏูุฏ ุงู ุงุณุช ฺฉู ุจู ุนูุงุตุฑ ฺฉู ูโุฎูุงูุฏ ุฏุฑ DOM ุฏุณุชฺฉุงุฑ ฺฉูุฏุ ุงุฑุฌุงุน ุฏูุฏ. ุฏุฑ ููุฑุฏ ูุงุ ุงู ุนูุงุตุฑ ฑด ฺฏุงู ูุณุชูุฏ ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ ููุงุฑูุง ฺฉูุงุฑ ูุฑุงุฑ ุฏุงุฑูุฏ.

### ูุธูู

```html
dragElement(document.getElementById('plant1'));
dragElement(document.getElementById('plant2'));
dragElement(document.getElementById('plant3'));
dragElement(document.getElementById('plant4'));
dragElement(document.getElementById('plant5'));
dragElement(document.getElementById('plant6'));
dragElement(document.getElementById('plant7'));
dragElement(document.getElementById('plant8'));
dragElement(document.getElementById('plant9'));
dragElement(document.getElementById('plant10'));
dragElement(document.getElementById('plant11'));
dragElement(document.getElementById('plant12'));
dragElement(document.getElementById('plant13'));
dragElement(document.getElementById('plant14'));
```

ุงูุฌุง ฺู ุงุชูุงู ูโุงูุชุฏุ ุดูุง ุจู ุณูุฏ ุงุฑุฌุงุน ูโุฏูุฏ ู ุฏุฑ DOM ุขู ุจู ุฏูุจุงู ุนูุตุฑ ุจุง ฺฉ Id ุฎุงุต ูโฺฏุฑุฏุฏ. ุจู ุงุฏ ุฏุงุฑุฏ ฺฉู ุฏุฑ ุงููู ุฏุฑุณ HTML ุจู ูุฑ ุชุตูุฑ ฺฏุงู ฺฉ Id ุฌุฏุงฺฏุงูู ุฏุงุฏุฏ (`id="plant1"`)ุ ุงฺฉููู ุงุฒ ุขู ุชูุงุด ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ. ูพุณ ุงุฒ ุดูุงุณุง ูุฑ ุนูุตุฑุ ุขู ููุฑุฏ ุฑุง ุจู ุชุงุจุน ุจู ูุงู `dragElement` ฺฉู ุฏุฑ ฺฉ ูุญุธู ุฎูุงูุฏ ุณุงุฎุชุ ุงุฑุณุงู ูโฺฉูุฏ. ุจูุงุจุฑุงูุ ุนูุตุฑ ุฏุฑ HTML ุงฺฉููู ูุงุจูุช ฺฉุดุฏู ุฏุงุฑุฏุ ุง ุจู ุฒูุฏ ุฎูุงูุฏ ุฏุงุดุช.

โ ฺุฑุง ุนูุงุตุฑ ุฑุง ุจุง Id ุงุฑุฌุงุน ูโุฏููุ ฺุฑุง ูู ุจุง ฺฉูุงุณ CSSุ ููฺฉู ุงุณุช ุจู ุฏุฑุณ ูุจู ุฏุฑ ููุฑุฏ CSS ูุฑุงุฌุนู ฺฉูุฏ ุชุง ุจู ุงู ุณุคุงู ูพุงุณุฎ ุฏูุฏ.

---

## Closure

ุงฺฉููู ุขูุงุฏู ุงุฌุงุฏ Closure `dragElement` ูุณุชุฏุ ฺฉู ฺฉ ุชุงุจุน ุฎุงุฑุฌ ุงุณุช ฺฉู ฺฉ ุง ฺูุฏ ุชุงุจุน ุฏุงุฎู ุฑุง ุฏุฑ ุจุฑ ูโฺฏุฑุฏ (ุฏุฑ ููุฑุฏ ูุงุ ุณู ุชุงุจุน ุฎูุงูู ุฏุงุดุช).

Closure ุฒูุงู ููุฏ ุงุณุช ฺฉู ฺฉ ุง ฺูุฏ ุชุงุจุน ูุงุฒ ุจู ุฏุณุชุฑุณ ุจู ูุญุฏูุฏู ุชุงุจุน ุฎุงุฑุฌ ุฏุงุดุชู ุจุงุดูุฏ. ุฏุฑ ุงูุฌุง ฺฉ ูุซุงู ุขูุฑุฏู ุดุฏู ุงุณุช:

```javascript
function displayCandy(){
	let candy = ['jellybeans'];
	function addCandy(candyType) {
		candy.push(candyType)
	}
	addCandy('gumdrops');
}
displayCandy();
console.log(candy)
```

ุฏุฑ ุงู ูุซุงูุ ุชุงุจุน `displayCandy` ุชุงุจุน ุฑุง ุฏุฑ ุจุฑ ูโฺฏุฑุฏ ฺฉู ฺฉ ููุน ุขุจโูุจุงุช ุฌุฏุฏ ุฑุง ุจู ุขุฑุงูโุง ฺฉู ูุจูุงู ุฏุฑ ุชุงุจุน ูุฌูุฏ ุฏุงุฑุฏุ ุงุถุงูู ูโฺฉูุฏ. ุงฺฏุฑ ุงู ฺฉุฏ ุฑุง ุงุฌุฑุง ฺฉูุฏุ ุขุฑุงู `candy` ุชุนุฑู ูุดุฏู ุฎูุงูุฏ ุจูุฏุ ุฒุฑุง ฺฉ ูุชุบุฑ ูุญู ุงุณุช (ูุญู ุจุฑุง Closure).

โ ฺฺฏููู ูโุชูุงูุฏ ุขุฑุงู `candy` ุฑุง ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ุฏูุฏุ ุณุน ฺฉูุฏ ุขู ุฑุง ุฎุงุฑุฌ ุงุฒ Closure ููุชูู ฺฉูุฏ. ุจู ุงู ุชุฑุชุจุ ุขุฑุงู ุจู ุฌุง ุงูฺฉู ููุท ุฏุฑ ูุญุฏูุฏู ูุญู Closure ุฏุฑ ุฏุณุชุฑุณ ุจุงุดุฏุ ุฌูุงู ูโุดูุฏ.

### ูุธูู

ุฒุฑ ุงุนูุงู ุนูุงุตุฑ ุฏุฑ `script.js`ุ ฺฉ ุชุงุจุน ุงุฌุงุฏ ฺฉูุฏ:

```javascript
function dragElement(terrariumElement) {
	//set 4 positions for positioning on the screen
	let pos1 = 0,
		pos2 = 0,
		pos3 = 0,
		pos4 = 0;
	terrariumElement.onpointerdown = pointerDrag;
}
```

`dragElement` ุดุก `terrariumElement` ุฎูุฏ ุฑุง ุงุฒ ุงุนูุงูโูุง ุจุงูุง ุงุณฺฉุฑูพุช ุฏุฑุงูุช ูโฺฉูุฏ. ุณูพุณุ ุจุฑุฎ ูููุนุชโูุง ูุญู ุฑุง ุจุฑุง ุดุก ููุชูู ุดุฏู ุจู ุชุงุจุน ุฑู `0` ุชูุธู ูโฺฉูุฏ. ุงูโูุง ูุชุบุฑูุง ูุญู ูุณุชูุฏ ฺฉู ุจุฑุง ูุฑ ุนูุตุฑ ููฺฏุงู ุงูุฒูุฏู ูุงุจูุช ฺฉุดุฏู ู ุฑูุง ฺฉุฑุฏู ุฏุฑ Closure ุฏุณุชฺฉุงุฑ ุฎูุงููุฏ ุดุฏ. ุชุฑุงุฑูู ุจุง ุงู ุนูุงุตุฑ ฺฉุดุฏู ุดุฏู ูพุฑ ุฎูุงูุฏ ุดุฏุ ุจูุงุจุฑุงู ุจุฑูุงูู ุจุงุฏ ูฺฉุงู ุขูโูุง ุฑุง ูพฺฏุฑ ฺฉูุฏ.

ุนูุงูู ุจุฑ ุงูุ `terrariumElement` ฺฉู ุจู ุงู ุชุงุจุน ููุชูู ูโุดูุฏุ ฺฉ ุฑูุฏุงุฏ `pointerdown` ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏุ ฺฉู ุจุฎุด ุงุฒ [ูุจ APIูุง](https://developer.mozilla.org/docs/Web/API) ุงุณุช ฺฉู ุจุฑุง ฺฉูฺฉ ุจู ูุฏุฑุช DOM ุทุฑุงุญ ุดุฏูโุงูุฏ. `onpointerdown` ุฒูุงู ุงุฌุฑุง ูโุดูุฏ ฺฉู ฺฉ ุฏฺฉูู ูุดุงุฑ ุฏุงุฏู ุดูุฏุ ุง ุฏุฑ ููุฑุฏ ูุงุ ฺฉ ุนูุตุฑ ูุงุจู ฺฉุดุฏู ููุณ ุดูุฏ. ุงู ููุฏูุฑ ุฑูุฏุงุฏ ุฏุฑ ูุฑ ุฏู [ูุฑูุฑฺฏุฑ ูุจ ู ููุจุงู](https://caniuse.com/?search=onpointerdown) ฺฉุงุฑ ูโฺฉูุฏุ ุจุง ฺูุฏ ุงุณุชุซูุง.

โ [ููุฏูุฑ ุฑูุฏุงุฏ `onclick`](https://developer.mozilla.org/docs/Web/API/GlobalEventHandlers/onclick) ูพุดุชุจุงู ุจุณุงุฑ ุจุดุชุฑ ุฏุฑ ูุฑูุฑฺฏุฑูุง ูุฎุชูู ุฏุงุฑุฏุ ฺุฑุง ุงูุฌุง ุงุฒ ุขู ุงุณุชูุงุฏู ููโฺฉูุฏุ ุจู ููุน ุฏูู ุชุนุงูู ุตูุญูโุง ฺฉู ูโุฎูุงูุฏ ุงุฌุงุฏ ฺฉูุฏ ูฺฉุฑ ฺฉูุฏ.

---

## ุชุงุจุน Pointerdrag

ุนูุตุฑ `terrariumElement` ุขูุงุฏู ฺฉุดุฏู ุดุฏู ุงุณุชุ ููุช ุฑูุฏุงุฏ `onpointerdown` ุงุฌุฑุง ูโุดูุฏุ ุชุงุจุน `pointerDrag` ูุฑุงุฎูุงู ูโุดูุฏ. ุงู ุชุงุจุน ุฑุง ุฏุฑุณุช ุฒุฑ ุงู ุฎุท ุงุถุงูู ฺฉูุฏ: `terrariumElement.onpointerdown = pointerDrag;`:

### ูุธูู 

```javascript
function pointerDrag(e) {
	e.preventDefault();
	console.log(e);
	pos3 = e.clientX;
	pos4 = e.clientY;
}
```

ฺูุฏู ุงุชูุงู ูโุงูุชุฏ. ุงููุ ุดูุง ุจุง ุงุณุชูุงุฏู ุงุฒ `e.preventDefault();` ุงุฒ ูููุน ุฑูุฏุงุฏูุง ูพุดโูุฑุถ ฺฉู ูุนูููุงู ุฏุฑ pointerdown ุฑุฎ ูโุฏููุฏุ ุฌููฺฏุฑ ูโฺฉูุฏ. ุจู ุงู ุชุฑุชุจ ฺฉูุชุฑู ุจุดุชุฑ ุจุฑ ุฑูุชุงุฑ ุฑุงุจุท ฺฉุงุฑุจุฑ ุฏุงุฑุฏ.

> ููุช ูุงู ุงุณฺฉุฑูพุช ุฑุง ุจู ุทูุฑ ฺฉุงูู ุณุงุฎุชุฏุ ุจู ุงู ุฎุท ุจุฑฺฏุฑุฏุฏ ู ุขู ุฑุง ุจุฏูู `e.preventDefault()` ุงูุชุญุงู ฺฉูุฏ - ฺู ุงุชูุงู ูโุงูุชุฏุ

ุฏููุ ูุงู `index.html` ุฑุง ุฏุฑ ฺฉ ูพูุฌุฑู ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ ู ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ. ููุช ุฑู ฺฉ ฺฏุงู ฺฉูฺฉ ูโฺฉูุฏุ ูโุชูุงูุฏ ุจุจูุฏ ฺฉู ุฑูุฏุงุฏ 'e' ฺฺฏููู ุซุจุช ูโุดูุฏ. ุจู ุฌุฒุฆุงุช ุฑูุฏุงุฏ ูฺฏุงู ฺฉูุฏ ุชุง ุจุจูุฏ ฺูุฏุฑ ุงุทูุงุนุงุช ุจุง ฺฉ ุฑูุฏุงุฏ pointerdown ุฌูุนโุขูุฑ ูโุดูุฏ!

ุณูพุณุ ุชูุฌู ฺฉูุฏ ฺฉู ฺฺฏููู ูุชุบุฑูุง ูุญู `pos3` ู `pos4` ุจู `e.clientX` ุชูุธู ูโุดููุฏ. ูโุชูุงูุฏ ููุงุฏุฑ `e` ุฑุง ุฏุฑ ูพูู ุจุงุฒุฑุณ ูพุฏุง ฺฉูุฏ. ุงู ููุงุฏุฑ ูุฎุชุตุงุช x ู y ฺฏุงู ุฑุง ุฏุฑ ูุญุธูโุง ฺฉู ุฑู ุขู ฺฉูฺฉ ูโฺฉูุฏ ุง ุขู ุฑุง ููุณ ูโฺฉูุฏุ ุซุจุช ูโฺฉููุฏ. ุดูุง ุจู ฺฉูุชุฑู ุฏูู ุฑูุชุงุฑ ฺฏุงูุงู ููฺฏุงู ฺฉูฺฉ ู ฺฉุดุฏู ุขูโูุง ูุงุฒ ุฏุงุฑุฏุ ุจูุงุจุฑุงู ูุฎุชุตุงุช ุขูโูุง ุฑุง ูพฺฏุฑ ูโฺฉูุฏ.

โ ุขุง ูุงุถุญโุชุฑ ุดุฏู ุงุณุช ฺฉู ฺุฑุง ฺฉู ุงู ุจุฑูุงูู ุจุง ฺฉ Closure ุจุฒุฑฺฏ ุณุงุฎุชู ุดุฏู ุงุณุชุ ุงฺฏุฑ ุงูุทูุฑ ูุจูุฏุ ฺฺฏููู ูโุชูุงูุณุชุฏ ูุญุฏูุฏู ูุฑ ฺฉ ุงุฒ ฑด ฺฏุงู ูุงุจู ฺฉุดุฏู ุฑุง ุญูุธ ฺฉูุฏุ

ุชุงุจุน ุงููู ุฑุง ุจุง ุงูุฒูุฏู ุฏู ุฏุณุชฺฉุงุฑ ุฑูุฏุงุฏ pointer ุฏฺฏุฑ ุฒุฑ `pos4 = e.clientY` ฺฉุงูู ฺฉูุฏ:

```html
document.onpointermove = elementDrag;
document.onpointerup = stopElementDrag;
```
ุงฺฉููู ูุดุฎุต ูโฺฉูุฏ ฺฉู ูโุฎูุงูุฏ ฺฏุงู ููุฑุงู ุจุง ุงุดุงุฑูโฺฏุฑ ููฺฏุงู ุญุฑฺฉุช ฺฉุดุฏู ุดูุฏ ู ุญุฑฺฉุช ฺฉุดุฏู ุฒูุงู ฺฉู ฺฏุงู ุฑุง ุงุฒ ุงูุชุฎุงุจ ุฎุงุฑุฌ ูโฺฉูุฏ ูุชููู ุดูุฏ. `onpointermove` ู `onpointerup` ููฺฏ ุจุฎุด ุงุฒ ููุงู API ูุณุชูุฏ ฺฉู `onpointerdown` ุงุณุช. ุฑุงุจุท ฺฉุงุฑุจุฑ ุงฺฉููู ุฎุทุงูุง ุงุฌุงุฏ ูโฺฉูุฏ ุฒุฑุง ูููุฒ ุชูุงุจุน `elementDrag` ู `stopElementDrag` ุฑุง ุชุนุฑู ูฺฉุฑุฏูโุงุฏุ ุจูุงุจุฑุงู ุขูโูุง ุฑุง ุฏุฑ ูุฑุญูู ุจุนุฏ ุจุณุงุฒุฏ.

## ุชูุงุจุน elementDrag ู stopElementDrag

ุดูุง Closure ุฎูุฏ ุฑุง ุจุง ุงูุฒูุฏู ุฏู ุชุงุจุน ุฏุงุฎู ุฏฺฏุฑ ฺฉู ูุฏุฑุช ูโฺฉููุฏ ฺู ุงุชูุงู ูโุงูุชุฏ ููุช ฺฉ ฺฏุงู ุฑุง ูโฺฉุดุฏ ู ฺฉุดุฏู ุขู ุฑุง ูุชููู ูโฺฉูุฏุ ฺฉุงูู ุฎูุงูุฏ ฺฉุฑุฏ. ุฑูุชุงุฑ ฺฉู ูโุฎูุงูุฏ ุงู ุงุณุช ฺฉู ุจุชูุงูุฏ ูุฑ ฺฏุงู ุฑุง ุฏุฑ ูุฑ ุฒูุงู ุจฺฉุดุฏ ู ุขู ุฑุง ุฏุฑ ูุฑ ุฌุง ุงุฒ ุตูุญู ูุฑุงุฑ ุฏูุฏ. ุงู ุฑุงุจุท ฺฉุงุฑุจุฑ ฺฉุงููุงู ุจุฏูู ูุญุฏูุฏุช ุงุณุช (ูุซูุงู ูฺ ููุทูู ุฑูุงุณุงุฒ ูุฌูุฏ ูุฏุงุฑุฏ) ุชุง ุจู ุดูุง ุงุฌุงุฒู ุฏูุฏ ุชุฑุงุฑูู ุฎูุฏ ุฑุง ุฏููุงู ููุงูุทูุฑ ฺฉู ุฏูุณุช ุฏุงุฑุฏ ุทุฑุงุญ ฺฉูุฏุ ุจุง ุงูุฒูุฏูุ ุญุฐู ู ุฌุงุจูโุฌุง ฺฏุงูุงู.

### ูุธูู

ุชุงุจุน `elementDrag` ุฑุง ุฏุฑุณุช ุจุนุฏ ุงุฒ ุขฺฉููุงุฏ ุจุณุชู `pointerDrag` ุงุถุงูู ฺฉูุฏ:

```javascript
function elementDrag(e) {
	pos1 = pos3 - e.clientX;
	pos2 = pos4 - e.clientY;
	pos3 = e.clientX;
	pos4 = e.clientY;
	console.log(pos1, pos2, pos3, pos4);
	terrariumElement.style.top = terrariumElement.offsetTop - pos2 + 'px';
	terrariumElement.style.left = terrariumElement.offsetLeft - pos1 + 'px';
}
```
ุฏุฑ ุงู ุชุงุจุนุ ุจุณุงุฑ ุงุฒ ูููุนุชโูุง ุงููู ฑ-ด ฺฉู ุจู ุนููุงู ูุชุบุฑูุง ูุญู ุฏุฑ ุชุงุจุน ุฎุงุฑุฌ ุชูุธู ฺฉุฑุฏูโุงุฏุ ูุฑุงุด ูโุดููุฏ. ุงูุฌุง ฺู ุงุชูุงู ูโุงูุชุฏุ

ููฺฏุงู ฺฉุดุฏูุ `pos1` ุฑุง ุจุง ุจุฑุงุจุฑ ูุฑุงุฑ ุฏุงุฏู ุขู ุจุง `pos3` (ฺฉู ูุจูุงู ุจู `e.clientX` ุชูุธู ฺฉุฑุฏูโุงุฏ) ูููุง ููุฏุงุฑ ูุนู `e.clientX` ุฏูุจุงุฑู ุงุฎุชุตุงุต ูโุฏูุฏ. ุนููุงุช ูุดุงุจู ุฑุง ุจุฑุง `pos2` ุงูุฌุงู ูโุฏูุฏ. ุณูพุณุ `pos3` ู `pos4` ุฑุง ุจู ูุฎุชุตุงุช ุฌุฏุฏ X ู Y ุนูุตุฑ ุจุงุฒูุดุงู ูโฺฉูุฏ. ูโุชูุงูุฏ ุงู ุชุบุฑุงุช ุฑุง ููฺฏุงู ฺฉุดุฏู ุฏุฑ ฺฉูุณูู ูุดุงูุฏู ฺฉูุฏ. ุณูพุณุ ุณุจฺฉ CSS ฺฏุงู ุฑุง ุฏุณุชฺฉุงุฑ ูโฺฉูุฏ ุชุง ูููุนุช ุฌุฏุฏ ุขู ุฑุง ุจุฑ ุงุณุงุณ ูููุนุชโูุง ุฌุฏุฏ `pos1` ู `pos2` ุชูุธู ฺฉูุฏ ู ูุฎุชุตุงุช X ู Y ุจุงูุง ฺฏุงู ุฑุง ุจุฑ ุงุณุงุณ ููุงุณู ุขูุณุช ุขู ุจุง ุงู ูููุนุชโูุง ุฌุฏุฏ ูุญุงุณุจู ฺฉูุฏ.

> `offsetTop` ู `offsetLeft` ูฺฺฏโูุง CSS ูุณุชูุฏ ฺฉู ูููุนุช ฺฉ ุนูุตุฑ ุฑุง ุจุฑ ุงุณุงุณ ูููุนุช ูุงูุฏ ุขู ุชูุธู ูโฺฉููุฏุ ูุงูุฏ ุขู ูโุชูุงูุฏ ูุฑ ุนูุตุฑ ุจุงุดุฏ ฺฉู ุจู ุตูุฑุช `static` ูููุนุชโุฏู ูุดุฏู ุจุงุดุฏ.

ุชูุงู ุงู ูุญุงุณุจุงุช ูุฌุฏุฏ ูููุนุช ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุฑูุชุงุฑ ุชุฑุงุฑูู ู ฺฏุงูุงู ุขู ุฑุง ุจู ุฏูุช ุชูุธู ฺฉูุฏ.

### ูุธูู 

ุขุฎุฑู ูุธูู ุจุฑุง ุชฺฉูู ุฑุงุจุท ฺฉุงุฑุจุฑ ุงู ุงุณุช ฺฉู ุชุงุจุน `stopElementDrag` ุฑุง ุจุนุฏ ุงุฒ ุขฺฉููุงุฏ ุจุณุชู `elementDrag` ุงุถุงูู ฺฉูุฏ:

```javascript
function stopElementDrag() {
	document.onpointerup = null;
	document.onpointermove = null;
}
```

ุงู ุชุงุจุน ฺฉูฺฺฉ ุฑูุฏุงุฏูุง `onpointerup` ู `onpointermove` ุฑุง ุจุงุฒูุดุงู ูโฺฉูุฏ ุชุง ุจุชูุงูุฏ ูพุดุฑูุช ฺฏุงู ุฎูุฏ ุฑุง ุจุง ุดุฑูุน ุฏูุจุงุฑู ฺฉุดุฏู ุขู ุง ุดุฑูุน ฺฉุดุฏู ฺฉ ฺฏุงู ุฌุฏุฏุ ุงุฒ ุณุฑ ุจฺฏุฑุฏ.

โ ฺู ุงุชูุงู ูโุงูุชุฏ ุงฺฏุฑ ุงู ุฑูุฏุงุฏูุง ุฑุง ุจู null ุชูุธู ูฺฉูุฏุ

ุงฺฉููู ูพุฑูฺู ุฎูุฏ ุฑุง ุชฺฉูู ฺฉุฑุฏูโุงุฏ!

๐ฅุชุจุฑฺฉ ูโฺฏูู! ุดูุง ุชุฑุงุฑูู ุฒุจุง ุฎูุฏ ุฑุง ุจู ูพุงุงู ุฑุณุงูุฏุฏ. ![ุชุฑุงุฑูู ููุง](../../../../translated_images/terrarium-final.0920f16e87c13a84cd2b553a5af9a3ad1cffbd41fbf8ce715d9e9c43809a5e2c.fa.png)

---

## ๐ฺุงูุด

ฺฉ ููุฏูุฑ ุฑูุฏุงุฏ ุฌุฏุฏ ุจู Closure ุฎูุฏ ุงุถุงูู ฺฉูุฏ ุชุง ฺฉุงุฑ ุฏฺฏุฑ ุจุง ฺฏุงูุงู ุงูุฌุงู ุฏูุฏุ ุจุฑุง ูุซุงูุ ุจุง ุฏูุจุงุฑ ฺฉูฺฉ ุฑู ฺฉ ฺฏุงูุ ุขู ุฑุง ุจู ุฌูู ุจุงูุฑุฏ. ุฎูุงู ุจุงุดุฏ!

## ุขุฒููู ูพุณ ุงุฒ ุฏุฑุณ

[ุขุฒููู ูพุณ ุงุฒ ุฏุฑุณ](https://ff-quizzes.netlify.app/web/quiz/20)

## ูุฑูุฑ ู ูุทุงูุนู ุดุฎุต

ุฏุฑ ุญุงู ฺฉู ฺฉุดุฏู ุนูุงุตุฑ ุฏุฑ ุตูุญู ุจู ูุธุฑ ุณุงุฏู ูโุฑุณุฏุ ุฑูุดโูุง ุฒุงุฏ ุจุฑุง ุงูุฌุงู ุงู ฺฉุงุฑ ู ูุดฺฉูุงุช ุฒุงุฏ ูุฌูุฏ ุฏุงุฑุฏุ ุจุณุชู ุจู ุงุซุฑ ฺฉู ุฏูุจุงู ูโฺฉูุฏ. ุฏุฑ ูุงูุนุ ฺฉ [API ฺฉุดุฏู ู ุฑูุง ฺฉุฑุฏู](https://developer.mozilla.org/docs/Web/API/HTML_Drag_and_Drop_API) ฺฉุงูู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุงูุชุญุงู ฺฉูุฏ. ูุง ุงุฒ ุขู ุฏุฑ ุงู ูุงฺูู ุงุณุชูุงุฏู ูฺฉุฑุฏู ุฒุฑุง ุงุซุฑ ฺฉู ูโุฎูุงุณุชู ฺฉู ูุชูุงูุช ุจูุฏุ ุงูุง ุงู API ุฑุง ุฑู ูพุฑูฺู ุฎูุฏ ุงูุชุญุงู ฺฉูุฏ ู ุจุจูุฏ ฺู ฺุฒ ูโุชูุงูุฏ ุจู ุฏุณุช ุขูุฑุฏ.

ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ุฑูุฏุงุฏูุง ุงุดุงุฑูโฺฏุฑ ุฏุฑ [ูุณุชูุฏุงุช W3C](https://www.w3.org/TR/pointerevents1/) ู [ูุณุชูุฏุงุช ูุจ MDN](https://developer.mozilla.org/docs/Web/API/Pointer_events) ูพุฏุง ฺฉูุฏ.

ููุดู ูุงุจูุชโูุง ูุฑูุฑฺฏุฑ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ [CanIUse.com](https://caniuse.com/) ุจุฑุฑุณ ฺฉูุฏ.

## ุชฺฉูู

[ฺฉู ุจุดุชุฑ ุจุง DOM ฺฉุงุฑ ฺฉูุฏ](assignment.md)

---

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุจุฑุง ุฏูุช ุชูุงุด ูโฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุชูุตู ูโุดูุฏ. ูุง ูฺ ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุกุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.