<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "05be6c37791668e3719c4fba94566367",
  "translation_date": "2025-08-29T14:31:06+00:00",
  "source_file": "6-space-game/6-end-condition/README.md",
  "language_code": "fa"
}
-->
# ุณุงุฎุช ฺฉ ุจุงุฒ ูุถุง ุจุฎุด ถ: ูพุงุงู ู ุดุฑูุน ูุฌุฏุฏ

## ุขุฒููู ูพุด ุงุฒ ุฏุฑุณ

[ุขุฒููู ูพุด ุงุฒ ุฏุฑุณ](https://ff-quizzes.netlify.app/web/quiz/39)

ุฑูุดโูุง ูุฎุชูู ุจุฑุง ุจุงู ฺฉ *ุดุฑุท ูพุงุงู* ุฏุฑ ุจุงุฒ ูุฌูุฏ ุฏุงุฑุฏ. ุงู ุดูุง ูุณุชุฏ ฺฉู ุจู ุนููุงู ุณุงุฒูุฏู ุจุงุฒ ุชุตูู ูโฺฏุฑุฏ ฺุฑุง ุจุงุฒ ุจู ูพุงุงู ุฑุณุฏู ุงุณุช. ุฏุฑ ุงูุฌุง ฺูุฏ ุฏูู ุขูุฑุฏู ุดุฏู ุงุณุชุ ุงฺฏุฑ ูุฑุถ ฺฉูู ุฏุฑ ููุฑุฏ ุจุงุฒ ูุถุง ฺฉู ุชุงฺฉููู ุณุงุฎุชูโุงุฏ ุตุญุจุช ูโฺฉูู:

- **`N` ุณููู ุฏุดูู ูุงุจูุฏ ุดุฏู ุงุณุช**: ุงู ุฑูุด ุจุณุงุฑ ุฑุงุฌ ุงุณุชุ ุจู ุฎุตูุต ุงฺฏุฑ ุจุงุฒ ุฑุง ุจู ูุฑุงุญู ูุฎุชูู ุชูุณู ฺฉูุฏ ู ูุงุฒ ุจุงุดุฏ `N` ุณููู ุฏุดูู ุฑุง ุจุฑุง ุชฺฉูู ฺฉ ูุฑุญูู ูุงุจูุฏ ฺฉูุฏ.
- **ุณููู ุดูุง ูุงุจูุฏ ุดุฏู ุงุณุช**: ุฏุฑ ุจุฑุฎ ุจุงุฒโูุงุ ุงฺฏุฑ ุณููู ุดูุง ูุงุจูุฏ ุดูุฏุ ุจุงุฒ ุฑุง ูโุจุงุฒุฏ. ฺฉ ุฑูุด ุฑุงุฌ ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ููููู "ุฌุงู" ุฑุง ุฏุฑ ุจุงุฒ ุฏุงุดุชู ุจุงุดุฏ. ูุฑ ุจุงุฑ ฺฉู ุณููู ุดูุง ูุงุจูุฏ ูโุดูุฏุ ฺฉ ุฌุงู ุงุฒ ุฏุณุช ูโุฏูุฏ. ููุช ุชูุงู ุฌุงูโูุง ุชูุงู ุดููุฏุ ุจุงุฒ ุฑุง ูโุจุงุฒุฏ.
- **ุดูุง `N` ุงูุชุงุฒ ุฌูุนโุขูุฑ ฺฉุฑุฏูโุงุฏ**: ฺฉ ุดุฑุท ูพุงุงู ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ุดูุง ุงูุชุงุฒ ุฌูุนโุขูุฑ ฺฉูุฏ. ุงูฺฉู ฺฺฏููู ุงูุชุงุฒ ฺฉุณุจ ฺฉูุฏ ุจู ุดูุง ุจุณุชฺฏ ุฏุงุฑุฏุ ุงูุง ูุนูููุงู ุจู ูุนุงูุชโูุง ูุงููุฏ ูุงุจูุฏ ฺฉุฑุฏู ุณููู ุฏุดูู ุง ุฌูุนโุขูุฑ ุขุชูโูุง ฺฉู ููฺฏุงู ูุงุจูุฏ ุฏุดููโูุง ุฑูุง ูโุดููุฏุ ุงูุชุงุฒ ุชุนูู ูโฺฏุฑุฏ.
- **ุชฺฉูู ฺฉ ูุฑุญูู**: ุงู ููฺฉู ุงุณุช ุดุงูู ฺูุฏู ุดุฑุท ุจุงุดุฏุ ูุงููุฏ ูุงุจูุฏ `X` ุณููู ุฏุดููุ ุฌูุนโุขูุฑ `Y` ุงูุชุงุฒ ุง ุดุงุฏ ุฌูุนโุขูุฑ ฺฉ ุขุชู ุฎุงุต.

## ุดุฑูุน ูุฌุฏุฏ

ุงฺฏุฑ ุงูุฑุงุฏ ุงุฒ ุจุงุฒ ุดูุง ูุฐุช ุจุจุฑูุฏุ ุงุญุชูุงูุงู ูโุฎูุงููุฏ ุฏูุจุงุฑู ุขู ุฑุง ุจุงุฒ ฺฉููุฏ. ููุช ุจุงุฒ ุจู ูุฑ ุฏูู ุชูุงู ูโุดูุฏุ ุจุงุฏ ฺฏุฒููโุง ุจุฑุง ุดุฑูุน ูุฌุฏุฏ ุงุฑุงุฆู ุฏูุฏ.

โ ฺฉู ูฺฉุฑ ฺฉูุฏ ฺฉู ุชุญุช ฺู ุดุฑุงุท ฺฉ ุจุงุฒ ุจู ูพุงุงู ูโุฑุณุฏ ู ุณูพุณ ฺฺฏููู ุจู ุดูุง ูพุดููุงุฏ ุดุฑูุน ูุฌุฏุฏ ุฏุงุฏู ูโุดูุฏ.

## ฺู ฺุฒ ุจุณุงุฒุฏ

ุดูุง ุจุงุฏ ุงู ููุงูู ุฑุง ุจู ุจุงุฒ ุฎูุฏ ุงุถุงูู ฺฉูุฏ:

1. **ุจุฑูุฏู ุดุฏู ุฏุฑ ุจุงุฒ**. ููุช ุชูุงู ุณูููโูุง ุฏุดูู ูุงุจูุฏ ุดุฏูุฏุ ุดูุง ุจุงุฒ ุฑุง ูโุจุฑุฏ. ููฺูู ฺฉ ูพุงู ูพุฑูุฒ ููุงุด ุฏูุฏ.
2. **ุดุฑูุน ูุฌุฏุฏ**. ููุช ุชูุงู ุฌุงูโูุง ุดูุง ุงุฒ ุฏุณุช ุฑูุช ุง ุจุงุฒ ุจุฑูุฏู ุดุฏุ ุจุงุฏ ุฑุงู ุจุฑุง ุดุฑูุน ูุฌุฏุฏ ุจุงุฒ ุงุฑุงุฆู ุฏูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ! ุดูุง ุจุงุฏ ุจุงุฒ ุฑุง ุฏูุจุงุฑู ููุฏุงุฑุฏู ุงููู ฺฉูุฏ ู ูุถุนุช ูุจู ุจุงุฒ ุฑุง ูพุงฺฉ ฺฉูุฏ.

## ูุฑุงุญู ูพุดููุงุฏ

ูุงูโูุง ฺฉู ุจุฑุง ุดูุง ุงุฌุงุฏ ุดุฏูโุงูุฏ ุฑุง ุฏุฑ ูพูุดู `your-work` ูพุฏุง ฺฉูุฏ. ุงู ูพูุดู ุจุงุฏ ุดุงูู ููุงุฑุฏ ุฒุฑ ุจุงุดุฏ:

```bash
-| assets
  -| enemyShip.png
  -| player.png
  -| laserRed.png
  -| life.png
-| index.html
-| app.js
-| package.json
```

ูพุฑูฺู ุฎูุฏ ุฑุง ุฏุฑ ูพูุดู `your_work` ุจุง ุชุงูพ ฺฉุฑุฏู ุฏุณุชูุฑ ุฒุฑ ุดุฑูุน ฺฉูุฏ:

```bash
cd your-work
npm start
```

ุฏุณุชูุฑ ุจุงูุง ฺฉ ุณุฑูุฑ HTTP ุฑุง ุฏุฑ ุขุฏุฑุณ `http://localhost:5000` ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ. ฺฉ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ ู ุงู ุขุฏุฑุณ ุฑุง ูุงุฑุฏ ฺฉูุฏ. ุจุงุฒ ุดูุง ุจุงุฏ ุฏุฑ ุญุงูุช ูุงุจู ุจุงุฒ ุจุงุดุฏ.

> ูฺฉุชู: ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุดุฏุงุฑูุง ุฏุฑ Visual Studio Codeุ ุชุงุจุน `window.onload` ุฑุง ูุฑุงุด ฺฉูุฏ ุชุง `gameLoopId` ุฑุง ููุงูโุทูุฑ ฺฉู ูุณุช (ุจุฏูู `let`) ูุฑุงุฎูุงู ฺฉูุฏ ู ูุชุบุฑ `gameLoopId` ุฑุง ุฏุฑ ุจุงูุง ูุงู ุจู ุตูุฑุช ูุณุชูู ุชุนุฑู ฺฉูุฏ: `let gameLoopId;`

### ุงุถุงูู ฺฉุฑุฏู ฺฉุฏ

1. **ุฑุฏุงุจ ุดุฑุท ูพุงุงู**. ฺฉุฏ ุงุถุงูู ฺฉูุฏ ฺฉู ุชุนุฏุงุฏ ุฏุดููุงู ุง ูุงุจูุฏ ุณููู ููุฑูุงู ุฑุง ุฑุฏุงุจ ฺฉูุฏุ ุจุง ุงุถุงูู ฺฉุฑุฏู ุงู ุฏู ุชุงุจุน:

    ```javascript
    function isHeroDead() {
      return hero.life <= 0;
    }

    function isEnemiesDead() {
      const enemies = gameObjects.filter((go) => go.type === "Enemy" && !go.dead);
      return enemies.length === 0;
    }
    ```

1. **ุงุถุงูู ฺฉุฑุฏู ููุทู ุจู ูุฏุฑุช ูพุงูโูุง**. `eventEmitter` ุฑุง ูุฑุงุด ฺฉูุฏ ุชุง ุงู ุดุฑุงุท ุฑุง ูุฏุฑุช ฺฉูุฏ:

    ```javascript
    eventEmitter.on(Messages.COLLISION_ENEMY_LASER, (_, { first, second }) => {
        first.dead = true;
        second.dead = true;
        hero.incrementPoints();

        if (isEnemiesDead()) {
          eventEmitter.emit(Messages.GAME_END_WIN);
        }
    });

    eventEmitter.on(Messages.COLLISION_ENEMY_HERO, (_, { enemy }) => {
        enemy.dead = true;
        hero.decrementLife();
        if (isHeroDead())  {
          eventEmitter.emit(Messages.GAME_END_LOSS);
          return; // loss before victory
        }
        if (isEnemiesDead()) {
          eventEmitter.emit(Messages.GAME_END_WIN);
        }
    });
    
    eventEmitter.on(Messages.GAME_END_WIN, () => {
        endGame(true);
    });
      
    eventEmitter.on(Messages.GAME_END_LOSS, () => {
      endGame(false);
    });
    ```

1. **ุงุถุงูู ฺฉุฑุฏู ุงููุงุน ุฌุฏุฏ ูพุงูโูุง**. ุงู ูพุงูโูุง ุฑุง ุจู ุดุก constants ุงุถุงูู ฺฉูุฏ:

    ```javascript
    GAME_END_LOSS: "GAME_END_LOSS",
    GAME_END_WIN: "GAME_END_WIN",
    ```

2. **ุงุถุงูู ฺฉุฑุฏู ฺฉุฏ ุดุฑูุน ูุฌุฏุฏ** ฺฉุฏ ฺฉู ุจุงุฒ ุฑุง ุจุง ูุดุงุฑ ฺฉ ุฏฺฉูู ุงูุชุฎุงุจ ุฏูุจุงุฑู ุดุฑูุน ฺฉูุฏ.

   1. **ฺฏูุด ุฏุงุฏู ุจู ูุดุงุฑ ฺฉูุฏ `Enter`**. EventListener ูพูุฌุฑู ุฎูุฏ ุฑุง ูุฑุงุด ฺฉูุฏ ุชุง ุจู ุงู ูุดุงุฑ ฺฏูุด ุฏูุฏ:

    ```javascript
     else if(evt.key === "Enter") {
        eventEmitter.emit(Messages.KEY_EVENT_ENTER);
      }
    ```

   1. **ุงุถุงูู ฺฉุฑุฏู ูพุงู ุดุฑูุน ูุฌุฏุฏ**. ุงู ูพุงู ุฑุง ุจู ุซุงุจุช Messages ุงุถุงูู ฺฉูุฏ:

        ```javascript
        KEY_EVENT_ENTER: "KEY_EVENT_ENTER",
        ```

1. **ูพุงุฏูโุณุงุฒ ููุงูู ุจุงุฒ**. ููุงูู ุฒุฑ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏ:

   1. **ุดุฑุท ุจุฑุฏ ุจุงุฒฺฉู**. ููุช ุชูุงู ุณูููโูุง ุฏุดูู ูุงุจูุฏ ุดุฏูุฏุ ฺฉ ูพุงู ูพุฑูุฒ ููุงุด ุฏูุฏ.

      1. ุงุจุชุฏุง ฺฉ ุชุงุจุน `displayMessage()` ุงุฌุงุฏ ฺฉูุฏ:

        ```javascript
        function displayMessage(message, color = "red") {
          ctx.font = "30px Arial";
          ctx.fillStyle = color;
          ctx.textAlign = "center";
          ctx.fillText(message, canvas.width / 2, canvas.height / 2);
        }
        ```

      1. ฺฉ ุชุงุจุน `endGame()` ุงุฌุงุฏ ฺฉูุฏ:

        ```javascript
        function endGame(win) {
          clearInterval(gameLoopId);
        
          // set a delay so we are sure any paints have finished
          setTimeout(() => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            if (win) {
              displayMessage(
                "Victory!!! Pew Pew... - Press [Enter] to start a new game Captain Pew Pew",
                "green"
              );
            } else {
              displayMessage(
                "You died !!! Press [Enter] to start a new game Captain Pew Pew"
              );
            }
          }, 200)  
        }
        ```

   1. **ููุทู ุดุฑูุน ูุฌุฏุฏ**. ููุช ุชูุงู ุฌุงูโูุง ุงุฒ ุฏุณุช ุฑูุช ุง ุจุงุฒฺฉู ุจุงุฒ ุฑุง ุจุฑุฏุ ููุงุด ุฏูุฏ ฺฉู ุจุงุฒ ูโุชูุงูุฏ ุฏูุจุงุฑู ุดุฑูุน ุดูุฏ. ููฺูู ููุช ฺฉูุฏ *ุดุฑูุน ูุฌุฏุฏ* ูุดุฑุฏู ุดุฏุ ุจุงุฒ ุฑุง ุฏูุจุงุฑู ุดุฑูุน ฺฉูุฏ (ูโุชูุงูุฏ ุชุตูู ุจฺฏุฑุฏ ฺฉู ฺฉุฏุงู ฺฉูุฏ ุจู ุดุฑูุน ูุฌุฏุฏ ุงุฎุชุตุงุต ุฏุงุฏู ุดูุฏ).

      1. ุชุงุจุน `resetGame()` ุฑุง ุงุฌุงุฏ ฺฉูุฏ:

        ```javascript
        function resetGame() {
          if (gameLoopId) {
            clearInterval(gameLoopId);
            eventEmitter.clear();
            initGame();
            gameLoopId = setInterval(() => {
              ctx.clearRect(0, 0, canvas.width, canvas.height);
              ctx.fillStyle = "black";
              ctx.fillRect(0, 0, canvas.width, canvas.height);
              drawPoints();
              drawLife();
              updateGameObjects();
              drawGameObjects(ctx);
            }, 100);
          }
        }
        ```

     1. ฺฉ ูุฑุงุฎูุงู ุจู `eventEmitter` ุจุฑุง ุจุงุฒูุดุงู ุจุงุฒ ุฏุฑ `initGame()` ุงุถุงูู ฺฉูุฏ:

        ```javascript
        eventEmitter.on(Messages.KEY_EVENT_ENTER, () => {
          resetGame();
        });
        ```

     1. ฺฉ ุชุงุจุน `clear()` ุจู EventEmitter ุงุถุงูู ฺฉูุฏ:

        ```javascript
        clear() {
          this.listeners = {};
        }
        ```

๐ฝ ๐ฅ ๐ ุชุจุฑฺฉ ูโฺฏููุ ฺฉุงูพุชุงู! ุจุงุฒ ุดูุง ฺฉุงูู ุดุฏ! ุขูุฑู! ๐ ๐ฅ ๐ฝ

---

## ๐ ฺุงูุด

ฺฉ ุตุฏุง ุงุถุงูู ฺฉูุฏ! ุขุง ูโุชูุงูุฏ ฺฉ ุตุฏุง ุจุฑุง ุจูุจูุฏ ุชุฌุฑุจู ุจุงุฒ ุงุถุงูู ฺฉูุฏุ ูุซูุงู ููุช ูุฒุฑ ุจุฑุฎูุฑุฏ ูโฺฉูุฏุ ุง ููุฑูุงู ูโูุฑุฏ ุง ุจุฑูุฏู ูโุดูุฏุ ุจู ุงู [sandbox](https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_audio_play) ูฺฏุงู ุจูุฏุงุฒุฏ ุชุง ุงุฏ ุจฺฏุฑุฏ ฺฺฏููู ุจุง ุงุณุชูุงุฏู ุงุฒ JavaScript ุตุฏุง ูพุฎุด ฺฉูุฏ.

## ุขุฒููู ูพุณ ุงุฒ ุฏุฑุณ

[ุขุฒููู ูพุณ ุงุฒ ุฏุฑุณ](https://ff-quizzes.netlify.app/web/quiz/40)

## ูุฑูุฑ ู ูุทุงูุนู ุดุฎุต

ุชฺฉูู ุดูุง ุงู ุงุณุช ฺฉู ฺฉ ููููู ุจุงุฒ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏุ ุจูุงุจุฑุงู ุจุฑุฎ ุงุฒ ุจุงุฒโูุง ุฌุงูุจ ููุฌูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ ุชุง ุจุจูุฏ ฺู ููุน ุจุงุฒโุง ููฺฉู ุงุณุช ุจุณุงุฒุฏ.

## ุชฺฉูู

[ุณุงุฎุช ฺฉ ุจุงุฒ ููููู](assignment.md)

---

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุจุฑุง ุฏูุช ุชูุงุด ูโฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุดุงูู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุจูู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุณุงุณุ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุชูุตู ูโุดูุฏ. ูุง ูฺ ูุณุฆููุช ุฏุฑ ูุจุงู ุณูุกุชูุงููโูุง ุง ุชูุณุฑูุง ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.