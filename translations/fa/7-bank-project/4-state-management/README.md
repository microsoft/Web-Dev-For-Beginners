<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b46acf79da8550d76445eed00b06c878",
  "translation_date": "2025-10-03T12:47:15+00:00",
  "source_file": "7-bank-project/4-state-management/README.md",
  "language_code": "fa"
}
-->
# ุณุงุฎุช ุงูพูฺฉุดู ุจุงูฺฉ ูุณูุช ด: ููุงูู ูุฏุฑุช ูุถุนุช

## ุขุฒููู ูพุด ุงุฒ ุฏุฑุณ

[ุขุฒููู ูพุด ุงุฒ ุฏุฑุณ](https://ff-quizzes.netlify.app/web/quiz/47)

### ููุฏูู

ุจุง ุฑุดุฏ ฺฉ ุงูพูฺฉุดู ูุจุ ูพฺฏุฑ ุฌุฑุงูโูุง ุฏุงุฏูโุง ุฏุดูุงุฑ ูโุดูุฏ. ฺฉุฏุงู ฺฉุฏ ุฏุงุฏูโูุง ุฑุง ุฏุฑุงูุช ูโฺฉูุฏุ ฺฉุฏุงู ุตูุญู ุขูโูุง ุฑุง ูุตุฑู ูโฺฉูุฏุ ฺฉุฌุง ู ฺู ุฒูุงู ุจุงุฏ ุจูโุฑูุฒุฑุณุงู ุดููุฏ... ุจูโุฑุงุญุช ููฺฉู ุงุณุช ฺฉุฏ ูุงูุฑุชุจ ุงุฌุงุฏ ุดูุฏ ฺฉู ูฺฏูุฏุงุฑ ุขู ุฏุดูุงุฑ ุจุงุดุฏ. ุงู ููุถูุน ุจูโูฺู ุฒูุงู ุตุงุฏู ุงุณุช ฺฉู ูุงุฒ ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุฏุงุฏูโูุง ุจู ุตูุญุงุช ูุฎุชูู ุงูพูฺฉุดู ุฎูุฏ ุฏุงุฑุฏุ ูุงููุฏ ุฏุงุฏูโูุง ฺฉุงุฑุจุฑ. ููููู *ูุฏุฑุช ูุถุนุช* ููุดู ุฏุฑ ุงููุงุน ุจุฑูุงููโูุง ูุฌูุฏ ุฏุงุดุชู ุงุณุชุ ุงูุง ุจุง ุงูุฒุงุด ูพฺุฏฺฏ ุงูพูฺฉุดูโูุง ูุจุ ุงฺฉููู ุจู ฺฉ ูฺฉุชู ฺฉูุฏ ุฏุฑ ุชูุณุนู ุชุจุฏู ุดุฏู ุงุณุช.

ุฏุฑ ุงู ุจุฎุด ูพุงุงูุ ุงูพูฺฉุดู ฺฉู ุณุงุฎุชูโุงู ุฑุง ุจุฑุฑุณ ูโฺฉูู ุชุง ูุญูู ูุฏุฑุช ูุถุนุช ุฑุง ุจุงุฒูฺฏุฑ ฺฉููุ ุจูโุทูุฑ ฺฉู ุงุฒ ุชุงุฒูโุณุงุฒ ูุฑูุฑฺฏุฑ ุฏุฑ ูุฑ ููุทู ูพุดุชุจุงู ฺฉูุฏ ู ุฏุงุฏูโูุง ุฑุง ุฏุฑ ุฌูุณุงุช ฺฉุงุฑุจุฑ ุญูุธ ฺฉูุฏ.

### ูพุดโูุงุฒ

ุจุฑุง ุงู ุฏุฑุณุ ุจุงุฏ ุจุฎุด [ุฏุฑุงูุช ุฏุงุฏูโูุง](../3-data/README.md) ุงุฒ ุงูพูฺฉุดู ูุจ ุฑุง ุชฺฉูู ฺฉุฑุฏู ุจุงุดุฏ. ููฺูู ุจุงุฏ [Node.js](https://nodejs.org) ุฑุง ูุตุจ ฺฉูุฏ ู [ุณุฑูุฑ API](../api/README.md) ุฑุง ุจูโุตูุฑุช ูุญู ุงุฌุฑุง ฺฉูุฏ ุชุง ุจุชูุงูุฏ ุฏุงุฏูโูุง ุญุณุงุจ ุฑุง ูุฏุฑุช ฺฉูุฏ.

ุจุฑุง ุงุทููุงู ุงุฒ ุงุฌุฑุง ุตุญุญ ุณุฑูุฑุ ูโุชูุงูุฏ ุงู ุฏุณุชูุฑ ุฑุง ุฏุฑ ุชุฑููุงู ุงุฌุฑุง ฺฉูุฏ:

```sh
curl http://localhost:5000/api
# -> should return "Bank API v1.0.0" as a result
```

---

## ุจุงุฒูฺฏุฑ ูุฏุฑุช ูุถุนุช

ุฏุฑ [ุฏุฑุณ ูุจู](../3-data/README.md)ุ ฺฉ ููููู ุงุจุชุฏุง ุงุฒ ูุถุนุช ุฑุง ุฏุฑ ุงูพูฺฉุดู ุฎูุฏ ุจุง ูุชุบุฑ ุฌูุงู `account` ูุนุฑู ฺฉุฑุฏู ฺฉู ุฏุงุฏูโูุง ุจุงูฺฉ ฺฉุงุฑุจุฑ ูุงุฑุฏ ุดุฏู ุฑุง ุฐุฎุฑู ูโฺฉูุฏ. ุจุง ุงู ุญุงูุ ูพุงุฏูโุณุงุฒ ูุนู ูุง ุฏุงุฑุง ุจุฑุฎ ููุตโูุง ุงุณุช. ุตูุญู ุฑุง ุฏุฑ ุฏุงุดุจูุฑุฏ ุชุงุฒูโุณุงุฒ ฺฉูุฏ. ฺู ุงุชูุงู ูโุงูุชุฏุ

ฺฉุฏ ูุนู ูุง ุณู ูุดฺฉู ุฏุงุฑุฏ:

- ูุถุนุช ุญูุธ ููโุดูุฏุ ุฒุฑุง ุชุงุฒูโุณุงุฒ ูุฑูุฑฺฏุฑ ุดูุง ุฑุง ุจู ุตูุญู ูุฑูุฏ ุจุงุฒูโฺฏุฑุฏุงูุฏ.
- ฺูุฏู ุชุงุจุน ูุถุนุช ุฑุง ุชุบุฑ ูโุฏููุฏ. ุจุง ุฑุดุฏ ุงูพูฺฉุดูุ ุงู ููุถูุน ูโุชูุงูุฏ ูพฺฏุฑ ุชุบุฑุงุช ุฑุง ุฏุดูุงุฑ ฺฉูุฏ ู ุจูโุฑุงุญุช ููฺฉู ุงุณุช ุจูโุฑูุฒุฑุณุงู ฺฉ ุงุฒ ุขูโูุง ูุฑุงููุด ุดูุฏ.
- ูุถุนุช ูพุงฺฉ ููโุดูุฏุ ุจูุงุจุฑุงู ููุช ุฑู *ุฎุฑูุฌ* ฺฉูฺฉ ูโฺฉูุฏุ ุฏุงุฏูโูุง ุญุณุงุจ ููฺูุงู ูุฌูุฏ ุฏุงุฑูุฏุ ุญุช ุงฺฏุฑ ุฏุฑ ุตูุญู ูุฑูุฏ ุจุงุดุฏ.

ูโุชูุงูู ฺฉุฏ ุฎูุฏ ุฑุง ุจูโฺฏูููโุง ุจูโุฑูุฒุฑุณุงู ฺฉูู ฺฉู ุงู ูุดฺฉูุงุช ุฑุง ฺฉโฺฉ ุญู ฺฉููุ ุงูุง ุงู ฺฉุงุฑ ุจุงุนุซ ุงุฌุงุฏ ุชฺฉุฑุงุฑ ฺฉุฏ ุจุดุชุฑ ู ูพฺุฏูโุชุฑ ุดุฏู ุงูพูฺฉุดู ูโุดูุฏ. ุง ูโุชูุงูู ฺูุฏ ุฏููู ูฺฉุซ ฺฉูู ู ุงุณุชุฑุงุชฺ ุฎูุฏ ุฑุง ุจุงุฒูฺฏุฑ ฺฉูู.

> ูุงูุนุงู ฺู ูุดฺฉูุงุช ุฑุง ูโุฎูุงูู ุญู ฺฉููุ

[ูุฏุฑุช ูุถุนุช](https://en.wikipedia.org/wiki/State_management) ุจู ุงูุชู ฺฉ ุฑูฺฉุฑุฏ ููุงุณุจ ุจุฑุง ุญู ุงู ุฏู ูุดฺฉู ุฎุงุต ูุฑุจูุท ูโุดูุฏ:

- ฺฺฏููู ุฌุฑุงูโูุง ุฏุงุฏูโุง ุฏุฑ ฺฉ ุงูพูฺฉุดู ูุงุจู ููู ูฺฏู ุฏุงุดุชู ุดููุฏุ
- ฺฺฏููู ุฏุงุฏูโูุง ูุถุนุช ููุดู ุจุง ุฑุงุจุท ฺฉุงุฑุจุฑ ููุงููฺฏ ุจุงุดูุฏ (ู ุจุงูุนฺฉุณ)ุ

ูพุณ ุงุฒ ุฑุณุฏฺฏ ุจู ุงู ููุงุฑุฏุ ูุฑ ูุดฺฉู ุฏฺฏุฑ ฺฉู ููฺฉู ุงุณุช ุฏุงุดุชู ุจุงุดุฏ ุง ูุจูุงู ุญู ุดุฏู ุงุณุช ุง ุขุณุงูโุชุฑ ูุงุจู ุญู ุฎูุงูุฏ ุจูุฏ. ุฑูุดโูุง ุฒุงุฏ ุจุฑุง ุญู ุงู ูุดฺฉูุงุช ูุฌูุฏ ุฏุงุฑุฏุ ุงูุง ูุง ุงุฒ ฺฉ ุฑุงูโุญู ุฑุงุฌ ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุดุงูู **ูุชูุฑฺฉุฒ ฺฉุฑุฏู ุฏุงุฏูโูุง ู ุฑูุดโูุง ุชุบุฑ ุขูโูุง** ุงุณุช. ุฌุฑุงูโูุง ุฏุงุฏูโุง ุจู ุงู ุตูุฑุช ุฎูุงููุฏ ุจูุฏ:

![ุทุฑุญ ฺฉู ุฌุฑุงูโูุง ุฏุงุฏูโุง ุจู HTMLุ ุงูุฏุงูุงุช ฺฉุงุฑุจุฑ ู ูุถุนุช ุฑุง ูุดุงู ูโุฏูุฏ](../../../../translated_images/data-flow.fa2354e0908fecc89b488010dedf4871418a992edffa17e73441d257add18da4.fa.png)

> ุฏุฑ ุงูุฌุง ุจุฎุด ฺฉู ุฏุงุฏูโูุง ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ุจูโุฑูุฒุฑุณุงู ููุง ุฑุง ุชุญุฑฺฉ ูโฺฉููุฏุ ูพูุดุด ุฏุงุฏู ููโุดูุฏุ ุฒุฑุง ุจู ููุงูู ูพุดุฑูุชูโุชุฑ [ุจุฑูุงููโููุณ ูุงฺฉูุด](https://en.wikipedia.org/wiki/Reactive_programming) ูุฑุชุจุท ุงุณุช. ุงู ููุถูุน ูโุชูุงูุฏ ฺฉ ููุถูุน ูพฺฏุฑ ุฎูุจ ุจุงุดุฏ ุงฺฏุฑ ุจู ุฏูุจุงู ฺฉ ุจุฑุฑุณ ุนูู ูุณุชุฏ.

โ ฺฉุชุงุจุฎุงููโูุง ุฒุงุฏ ุจุง ุฑูฺฉุฑุฏูุง ูุฎุชูู ุจุฑุง ูุฏุฑุช ูุถุนุช ูุฌูุฏ ุฏุงุฑูุฏุ [Redux](https://redux.js.org) ฺฉ ุงุฒ ฺฏุฒููโูุง ูุญุจูุจ ุงุณุช. ูฺฏุงู ุจู ููุงูู ู ุงูฺฏููุง ุงุณุชูุงุฏู ุดุฏู ุจูุฏุงุฒุฏุ ุฒุฑุง ุงุบูุจ ุฑุงู ุฎูุจ ุจุฑุง ุงุฏฺฏุฑ ูุดฺฉูุงุช ุงุญุชูุงู ุฏุฑ ุงูพูฺฉุดูโูุง ูุจ ุจุฒุฑฺฏ ู ูุญูู ุญู ุขูโูุง ุงุณุช.

### ูุธูู

ุจุง ฺฉู ุจุงุฒุณุงุฒ ุดุฑูุน ูโฺฉูู. ุงุนูุงู `account` ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ:

```js
let account = null;
```

ุจุง:

```js
let state = {
  account: null
};
```

ุงุฏู ุงู ุงุณุช ฺฉู *ุชูุงู ุฏุงุฏูโูุง ุงูพูฺฉุดู* ุฎูุฏ ุฑุง ุฏุฑ ฺฉ ุดุก ูุถุนุช ูุงุญุฏ ูุชูุฑฺฉุฒ ฺฉูู. ุฏุฑ ุญุงู ุญุงุถุฑ ููุท `account` ุฏุฑ ูุถุนุช ุฏุงุฑูุ ุจูุงุจุฑุงู ุชุบุฑ ุฒุงุฏ ุงุฌุงุฏ ููโุดูุฏุ ุงูุง ุฑุงู ุจุฑุง ุชฺฉุงูู ุงุฌุงุฏ ูโฺฉูุฏ.

ููฺูู ุจุงุฏ ุชูุงุจุน ฺฉู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูู. ุฏุฑ ุชูุงุจุน `register()` ู `login()`ุ `account = ...` ุฑุง ุจุง `state.account = ...` ุฌุงฺฏุฒู ฺฉูุฏ.

ุฏุฑ ุงุจุชุฏุง ุชุงุจุน `updateDashboard()`ุ ุงู ุฎุท ุฑุง ุงุถุงูู ฺฉูุฏ:

```js
const account = state.account;
```

ุงู ุจุงุฒุณุงุฒ ุจูโุชููุง ุจูุจูุฏ ุฒุงุฏ ุงุฌุงุฏ ูฺฉุฑุฏุ ุงูุง ุงุฏู ุงู ุจูุฏ ฺฉู ูพุงูโุง ุจุฑุง ุชุบุฑุงุช ุจุนุฏ ุงุฌุงุฏ ุดูุฏ.

## ูพฺฏุฑ ุชุบุฑุงุช ุฏุงุฏูโูุง

ุงฺฉููู ฺฉู ุดุก `state` ุฑุง ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุฎูุฏ ุงุฌุงุฏ ฺฉุฑุฏูโุงูุ ฺฏุงู ุจุนุฏ ูุชูุฑฺฉุฒ ฺฉุฑุฏู ุจูโุฑูุฒุฑุณุงูโูุง ุงุณุช. ูุฏู ุงู ุงุณุช ฺฉู ูพฺฏุฑ ูุฑฺฏููู ุชุบุฑ ู ุฒูุงู ูููุน ุขูโูุง ุขุณุงูโุชุฑ ุดูุฏ.

ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงุฌุงุฏ ุชุบุฑุงุช ุฏุฑ ุดุก `state`ุ ููฺูู ฺฉ ุชูุฑู ุฎูุจ ุงุณุช ฺฉู ุขู ุฑุง [*ุบุฑูุงุจู ุชุบุฑ*](https://en.wikipedia.org/wiki/Immutable_object) ุฏุฑ ูุธุฑ ุจฺฏุฑูุ ุจู ุงู ูุนู ฺฉู ุงุตูุงู ููโุชูุงู ุขู ุฑุง ุชุบุฑ ุฏุงุฏ. ุงู ููฺูู ุจู ุงู ูุนู ุงุณุช ฺฉู ุงฺฏุฑ ุจุฎูุงูุฏ ฺุฒ ุฑุง ุฏุฑ ุขู ุชุบุฑ ุฏูุฏุ ุจุงุฏ ฺฉ ุดุก ูุถุนุช ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ. ุจุง ุงูุฌุงู ุงู ฺฉุงุฑุ ุงุฒ ุงุซุฑุงุช ุฌุงูุจ [ูุงุฎูุงุณุชู](https://en.wikipedia.org/wiki/Side_effect_(computer_science)) ูุญุงูุธุช ูโฺฉูุฏ ู ุงูฺฉุงู ุงุฌุงุฏ ูฺฺฏโูุง ุฌุฏุฏ ุฏุฑ ุงูพูฺฉุดู ุฎูุฏ ูุงููุฏ ูพุงุฏูโุณุงุฒ undo/redo ุฑุง ูุฑุงูู ูโฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุงุดฺฉุงูโุฒุฏุง ุฑุง ูุฒ ุขุณุงูโุชุฑ ูโฺฉูุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูุฏ ูุฑ ุชุบุฑ ุงุฌุงุฏ ุดุฏู ุฏุฑ ูุถุนุช ุฑุง ุซุจุช ฺฉูุฏ ู ุชุงุฑุฎฺู ุชุบุฑุงุช ุฑุง ูฺฏู ุฏุงุฑุฏ ุชุง ููุจุน ฺฉ ุงุดฺฉุงู ุฑุง ุฏุฑฺฉ ฺฉูุฏ.

ุฏุฑ ุฌุงูุงุงุณฺฉุฑูพุชุ ูโุชูุงูุฏ ุงุฒ [`Object.freeze()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze) ุจุฑุง ุงุฌุงุฏ ูุณุฎู ุบุฑูุงุจู ุชุบุฑ ฺฉ ุดุก ุงุณุชูุงุฏู ฺฉูุฏ. ุงฺฏุฑ ุณุน ฺฉูุฏ ุชุบุฑุงุช ุฏุฑ ฺฉ ุดุก ุบุฑูุงุจู ุชุบุฑ ุงุฌุงุฏ ฺฉูุฏุ ฺฉ ุงุณุชุซูุง ุงุฌุงุฏ ุฎูุงูุฏ ุดุฏ.

โ ุขุง ุชูุงูุช ุจู ฺฉ ุดุก ุบุฑูุงุจู ุชุบุฑ *ุณุทุญ* ู *ุนูู* ุฑุง ูโุฏุงูุฏุ ูโุชูุงูุฏ ุฏุฑุจุงุฑู ุขู [ุงูุฌุง](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze#What_is_shallow_freeze) ุจุฎูุงูุฏ.

### ูุธูู

ุจุงุฏ ฺฉ ุชุงุจุน ุฌุฏุฏ `updateState()` ุงุฌุงุฏ ฺฉูู:

```js
function updateState(property, newData) {
  state = Object.freeze({
    ...state,
    [property]: newData
  });
}
```

ุฏุฑ ุงู ุชุงุจุนุ ฺฉ ุดุก ูุถุนุช ุฌุฏุฏ ุงุฌุงุฏ ูโฺฉูู ู ุฏุงุฏูโูุง ุฑุง ุงุฒ ูุถุนุช ูุจู ุจุง ุงุณุชูุงุฏู ุงุฒ [ุนููฺฏุฑ *ฺฏุณุชุฑุด (`...`)*](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_object_literals) ฺฉูพ ูโฺฉูู. ุณูพุณ ฺฉ ูฺฺฏ ุฎุงุต ุงุฒ ุดุก ูุถุนุช ุฑุง ุจุง ุฏุงุฏูโูุง ุฌุฏุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ [ูุดุงููโฺฏุฐุงุฑ ุจุฑุงฺฉุช](https://developer.mozilla.org/docs/Web/JavaScript/Guide/Working_with_Objects#Objects_and_properties) `[property]` ุจุฑุง ุชุฎุตุต ุจุงุฒููุณ ูโฺฉูู. ุฏุฑ ููุงุชุ ุดุก ุฑุง ููู ูโฺฉูู ุชุง ุงุฒ ุชุบุฑุงุช ุฌููฺฏุฑ ฺฉูู ุจุง ุงุณุชูุงุฏู ุงุฒ `Object.freeze()`. ุฏุฑ ุญุงู ุญุงุถุฑ ููุท ูฺฺฏ `account` ุฏุฑ ูุถุนุช ุฐุฎุฑู ุดุฏู ุงุณุชุ ุงูุง ุจุง ุงู ุฑูฺฉุฑุฏ ูโุชูุงูุฏ ุจู ุชุนุฏุงุฏ ููุฑุฏ ูุงุฒ ูฺฺฏโูุง ุฑุง ุจู ูุถุนุช ุงุถุงูู ฺฉูุฏ.

ููฺูู ููุฏุงุฑุฏู ุงููู `state` ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูู ุชุง ูุทูุฆู ุดูู ูุถุนุช ุงููู ูุฒ ููู ุดุฏู ุงุณุช:

```js
let state = Object.freeze({
  account: null
});
```

ูพุณ ุงุฒ ุขูุ ุชุงุจุน `register` ุฑุง ุจุง ุฌุงฺฏุฒู ุชุฎุตุต `state.account = result;` ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:

```js
updateState('account', result);
```

ููู ฺฉุงุฑ ุฑุง ุจุง ุชุงุจุน `login` ุงูุฌุงู ุฏูุฏุ ุชุฎุตุต `state.account = data;` ุฑุง ุจุง:

```js
updateState('account', data);
```

ุงฺฉููู ูุฑุตุช ุฑุง ุบููุช ูโุดูุงุฑู ุชุง ูุดฺฉู ูพุงฺฉ ูุดุฏู ุฏุงุฏูโูุง ุญุณุงุจ ููฺฏุงู ฺฉูฺฉ ฺฉุงุฑุจุฑ ุฑู *ุฎุฑูุฌ* ุฑุง ุญู ฺฉูู.

ฺฉ ุชุงุจุน ุฌุฏุฏ `logout()` ุงุฌุงุฏ ฺฉูุฏ:

```js
function logout() {
  updateState('account', null);
  navigate('/login');
}
```

ุฏุฑ `updateDashboard()`ุ ุจุงุฒฺฏุฑุฏุงู `return navigate('/login');` ุฑุง ุจุง `return logout();` ุฌุงฺฏุฒู ฺฉูุฏ.

ฺฉ ุญุณุงุจ ุฌุฏุฏ ุซุจุช ฺฉูุฏุ ุฎุงุฑุฌ ุดูุฏ ู ุฏูุจุงุฑู ูุงุฑุฏ ุดูุฏ ุชุง ูุทูุฆู ุดูุฏ ฺฉู ููู ฺุฒ ูููุฒ ุจูโุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.

> ูฺฉุชู: ูโุชูุงูุฏ ุจุง ุงูุฒูุฏู `console.log(state)` ุฏุฑ ุงูุชูุง `updateState()` ู ุจุงุฒ ฺฉุฑุฏู ฺฉูุณูู ุฏุฑ ุงุจุฒุงุฑูุง ุชูุณุนู ูุฑูุฑฺฏุฑ ุฎูุฏุ ุชูุงู ุชุบุฑุงุช ูุถุนุช ุฑุง ูุดุงูุฏู ฺฉูุฏ.

## ุญูุธ ูุถุนุช

ุจุดุชุฑ ุงูพูฺฉุดูโูุง ูุจ ุจุฑุง ุนููฺฉุฑุฏ ุตุญุญ ูุงุฒ ุจู ุญูุธ ุฏุงุฏูโูุง ุฏุงุฑูุฏ. ุชูุงู ุฏุงุฏูโูุง ุญุงุช ูุนูููุงู ุฏุฑ ฺฉ ูพุงฺฏุงู ุฏุงุฏู ุฐุฎุฑู ูโุดููุฏ ู ุงุฒ ุทุฑู ฺฉ ุณุฑูุฑ API ุฏุณุชุฑุณ ูพุฏุง ูโฺฉููุฏุ ูุงููุฏ ุฏุงุฏูโูุง ุญุณุงุจ ฺฉุงุฑุจุฑ ุฏุฑ ููุฑุฏ ูุง. ุงูุง ฺฏุงู ุงููุงุชุ ุญูุธ ุจุฑุฎ ุฏุงุฏูโูุง ุฏุฑ ุงูพูฺฉุดู ฺฉูุงูุช ฺฉู ุฏุฑ ูุฑูุฑฺฏุฑ ุดูุง ุงุฌุฑุง ูโุดูุฏ ูุฒ ุฌุงูุจ ุงุณุชุ ุจุฑุง ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุจูุชุฑ ุง ุจูุจูุฏ ุนููฺฉุฑุฏ ุจุงุฑฺฏุฐุงุฑ.

ููฺฏุงู ฺฉู ูโุฎูุงูุฏ ุฏุงุฏูโูุง ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏ ุฐุฎุฑู ฺฉูุฏุ ฺูุฏ ุณุคุงู ููู ูุฌูุฏ ุฏุงุฑุฏ ฺฉู ุจุงุฏ ุงุฒ ุฎูุฏ ุจูพุฑุณุฏ:

- *ุขุง ุฏุงุฏูโูุง ุญุณุงุณ ูุณุชูุฏุ* ุจุงุฏ ุงุฒ ุฐุฎุฑู ูุฑฺฏููู ุฏุงุฏู ุญุณุงุณ ุฏุฑ ฺฉูุงูุชุ ูุงููุฏ ุฑูุฒูุง ุนุจูุฑ ฺฉุงุฑุจุฑุ ุฎูุฏุฏุงุฑ ฺฉูุฏ.
- *ุจุฑุง ฺู ูุฏุช ูุงุฒ ุฏุงุฑุฏ ุงู ุฏุงุฏูโูุง ุฑุง ูฺฏู ุฏุงุฑุฏุ* ุขุง ูุตุฏ ุฏุงุฑุฏ ููุท ุจุฑุง ุฌูุณู ูุนู ุจู ุงู ุฏุงุฏูโูุง ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ ุง ูโุฎูุงูุฏ ุขูโูุง ุฑุง ุจุฑุง ููุดู ุฐุฎุฑู ฺฉูุฏุ

ุฑูุดโูุง ูุฎุชูู ุจุฑุง ุฐุฎุฑู ุงุทูุงุนุงุช ุฏุฑ ฺฉ ุงูพูฺฉุดู ูุจ ูุฌูุฏ ุฏุงุฑุฏุ ุจุณุชู ุจู ุขูฺู ูโุฎูุงูุฏ ุจู ุฏุณุช ุขูุฑุฏ. ุจุฑุง ูุซุงูุ ูโุชูุงูุฏ ุงุฒ URLโูุง ุจุฑุง ุฐุฎุฑู ฺฉ ูพุฑุณุด ุฌุณุชุฌู ุงุณุชูุงุฏู ฺฉูุฏ ู ุขู ุฑุง ุจู ฺฉุงุฑุจุฑุงู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ. ููฺูู ูโุชูุงูุฏ ุงุฒ [ฺฉูฺฉโูุง HTTP](https://developer.mozilla.org/docs/Web/HTTP/Cookies) ุงุณุชูุงุฏู ฺฉูุฏ ุงฺฏุฑ ุฏุงุฏูโูุง ูุงุฒ ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุจุง ุณุฑูุฑ ุฏุงุฑูุฏุ ูุงููุฏ ุงุทูุงุนุงุช [ุงุญุฑุงุฒ ููุช](https://en.wikipedia.org/wiki/Authentication).

ฺฏุฒูู ุฏฺฏุฑ ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงุฒ ุจุณุงุฑ ุงุฒ APIโูุง ูุฑูุฑฺฏุฑ ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุงุณุช. ุฏู ููุฑุฏ ุงุฒ ุขูโูุง ุจูโูฺู ุฌุงูุจ ูุณุชูุฏ:

- [`localStorage`](https://developer.mozilla.org/docs/Web/API/Window/localStorage): ฺฉ [ุฐุฎุฑูโุณุงุฒ ฺฉูุฏ/ููุฏุงุฑ](https://en.wikipedia.org/wiki/Key%E2%80%93value_database) ฺฉู ุงูฺฉุงู ุญูุธ ุฏุงุฏูโูุง ุฎุงุต ูุจโุณุงุช ูุนู ุฑุง ุฏุฑ ุฌูุณุงุช ูุฎุชูู ูุฑุงูู ูโฺฉูุฏ. ุฏุงุฏูโูุง ุฐุฎุฑู ุดุฏู ุฏุฑ ุขู ูุฑฺฏุฒ ูููุถ ููโุดููุฏ.
- [`sessionStorage`](https://developer.mozilla.org/docs/Web/API/Window/sessionStorage): ุงู ููุฑุฏ ููุงููุฏ `localStorage` ุนูู ูโฺฉูุฏุ ุจู ุฌุฒ ุงูฺฉู ุฏุงุฏูโูุง ุฐุฎุฑู ุดุฏู ุฏุฑ ุขู ููฺฏุงู ูพุงุงู ุฌูุณู (ุฒูุงู ุจุณุชู ุดุฏู ูุฑูุฑฺฏุฑ) ูพุงฺฉ ูโุดููุฏ.

ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุฑ ุฏู ุงู APIโูุง ููุท ุงุฌุงุฒู ุฐุฎุฑู [ุฑุดุชูโูุง](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) ุฑุง ูโุฏููุฏ. ุงฺฏุฑ ูโุฎูุงูุฏ ุงุดุงุก ูพฺุฏู ุฐุฎุฑู ฺฉูุฏุ ุจุงุฏ ุขูโูุง ุฑุง ุจู ูุฑูุช [JSON](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON) ุณุฑุงูโุณุงุฒ ฺฉูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ [`JSON.stringify()`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify).

โ ุงฺฏุฑ ูโุฎูุงูุฏ ฺฉ ุงูพูฺฉุดู ูุจ ุงุฌุงุฏ ฺฉูุฏ ฺฉู ุจุง ุณุฑูุฑ ฺฉุงุฑ ููโฺฉูุฏุ ููฺูู ุงูฺฉุงู ุงุฌุงุฏ ฺฉ ูพุงฺฏุงู ุฏุงุฏู ุฏุฑ ฺฉูุงูุช ุจุง ุงุณุชูุงุฏู ุงุฒ API [`IndexedDB`](https://developer.mozilla.org/docs/Web/API/IndexedDB_API) ูุฌูุฏ ุฏุงุฑุฏ. ุงู ููุฑุฏ ุจุฑุง ููุงุฑุฏ ุงุณุชูุงุฏู ูพุดุฑูุชู ุง ุงฺฏุฑ ูุงุฒ ุจู ุฐุฎุฑู ููุฏุงุฑ ูุงุจู ุชูุฌู ุฏุงุฏู ุฏุงุฑุฏุ ุฑุฒุฑู ุดุฏู ุงุณุชุ ุฒุฑุง ุงุณุชูุงุฏู ุงุฒ ุขู ูพฺุฏูโุชุฑ ุงุณุช.

### ูุธูู

ูุง ูโุฎูุงูู ฺฉุงุฑุจุฑุงู ูุง ุชุง ุฒูุงู ฺฉู ุจูโุทูุฑ ุตุฑุญ ุฑู ุฏฺฉูู *ุฎุฑูุฌ* ฺฉูฺฉ ูฺฉููุฏุ ูุงุฑุฏ ุณุณุชู ุจุงู ุจูุงููุฏุ ุจูุงุจุฑุงู ุงุฒ `localStorage` ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุญุณุงุจ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ. ุงุจุชุฏุงุ ฺฉ ฺฉูุฏ ุชุนุฑู ฺฉูู ฺฉู ุจุฑุง ุฐุฎุฑู ุฏุงุฏูโูุง ุฎูุฏ ุงุณุชูุงุฏู ุฎูุงูู ฺฉุฑุฏ.

```js
const storageKey = 'savedAccount';
```

ุณูพุณ ุงู ุฎุท ุฑุง ุฏุฑ ุงูุชูุง ุชุงุจุน `updateState()` ุงุถุงูู ฺฉูุฏ:

```js
localStorage.setItem(storageKey, JSON.stringify(state.account));
```

ุจุง ุงู ฺฉุงุฑุ ุฏุงุฏูโูุง ุญุณุงุจ ฺฉุงุฑุจุฑ ุญูุธ ูโุดููุฏ ู ููุดู ุจูโุฑูุฒ ุฎูุงููุฏ ุจูุฏุ ููุงูโุทูุฑ ฺฉู ูุจูุงู ุชูุงู ุจูโุฑูุฒุฑุณุงูโูุง ูุถุนุช ุฎูุฏ ุฑุง ูุชูุฑฺฉุฒ ฺฉุฑุฏูโุงู. ุงูุฌุงุณุช ฺฉู ุดุฑูุน ุจู ุจูุฑูโุจุฑุฏุงุฑ ุงุฒ ุชูุงู ุจุงุฒุณุงุฒโูุง ูุจู ุฎูุฏ ูโฺฉูู ๐.

ุงุฒ ุขูุฌุง ฺฉู ุฏุงุฏูโูุง ุฐุฎุฑู ุดุฏูโุงูุฏุ ููฺูู ุจุงุฏ ูุฑุงูุจ ุจุงุฒุงุจ ุขูโูุง ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ุงูพูฺฉุดู ุจุงุดู. ุงุฒ ุขูุฌุง ฺฉู ุดุฑูุน ุจู ุฏุงุดุชู ฺฉุฏ ููุฏุงุฑุฏู ุงููู ุจุดุชุฑ ูโฺฉููุ ููฺฉู ุงุณุช ุงุฏู ุฎูุจ ุจุงุดุฏ ฺฉู ฺฉ ุชุงุจุน ุฌุฏุฏ `init` ุงุฌุงุฏ ฺฉููุ ฺฉู ุดุงูู ฺฉุฏ ูุจู ูุง ุฏุฑ ุงูุชูุง `app.js` ูุฒ ุจุงุดุฏ:

```js
function init() {
  const savedAccount = localStorage.getItem(storageKey);
  if (savedAccount) {
    updateState('account', JSON.parse(savedAccount));
  }

  // Our previous initialization code
  window.onpopstate = () => updateRoute();
  updateRoute();
}

init();
```

ุฏุฑ ุงูุฌุง ุฏุงุฏูโูุง ุฐุฎุฑู ุดุฏู ุฑุง ุจุงุฒุงุจ ูโฺฉููุ ู ุงฺฏุฑ ุฏุงุฏูโุง ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ูุถุนุช ุฑุง ุจูโุทูุฑ ููุงุณุจ ุจูโุฑูุฒุฑุณุงู ูโฺฉูู. ููู ุงุณุช ฺฉู ุงู ฺฉุงุฑ ุฑุง *ูุจู ุงุฒ* ุจูโุฑูุฒุฑุณุงู ูุณุฑ ุงูุฌุงู ุฏููุ ุฒุฑุง ููฺฉู ุงุณุช ฺฉุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุฏุฑ ุทูู ุจูโุฑูุฒุฑุณุงู ุตูุญู ุจู ูุถุนุช ูุงุจุณุชู ุจุงุดุฏ.

ููฺูู ูโุชูุงูู ุตูุญู *ุฏุงุดุจูุฑุฏ* ุฑุง ุจูโุนููุงู ุตูุญู ูพุดโูุฑุถ ุงูพูฺฉุดู ุฎูุฏ ูุฑุงุฑ ุฏููุ ุฒุฑุง ุงฺฉููู ุฏุงุฏูโูุง ุญุณุงุจ ุฑุง ุญูุธ ูโฺฉูู. ุงฺฏุฑ ุฏุงุฏูโุง ุงูุช ูุดูุฏุ ุฏุงุดุจูุฑุฏ ุจู ูุฑ ุญุงู ูุณุฆููุช ูุฏุงุช ุจู ุตูุญู *ูุฑูุฏ* ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏ. ุฏุฑ `updateRoute()`ุ ุจุงุฒฺฏุฑุฏุงู ูพุดโูุฑุถ `return navigate('/login');` ุฑุง ุจุง `return navigate('/dashboard');` ุฌุงฺฏุฒู ฺฉูุฏ.

ุงฺฉููู ูุงุฑุฏ ุงูพูฺฉุดู ุดูุฏ ู ุตูุญู ุฑุง ุชุงุฒูโุณุงุฒ ฺฉูุฏ. ุจุงุฏ ุฏุฑ ุฏุงุดุจูุฑุฏ ุจุงู ุจูุงูุฏ. ุจุง ุงู ุจูโุฑูุฒุฑุณุงูุ ุชูุงู ูุดฺฉูุงุช ุงููู ุฎูุฏ ุฑุง ุญู ฺฉุฑุฏูโุงู...

## ุจูโุฑูุฒุฑุณุงู ุฏุงุฏูโูุง

...ุงูุง ููฺฉู ุงุณุช ฺฉ ูุดฺฉู ุฌุฏุฏ ุงุฌุงุฏ ฺฉุฑุฏู ุจุงุดู. ุงูู!

ุจุง ุญุณุงุจ `test` ุจู ุฏุงุดุจูุฑุฏ ุจุฑูุฏุ ุณูพุณ ุงู ุฏุณุชูุฑ ุฑุง ุฏุฑ ุชุฑููุงู ุงุฌุฑุง ฺฉูุฏ ุชุง ฺฉ ุชุฑุงฺฉูุด ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ:

```sh
curl --request POST \
     --header "Content-Type: application/json" \
     --data "{ \"date\": \"2020-07-24\", \"object\": \"Bought book\", \"amount\": -20 }" \
     http://localhost:5000/api/accounts/test/transactions
```

ุงฺฉููู ุตูุญู ุฏุงุดุจูุฑุฏ ุฎูุฏ ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุชุงุฒูโุณุงุฒ ฺฉูุฏ. ฺู ุงุชูุงู ูโุงูุชุฏุ ุขุง ุชุฑุงฺฉูุด ุฌุฏุฏ ุฑุง ูโุจูุฏุ

ูุถุนุช ุจู ูุทู `localStorage` ุจูโุทูุฑ ูุงูุญุฏูุฏ ุญูุธ ูโุดูุฏุ ุงูุง ุงู ููฺูู ุจู ุงู ูุนู ุงุณุช ฺฉู ุชุง ุฒูุงู ฺฉู ุงุฒ ุงูพูฺฉุดู ุฎุงุฑุฌ ูุดูุฏ ู ุฏูุจุงุฑู ูุงุฑุฏ ุดูุฏุ ูุฑฺฏุฒ ุจูโุฑูุฒุฑุณุงู ููโุดูุฏ!

ฺฉ ุงุณุชุฑุงุชฺ ููฺฉู ุจุฑุง ุฑูุน ุงู ูุดฺฉู ุงู ุงุณุช ฺฉู ุฏุงุฏูโูุง ุญุณุงุจ ุฑุง ูุฑ ุจุงุฑ ฺฉู ุฏุงุดุจูุฑุฏ ุจุงุฑฺฏุฐุงุฑ ูโุดูุฏุ ุฏูุจุงุฑู ุจุงุฑฺฏุฐุงุฑ ฺฉูู ุชุง ุงุฒ ุฏุงุฏูโูุง ูุฏู ุฌููฺฏุฑ ฺฉูู.

### ูุธูู

ฺฉ ุชุงุจุน ุฌุฏุฏ `updateAccountData` ุงุฌุงุฏ ฺฉูุฏ:

```js
async function updateAccountData() {
  const account = state.account;
  if (!account) {
    return logout();
  }

  const data = await getAccount(account.user);
  if (data.error) {
    return logout();
  }

  updateState('account', data);
}
```

ุงู ุฑูุด ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ุฏุฑ ุญุงู ุญุงุถุฑ ูุงุฑุฏ ุณุณุชู ุดุฏูโุงูุ ุณูพุณ ุฏุงุฏูโูุง ุญุณุงุจ ุฑุง ุงุฒ ุณุฑูุฑ ุฏูุจุงุฑู ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏ.

ฺฉ ุชุงุจุน ุฏฺฏุฑ ุจู ูุงู `refresh` ุงุฌุงุฏ ฺฉูุฏ:

```js
async function refresh() {
  await updateAccountData();
  updateDashboard();
}
```

ุงู ุชุงุจุน ุฏุงุฏูโูุง ุญุณุงุจ ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏุ ุณูพุณ HTML ุตูุญู ุฏุงุดุจูุฑุฏ ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ. ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุจุงุฏ ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ ูุณุฑ ุฏุงุดุจูุฑุฏ ูุฑุงุฎูุงู ุดูุฏ. ุชุนุฑู ูุณุฑ ุฑุง ุจุง ุงู ููุฑุฏ ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ:

```js
const routes = {
  '/login': { templateId: 'login' },
  '/dashboard': { templateId: 'dashboard', init: refresh }
};
```

ุงฺฉููู ุฏุงุดุจูุฑุฏ ุฑุง ุชุงุฒูโุณุงุฒ ฺฉูุฏุ ุจุงุฏ ุฏุงุฏูโูุง ุญุณุงุจ ุจูโุฑูุฒุฑุณุงู ุดุฏู ุฑุง ููุงุด ุฏูุฏ.

---

## ๐ ฺุงูุด

ุงฺฉููู ฺฉู ุฏุงุฏูโูุง ุญุณุงุจ ุฑุง ูุฑ ุจุงุฑ ฺฉู ุฏุงุดุจูุฑุฏ ุจุงุฑฺฏุฐุงุฑ ูโุดูุฏ ุฏูุจุงุฑู ุจุงุฑฺฏุฐุงุฑ ูโฺฉููุ ุขุง ูฺฉุฑ ูโฺฉูุฏ ูููุฒ ูุงุฒ ุฏุงุฑู *ุชูุงู ุฏุงุฏูโูุง ุญุณุงุจ* ุฑุง ุญูุธ ฺฉููุ

ุณุน ฺฉูุฏ ุจุง ูู ฺฉุงุฑ ฺฉูุฏ ุชุง ุขูฺู ุงุฒ `localStorage` ุฐุฎุฑู ู ุจุงุฑฺฏุฐุงุฑ ูโุดูุฏ ุฑุง ุชุบุฑ ุฏูุฏ ุชุง ููุท ุดุงูู ููุงุฑุฏ ุจุงุดุฏ ฺฉู ุจุฑุง ุนููฺฉุฑุฏ ุงูพูฺฉุดู ฺฉุงููุงู ุถุฑูุฑ ูุณุชูุฏ.

## ุขุฒููู ูพุณ ุงุฒ ุฏุฑุณ
[ุขุฒููู ูพุณ ุงุฒ ุณุฎูุฑุงู](https://ff-quizzes.netlify.app/web/quiz/48)

## ุชฺฉูู

[ูพุงุฏูโุณุงุฒ ุฏุงููฺฏ "ุงูุฒูุฏู ุชุฑุงฺฉูุด"](assignment.md)

ุฏุฑ ุงูุฌุง ฺฉ ููููู ูุชุฌู ูพุณ ุงุฒ ุชฺฉูู ุชฺฉูู ุขูุฑุฏู ุดุฏู ุงุณุช:

![ุชุตูุฑ ฺฉู ฺฉ ููููู ุฏุงููฺฏ "ุงูุฒูุฏู ุชุฑุงฺฉูุด" ุฑุง ูุดุงู ูโุฏูุฏ](../../../../translated_images/dialog.93bba104afeb79f12f65ebf8f521c5d64e179c40b791c49c242cf15f7e7fab15.fa.png)

---

**ุณูุจ ูุณุฆููุช**:  
ุงู ุณูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ ุชุฑุฌูู ููุด ูุตููุน [Co-op Translator](https://github.com/Azure/co-op-translator) ุชุฑุฌูู ุดุฏู ุงุณุช. ุฏุฑ ุญุงู ฺฉู ูุง ุจุฑุง ุฏูุช ุชูุงุด ูโฺฉููุ ูุทูุงู ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชุฑุฌููโูุง ุฎูุฏฺฉุงุฑ ููฺฉู ุงุณุช ุญุงู ุฎุทุงูุง ุง ูุงุฏุฑุณุชโูุง ุจุงุดูุฏ. ุณูุฏ ุงุตู ุจู ุฒุจุงู ุงุตู ุขู ุจุงุฏ ุจู ุนููุงู ููุจุน ูุนุชุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดูุฏ. ุจุฑุง ุงุทูุงุนุงุช ุญุงุชุ ุชุฑุฌูู ุญุฑููโุง ุงูุณุงู ุชูุตู ูโุดูุฏ. ูุง ูุณุฆููุช ุฏุฑ ูุจุงู ูุฑฺฏููู ุณูุกุชูุงูู ุง ุชูุณุฑ ูุงุฏุฑุณุช ูุงุด ุงุฒ ุงุณุชูุงุฏู ุงุฒ ุงู ุชุฑุฌูู ูุฏุงุฑู.