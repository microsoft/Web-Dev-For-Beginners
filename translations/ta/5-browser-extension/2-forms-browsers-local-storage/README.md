<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a7587943d38d095de8613e1b508609f5",
  "translation_date": "2025-10-11T12:20:20+00:00",
  "source_file": "5-browser-extension/2-forms-browsers-local-storage/README.md",
  "language_code": "ta"
}
-->
# роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБ родро┐роЯрпНроЯроорпН рокроХрпБродро┐ 2: API-роР роЕро┤рпИроХрпНроХро╡рпБроорпН, Local Storage-роР рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН

## роорпБройрпН-ро╡роХрпБрокрпНрокрпБ ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛

[роорпБройрпН-ро╡роХрпБрокрпНрокрпБ ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛](https://ff-quizzes.netlify.app/web/quiz/25)

### роЕро▒ро┐роорпБроХроорпН

роЗроирпНрод рокро╛роЯродрпНродро┐ро▓рпН, роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБ ро╡роЯро┐ро╡родрпНродрпИ роЪрооро░рпНрокрпНрокро┐родрпНродрпБ API-роР роЕро┤рпИроХрпНроХро╡рпБроорпН, роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокро┐ро▓рпН роорпБроЯро┐ро╡рпБроХро│рпИ роХро╛роЯрпНроЯро╡рпБроорпН роХро▒рпНро▒рпБроХрпНроХрпКро│рпНро╡рпАро░рпНроХро│рпН. роорпЗро▓рпБроорпН, роЙро▓ро╛ро╡ро┐ропро┐ройрпН Local Storage-роЗро▓рпН родро░ро╡рпБроХро│рпИ роЪрпЗрооро┐родрпНродрпБ, роОродро┐ро░рпНроХро╛ро▓родрпНродро┐ро▓рпН рокропройрпНрокроЯрпБродрпНродрпБро╡родрпБ роОрокрпНрокроЯро┐ роОройрпНрокродрпИрокрпН рокро▒рпНро▒ро┐ропрпБроорпН роХро▒рпНро▒рпБроХрпНроХрпКро│рпНро╡рпАро░рпНроХро│рпН.

тЬЕ роЙроЩрпНроХро│рпН роХрпЛроЯрпБроХро│рпИ роОроЩрпНроХрпБ роЗроЯ ро╡рпЗрогрпНроЯрпБроорпН роОройрпНрокродрпИ роЕро▒ро┐роп, родрпКроЯро░рпНрокрпБроЯрпИроп роХрпЛрокрпНрокрпБроХро│ро┐ро▓рпН роОрогрпН роХрпБро▒ро┐роХрпНроХрокрпНрокроЯрпНроЯ рокроХрпБродро┐роХро│рпИрокрпН рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН.

### роирпАроЯрпНроЯро┐рокрпНрокро┐ро▓рпН рооро╛ро▒рпНро▒родрпНродро┐ро▒рпНроХро╛рой роХрпВро▒рпБроХро│рпИ роЕроорпИроХрпНроХро╡рпБроорпН:

роЗроирпНрод роирпЗро░родрпНродро┐ро▓рпН, роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБроХрпНроХро╛рой HTML ро╡роЯро┐ро╡роорпН рооро▒рпНро▒рпБроорпН роорпБроЯро┐ро╡рпБроХро│рпБроХрпНроХро╛рой `<div>`-роР роирпАроЩрпНроХро│рпН роЙро░рпБро╡ро╛роХрпНроХро┐ роорпБроЯро┐родрпНродро┐ро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. роЗрокрпНрокрпЛродрпБ, `/src/index.js` роХрпЛрокрпНрокро┐ро▓рпН ро╡рпЗро▓рпИ роЪрпЖропрпНроп ро╡рпЗрогрпНроЯрпБроорпН рооро▒рпНро▒рпБроорпН роЙроЩрпНроХро│рпН роирпАроЯрпНроЯро┐рокрпНрокрпИ рокроЯро┐рокрпНрокроЯро┐ропро╛роХ роЙро░рпБро╡ро╛роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. роЙроЩрпНроХро│рпН родро┐роЯрпНроЯродрпНродрпИ роЕроорпИрокрпНрокродрпБ рооро▒рпНро▒рпБроорпН роХроЯрпНроЯрпБрооро╛рой роЪрпЖропро▓рпНроорпБро▒рпИропрпИрокрпН рокро▒рпНро▒ро┐роп [роорпБроирпНродрпИроп рокро╛роЯродрпНродрпИ](../1-about-browsers/README.md) рокро╛ро░рпНроХрпНроХро╡рпБроорпН.

`index.js` роХрпЛрокрпНрокро┐ро▓рпН ро╡рпЗро▓рпИ роЪрпЖропрпНропрпБроорпНрокрпЛродрпБ, рокро▓рпНро╡рпЗро▒рпБ рокрпБро▓роЩрпНроХро│рпБроЯройрпН родрпКроЯро░рпНрокрпБроЯрпИроп роородро┐рокрпНрокрпБроХро│рпИ ро╡рпИродрпНродро┐ро░рпБроХрпНроХрпБроорпН `const` рооро╛ро▒ро┐роХро│рпИ роЙро░рпБро╡ро╛роХрпНроХродрпН родрпКроЯроЩрпНроХро╡рпБроорпН:

```JavaScript
// form fields
const form = document.querySelector('.form-data');
const region = document.querySelector('.region-name');
const apiKey = document.querySelector('.api-key');

// results
const errors = document.querySelector('.errors');
const loading = document.querySelector('.loading');
const results = document.querySelector('.result-container');
const usage = document.querySelector('.carbon-usage');
const fossilfuel = document.querySelector('.fossil-fuel');
const myregion = document.querySelector('.my-region');
const clearBtn = document.querySelector('.clear-btn');
```

роЗроирпНрод рокрпБро▓роЩрпНроХро│рпН роЕройрпИродрпНродрпБроорпН CSS ро╡роХрпБрокрпНрокрпБроХро│ро╛ро▓рпН роХрпБро▒ро┐рокрпНрокро┐роЯрокрпНрокроЯрпБроХро┐ройрпНро▒рой, роирпАроЩрпНроХро│рпН роорпБроирпНродрпИроп рокро╛роЯродрпНродро┐ро▓рпН HTML-ро▓рпН роЕроорпИродрпНродродрпБ рокрпЛро▓.

### роХрпЗроЯрпНрокрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН

роЕроЯрпБродрпНродродро╛роХ, ро╡роЯро┐ро╡родрпНродро┐ро▒рпНроХрпБроорпН, ро╡роЯро┐ро╡родрпНродрпИ роорпАроЯрпНроЯроорпИроХрпНроХрпБроорпН "clear" рокрпКродрпНродро╛ройрпБроХрпНроХрпБроорпН роиро┐роХро┤рпНро╡рпБ роХрпЗроЯрпНрокрпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН. роЗродройро╛ро▓рпН, рокропройро░рпН ро╡роЯро┐ро╡родрпНродрпИ роЪрооро░рпНрокрпНрокро┐роХрпНроХрпБроорпНрокрпЛродрпБ роЕро▓рпНро▓родрпБ роорпАроЯрпНроЯроорпИрокрпНрокрпБ рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродрпБроорпНрокрпЛродрпБ, роПродро╛ро╡родрпБ роироЯроХрпНроХрпБроорпН. роХрпЛрокрпНрокро┐ройрпН роХрпАро┤рпЗ роЪрпЖропро▓ро┐ропрпИ роЖро░роорпНрокро┐роХрпНроХ роЕро┤рпИрокрпНрокрпБ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

```JavaScript
form.addEventListener('submit', (e) => handleSubmit(e));
clearBtn.addEventListener('click', (e) => reset(e));
init();
```

тЬЕ роЪрооро░рпНрокрпНрокро┐рокрпНрокрпБ роЕро▓рпНро▓родрпБ роХро┐ро│ро┐роХрпН роиро┐роХро┤рпНро╡рпБроХрпНроХро╛рой роЪрпБро░рпБроХрпНроХрооро╛рой роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роХро╡ройро┐роХрпНроХро╡рпБроорпН, рооро▒рпНро▒рпБроорпН роиро┐роХро┤рпНро╡рпБ `handleSubmit` роЕро▓рпНро▓родрпБ `reset` роЪрпЖропро▓ро┐роХро│рпБроХрпНроХрпБ роЕройрпБрокрпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роЪрпБро░рпБроХрпНроХрооро╛рой ро╡роЯро┐ро╡родрпНродро┐ройрпН роирпАрогрпНроЯ ро╡роЯро┐ро╡родрпНродрпИ роОро┤рпБрод роорпБроЯро┐ропрпБрооро╛? роОродрпБ роЙроЩрпНроХро│рпБроХрпНроХрпБ рокро┐роЯро┐родрпНродродрпБ?

### `init()` рооро▒рпНро▒рпБроорпН `reset()` роЪрпЖропро▓ро┐роХро│рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН:

роЗрокрпНрокрпЛродрпБ, роирпАроЯрпНроЯро┐рокрпНрокрпИ роЖро░роорпНрокро┐роХрпНроХрпБроорпН роЪрпЖропро▓ро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХрокрпН рокрпЛроХро┐ро▒рпАро░рпНроХро│рпН, роЗродрпБ `init()` роОройрпНро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ:

```JavaScript
function init() {
	//if anything is in localStorage, pick it up
	const storedApiKey = localStorage.getItem('apiKey');
	const storedRegion = localStorage.getItem('regionName');

	//set icon to be generic green
	//todo

	if (storedApiKey === null || storedRegion === null) {
		//if we don't have the keys, show the form
		form.style.display = 'block';
		results.style.display = 'none';
		loading.style.display = 'none';
		clearBtn.style.display = 'none';
		errors.textContent = '';
	} else {
        //if we have saved keys/regions in localStorage, show results when they load
        displayCarbonUsage(storedApiKey, storedRegion);
		results.style.display = 'none';
		form.style.display = 'none';
		clearBtn.style.display = 'block';
	}
};

function reset(e) {
	e.preventDefault();
	//clear local storage for region only
	localStorage.removeItem('regionName');
	init();
}

```

роЗроирпНрод роЪрпЖропро▓ро┐ропро┐ро▓рпН роЪро┐ро▓ роЪрпБро╡ро╛ро░ро╕рпНропрооро╛рой родро░рпНроХрпНроХроЩрпНроХро│рпН роЙро│рпНро│рой. роЕродрпИ ро╡ро╛роЪро┐роХрпНроХрпБроорпНрокрпЛродрпБ, роОройрпНрой роироЯроХрпНроХро┐ро▒родрпБ роОройрпНрокродрпИрокрпН рокрпБро░ро┐роирпНродрпБроХрпКро│рпНро│ роорпБроЯро┐ропрпБрооро╛?

- роЗро░рогрпНроЯрпБ `const`-роХро│рпН Local Storage-роЗро▓рпН рокропройро░рпН APIKey рооро▒рпНро▒рпБроорпН рокро┐ро░ро╛роирпНродро┐роп роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЪрпЗрооро┐родрпНродрпБро│рпНро│родро╛ роОройрпНрокродрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХ роЕроорпИроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│рой.
- роЕро╡ро▒рпНро▒ро┐ро▓рпН роПродрпЗройрпБроорпН null роЖроХ роЗро░рпБроирпНродро╛ро▓рпН, роЕродройрпН "style" роР 'block' роЖроХ рооро╛ро▒рпНро▒ро┐ ро╡роЯро┐ро╡родрпНродрпИ роХро╛роЯрпНроЯро╡рпБроорпН.
- роорпБроЯро┐ро╡рпБроХро│рпН, "loading", рооро▒рпНро▒рпБроорпН "clearBtn"-роР рооро▒рпИроХрпНроХро╡рпБроорпН, рооро▒рпНро▒рпБроорпН роОроирпНродро╡рпКро░рпБ рокро┐ро┤рпИ роЙро░рпИропрпБроорпН роХро╛ро▓ро┐ропро╛роХ роЕроорпИроХрпНроХро╡рпБроорпН.
- APIKey рооро▒рпНро▒рпБроорпН region роЗро░рпБроирпНродро╛ро▓рпН, роТро░рпБ роЪрпЖропро▓рпНроорпБро▒рпИропрпИродрпН родрпКроЯроЩрпНроХро╡рпБроорпН:
  - роХро╛ро░рпНрокройрпН рокропройрпНрокро╛роЯрпНроЯрпБ родро░ро╡рпБроХро│рпИрокрпН рокрпЖро▒ API-роР роЕро┤рпИроХрпНроХро╡рпБроорпН.
  - роорпБроЯро┐ро╡рпБроХро│рпН рокроХрпБродро┐ропрпИ рооро▒рпИроХрпНроХро╡рпБроорпН.
  - ро╡роЯро┐ро╡родрпНродрпИ рооро▒рпИроХрпНроХро╡рпБроорпН.
  - роорпАроЯрпНроЯроорпИрокрпНрокрпБ рокрпКродрпНродро╛ройрпИ роХро╛роЯрпНроЯро╡рпБроорпН.

родрпКроЯро░рпНро╡родро▒рпНроХрпБ роорпБройрпН, роЙро▓ро╛ро╡ро┐роХро│ро┐ро▓рпН роХро┐роЯрпИроХрпНроХрпБроорпН роТро░рпБ роорпБроХрпНроХро┐ропрооро╛рой роХро░рпБродрпНродрпИ роЕро▒ро┐роп рокропройрпБро│рпНро│родро╛роХ роЗро░рпБроХрпНроХрпБроорпН: [LocalStorage](https://developer.mozilla.org/docs/Web/API/Window/localStorage). LocalStorage роОройрпНрокродрпБ роЙро▓ро╛ро╡ро┐ропро┐ро▓рпН "key-value" роЬрпЛроЯро┐ропро╛роХ strings-роР роЪрпЗрооро┐роХрпНроХ роТро░рпБ рокропройрпБро│рпНро│ ро╡ро┤ро┐ропро╛роХрпБроорпН. роЗроирпНрод ро╡роХрпИ ро╡ро▓рпИ роЪрпЗрооро┐рокрпНрокроХродрпНродрпИ JavaScript роорпВро▓роорпН роиро┐ро░рпНро╡роХро┐роХрпНроХ роорпБроЯро┐ропрпБроорпН. LocalStorage роХро╛ро▓ро╛ро╡родро┐ропро╛роХро╛родрпБ, роЖройро╛ро▓рпН SessionStorage, рооро▒рпНро▒рпКро░рпБ ро╡роХрпИ ро╡ро▓рпИ роЪрпЗрооро┐рокрпНрокроХроорпН, роЙро▓ро╛ро╡ро┐ роорпВроЯрокрпНрокроЯрпНроЯро╛ро▓рпН роЕро┤ро┐роХрпНроХрокрпНрокроЯрпБроорпН. роЪрпЗрооро┐рокрпНрокроХродрпНродро┐ройрпН рокро▓рпНро╡рпЗро▒рпБ ро╡роХрпИроХро│рпБроХрпНроХрпБ роЕродройрпН рокропройрпНрокро╛роЯрпНроЯро┐ро▓рпН роиройрпНроорпИроХро│рпН рооро▒рпНро▒рпБроорпН роХрпБро▒рпИроХро│рпН роЙро│рпНро│рой.

> роХрпБро▒ро┐рокрпНрокрпБ - роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБроХрпНроХрпБ родройро┐рокрпНрокроЯрпНроЯ Local Storage роЙро│рпНро│родрпБ; роорпБроХрпНроХро┐роп роЙро▓ро╛ро╡ро┐ роЪро╛ро│ро░роорпН ро╡рпЗро▒рпБрокроЯрпНроЯ роиро┐роХро┤рпНро╡ро╛роХ роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ.

роЙроЩрпНроХро│рпН APIKey-роР роТро░рпБ string роородро┐рокрпНрокро╛роХ роЕроорпИроХрпНроХро╡рпБроорпН, роЙродро╛ро░рогрооро╛роХ, Edge-ро▓рпН "inspect" роЪрпЖропрпНродрпБ (роЙро▓ро╛ро╡ро┐ропрпИ ро╡ро▓родрпБ роХро┐ро│ро┐роХрпН роЪрпЖропрпНродрпБ inspect роЪрпЖропрпНропро▓ро╛роорпН) Applications tab-роХрпНроХрпБ роЪрпЖройрпНро▒рпБ роЪрпЗрооро┐рокрпНрокроХродрпНродрпИрокрпН рокро╛ро░рпНроХрпНроХро▓ро╛роорпН.

![Local storage pane](../../../../translated_images/localstorage.472f8147b6a3f8d141d9551c95a2da610ac9a3c6a73d4a1c224081c98bae09d9.ta.png)

тЬЕ LocalStorage-роЗро▓рпН роЪро┐ро▓ родро░ро╡рпБроХро│рпИ роЪрпЗрооро┐роХрпНроХ ро╡рпЗрогрпНроЯро╛роорпН роОройрпНро▒рпБ роирпАроЩрпНроХро│рпН роиро┐ройрпИроХрпНроХроХрпНроХрпВроЯро┐роп роЪрпВро┤ро▓рпНроХро│рпИрокрпН рокро▒рпНро▒ро┐ ропрпЛроЪро┐роХрпНроХро╡рпБроорпН. рокрпКродрпБро╡ро╛роХ, APIKeys-роР LocalStorage-роЗро▓рпН ро╡рпИрокрпНрокродрпБ роТро░рпБ роорпЛроЪрооро╛рой ропрпЛроЪройрпИ! роПройрпН роОройрпНрокродрпИрокрпН рокрпБро░ро┐роирпНродрпБроХрпКро│рпНро│ роорпБроЯро┐ропрпБрооро╛? роОроЩрпНроХро│рпН ро╡ро┤роХрпНроХро┐ро▓рпН, роОроЩрпНроХро│рпН рокропройрпНрокро╛роЯрпБ роорпБро┤рпБроорпИропро╛роХ роХро▒рпНро▒ро▓рпБроХрпНроХро╛роХро╡рпЗ роЙро│рпНро│родрпБ рооро▒рпНро▒рпБроорпН роТро░рпБ рокропройрпНрокро╛роЯрпНроЯрпБ роХроЯрпИропро┐ро▓рпН ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯро╛родрпБ роОройрпНрокродро╛ро▓рпН, роЗроирпНрод роорпБро▒рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡рпЛроорпН.

LocalStorage-роР роиро┐ро░рпНро╡роХро┐роХрпНроХ Web API-роР роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒рпАро░рпНроХро│рпН роОройрпНрокродрпИ роХро╡ройро┐роХрпНроХро╡рпБроорпН, `getItem()`, `setItem()`, роЕро▓рпНро▓родрпБ `removeItem()` роорпВро▓роорпН. роЗродрпБ роЙро▓ро╛ро╡ро┐роХро│ро┐ро▓рпН рокро░ро╡ро▓ро╛роХ роЖродро░ро┐роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ.

`displayCarbonUsage()` роЪрпЖропро▓ро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро▒рпНроХрпБ роорпБройрпН, роЖро░роорпНрок ро╡роЯро┐ро╡ роЪрооро░рпНрокрпНрокро┐рокрпНрокрпИ роиро┐ро░рпНро╡роХро┐роХрпНроХ роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡рпЛроорпН.

### ро╡роЯро┐ро╡ роЪрооро░рпНрокрпНрокро┐рокрпНрокрпИ роиро┐ро░рпНро╡роХро┐роХрпНроХро╡рпБроорпН

`handleSubmit` роОройрпНро▒ роЪрпЖропро▓ро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН, роЗродрпБ роТро░рпБ роиро┐роХро┤рпНро╡рпБ argument `(e)`-роР роПро▒рпНроХро┐ро▒родрпБ. роиро┐роХро┤рпНро╡рпИ рокро░ро╡ро╛рооро▓рпН родроЯрпБроХрпНроХро╡рпБроорпН (роЗроирпНрод ро╡ро┤роХрпНроХро┐ро▓рпН, роЙро▓ро╛ро╡ро┐ рокрпБродрпБрокрпНрокро┐роХрпНроХро╛рооро▓рпН родроЯрпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН) рооро▒рпНро▒рпБроорпН рокрпБродро┐роп роЪрпЖропро▓ро┐ропрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН, `setUpUser`, `apiKey.value` рооро▒рпНро▒рпБроорпН `region.value` arguments-роР роЕройрпБрокрпНрокро╡рпБроорпН. роЗроирпНрод ро╡ро┤ро┐ропро┐ро▓рпН, роЖро░роорпНрок ро╡роЯро┐ро╡родрпНродро┐ройрпН роорпВро▓роорпН роХрпКрогрпНроЯрпБ ро╡ро░рокрпНрокроЯрпНроЯ роЗро░рогрпНроЯрпБ роородро┐рокрпНрокрпБроХро│рпИ роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒рпАро░рпНроХро│рпН.

```JavaScript
function handleSubmit(e) {
	e.preventDefault();
	setUpUser(apiKey.value, region.value);
}
```

тЬЕ роЙроЩрпНроХро│рпН роиро┐ройрпИро╡рпБроХро│рпИрокрпН рокрпБродрпБрокрпНрокро┐роХрпНроХро╡рпБроорпН - роирпАроЩрпНроХро│рпН роорпБроирпНродрпИроп рокро╛роЯродрпНродро┐ро▓рпН роЕроорпИродрпНрод HTML-ро▓рпН роЗро░рогрпНроЯрпБ input рокрпБро▓роЩрпНроХро│рпН роЙро│рпНро│рой, роЕро╡ро▒рпНро▒ро┐ройрпН `values`-роР роирпАроЩрпНроХро│рпН роХрпЛрокрпНрокро┐ройрпН роорпЗро▓рпН роЕроорпИродрпНрод `const` роорпВро▓роорпН рокро┐роЯро┐роХрпНроХро┐ро▒рпАро░рпНроХро│рпН, роорпЗро▓рпБроорпН роЕро╡рпИ роЗро░рогрпНроЯрпБроорпН `required` роЖроХ роЙро│рпНро│рой, роОройро╡рпЗ роЙро▓ро╛ро╡ро┐ null роородро┐рокрпНрокрпБроХро│рпИ роЙро│рпНро│ро┐роЯ рокропройро░рпНроХро│рпИродрпН родроЯрпБроХрпНроХро┐ро▒родрпБ.

### рокропройро░рпИ роЕроорпИроХрпНроХро╡рпБроорпН

`setUpUser` роЪрпЖропро▓ро┐роХрпНроХрпБ роЪрпЖро▓рпНро▓рпБроорпНрокрпЛродрпБ, роЗроЩрпНроХрпЗ роирпАроЩрпНроХро│рпН apiKey рооро▒рпНро▒рпБроорпН regionName-роХрпНроХрпБ Local Storage роородро┐рокрпНрокрпБроХро│рпИ роЕроорпИроХрпНроХро┐ро▒рпАро░рпНроХро│рпН. рокрпБродро┐роп роЪрпЖропро▓ро┐ропрпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

```JavaScript
function setUpUser(apiKey, regionName) {
	localStorage.setItem('apiKey', apiKey);
	localStorage.setItem('regionName', regionName);
	loading.style.display = 'block';
	errors.textContent = '';
	clearBtn.style.display = 'block';
	//make initial call
	displayCarbonUsage(apiKey, regionName);
}
```

роЗроирпНрод роЪрпЖропро▓ро┐ API роЕро┤рпИроХрпНроХрпБроорпНрокрпЛродрпБ роХро╛роЯрпНроЯ loading message-роР роЕроорпИроХрпНроХро┐ро▒родрпБ. роЗроирпНрод роирпЗро░родрпНродро┐ро▓рпН, роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокро┐ройрпН рооро┐роХ роорпБроХрпНроХро┐ропрооро╛рой роЪрпЖропро▓ро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХ ро╡роирпНродрпБро╡ро┐роЯрпНроЯрпАро░рпНроХро│рпН!

### роХро╛ро░рпНрокройрпН рокропройрпНрокро╛роЯрпНроЯрпИ роХро╛роЯрпНроЯро╡рпБроорпН

роЗрокрпНрокрпЛродрпБ API-роР роХрпЗроЯрпНроХ роирпЗро░роорпН ро╡роирпНродрпБро╡ро┐роЯрпНроЯродрпБ!

родрпКроЯро░рпНро╡родро▒рпНроХрпБ роорпБройрпН, API-роХрпНроХро│рпИрокрпН рокро▒рпНро▒ро┐ ро╡ро┐ро╡ро╛родро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. API-роХрпНроХро│рпН, роЕро▓рпНро▓родрпБ [Application Programming Interfaces](https://www.webopedia.com/TERM/A/API.html), роТро░рпБ ро╡ро▓рпИ роЯрпЖро╡ро▓рокрпНрокро░ро┐ройрпН роХро░рпБро╡ро┐ рокрпЖроЯрпНроЯро┐ропро┐ро▓рпН роорпБроХрпНроХро┐ропрооро╛рой роХрпВро▒ро╛роХрпБроорпН. роЕро╡рпИ роиро┐ро░ро▓рпНроХро│рпН роТро░рпБро╡ро░рпБроХрпНроХрпКро░рпБро╡ро░рпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ рооро▒рпНро▒рпБроорпН роЗроЯрпИроорпБроХроорпН роЕроорпИроХрпНроХ родро░роиро┐ро▓рпИропро╛рой ро╡ро┤ро┐роХро│рпИ ро╡ро┤роЩрпНроХрпБроХро┐ройрпНро▒рой. роЙродро╛ро░рогрооро╛роХ, роирпАроЩрпНроХро│рпН роТро░рпБ родро░ро╡рпБродрпНродрпКроХрпБрокрпНрокрпИ роХрпЗроЯрпНроХ ро╡рпЗрогрпНроЯро┐роп роТро░рпБ ро╡ро▓рпИродрпНродро│родрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХро┐ройро╛ро▓рпН, роЙроЩрпНроХро│рпБроХрпНроХрпБ рокропройрпНрокроЯрпБродрпНрод API-роР ропро╛ро░рпЛ роЙро░рпБро╡ро╛роХрпНроХро┐ропро┐ро░рпБроХрпНроХро▓ро╛роорпН. API-роХрпНроХро│ро┐ройрпН рокро▓ ро╡роХрпИроХро│рпН роЙро│рпНро│рой, роЖройро╛ро▓рпН рооро┐роХро╡рпБроорпН рокро┐ро░рокро▓рооро╛ройродрпБ [REST API](https://www.smashingmagazine.com/2018/01/understanding-using-rest-api/) роЖроХрпБроорпН.

тЬЕ 'REST' роОройрпНро▒ роЪрпКро▓рпН 'Representational State Transfer' роОройрпНрокродро▒рпНроХро╛рой роЪрпБро░рпБроХрпНроХрооро╛роХрпБроорпН, роорпЗро▓рпБроорпН рокро▓рпНро╡рпЗро▒рпБ URL-роХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ родро░ро╡рпБроХро│рпИ рокрпЖро▒рпБро╡родро▒рпНроХро╛рой роЕроорпНроЪроЩрпНроХро│рпИ роХрпКрогрпНроЯрпБро│рпНро│родрпБ. роЯрпЖро╡ро▓рокрпНрокро░рпНроХро│рпБроХрпНроХрпБ роХро┐роЯрпИроХрпНроХрпБроорпН API-роХрпНроХро│ро┐ройрпН рокро▓рпНро╡рпЗро▒рпБ ро╡роХрпИроХро│рпИрокрпН рокро▒рпНро▒ро┐ роЪро┐ро▒ро┐родрпБ роЖро░ро╛ропрпБроЩрпНроХро│рпН. роОроирпНрод ро╡роЯро┐ро╡роорпН роЙроЩрпНроХро│рпБроХрпНроХрпБ рокро┐роЯро┐роХрпНроХро┐ро▒родрпБ?

роЗроирпНрод роЪрпЖропро▓ро┐ропро┐ро▓рпН роорпБроХрпНроХро┐ропрооро╛рой ро╡ро┐ро╖ропроЩрпНроХро│рпИ роХро╡ройро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. роорпБродро▓ро┐ро▓рпН, [`async` keyword](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/async_function)-роР роХро╡ройро┐роХрпНроХро╡рпБроорпН. роЙроЩрпНроХро│рпН роЪрпЖропро▓ро┐роХро│рпИ роЕроЪро┐роЩрпНроХрооро╛роХ роЗропроЩрпНроХрпБроорпНрокроЯро┐ роОро┤рпБродрпБро╡родрпБ, родро░ро╡рпБроХро│рпН родро┐ро░рпБроорпНрок ро╡ро░рпБроорпН рокрпЛройрпНро▒ роТро░рпБ роЪрпЖропро▓рпН роорпБроЯро┐ро╡роЯрпИропрпБроорпН ро╡ро░рпИ родрпКроЯро░ро╛рооро▓рпН роХро╛родрпНродро┐ро░рпБроХрпНроХроЪрпН роЪрпЖропрпНроХро┐ро▒родрпБ.

роЗроЩрпНроХрпЗ `async` рокро▒рпНро▒ро┐роп роТро░рпБ ро╡ро┐ро░рпИро╡рпБ ро╡рпАроЯро┐ропрпЛ роЙро│рпНро│родрпБ:

[![Async рооро▒рпНро▒рпБроорпН Await-роР promises-роР роиро┐ро░рпНро╡роХро┐роХрпНроХ](https://img.youtube.com/vi/YwmlRkrxvkk/0.jpg)](https://youtube.com/watch?v=YwmlRkrxvkk "Async рооро▒рпНро▒рпБроорпН Await-роР promises-роР роиро┐ро░рпНро╡роХро┐роХрпНроХ")

> ЁЯОе роорпЗро▓рпЗ роЙро│рпНро│ рокроЯродрпНродрпИ роХро┐ро│ро┐роХрпН роЪрпЖропрпНродрпБ async/await рокро▒рпНро▒ро┐роп ро╡рпАроЯро┐ропрпЛро╡рпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН.

C02Signal API-роР роХрпЗроЯрпНроХ рокрпБродро┐роп роЪрпЖропро▓ро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН:

```JavaScript
import axios from '../node_modules/axios';

async function displayCarbonUsage(apiKey, region) {
	try {
		await axios
			.get('https://api.co2signal.com/v1/latest', {
				params: {
					countryCode: region,
				},
				headers: {
					'auth-token': apiKey,
				},
			})
			.then((response) => {
				let CO2 = Math.floor(response.data.data.carbonIntensity);

				//calculateColor(CO2);

				loading.style.display = 'none';
				form.style.display = 'none';
				myregion.textContent = region;
				usage.textContent =
					Math.round(response.data.data.carbonIntensity) + ' grams (grams C02 emitted per kilowatt hour)';
				fossilfuel.textContent =
					response.data.data.fossilFuelPercentage.toFixed(2) +
					'% (percentage of fossil fuels used to generate electricity)';
				results.style.display = 'block';
			});
	} catch (error) {
		console.log(error);
		loading.style.display = 'none';
		results.style.display = 'none';
		errors.textContent = 'Sorry, we have no data for the region you have requested.';
	}
}
```

роЗродрпБ роТро░рпБ рокрпЖро░ро┐роп роЪрпЖропро▓ро┐. роЗроЩрпНроХрпЗ роОройрпНрой роироЯроХрпНроХро┐ро▒родрпБ?

- роЪро┐ро▒роирпНрод роироЯрпИроорпБро▒рпИроХро│рпИрокрпН рокро┐ройрпНрокро▒рпНро▒, роЗроирпНрод роЪрпЖропро▓ро┐ропрпИ роЕроЪро┐роЩрпНроХрооро╛роХ роЪрпЖропро▓рпНрокроЯроЪрпН роЪрпЖропрпНроп `async` keyword-роР роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒рпАро░рпНроХро│рпН. API родро░ро╡рпБроХро│рпИ родро┐ро░рпБроорпНрок ро╡ро┤роЩрпНроХрпБроорпН рокрпЛродрпБ роЗроирпНрод роЪрпЖропро▓ро┐ роТро░рпБ ро╡ро╛роХрпНроХрпБро▒рпБродро┐ропрпИродрпН родро┐ро░рпБрокрпНрокрпБроорпН, роОройро╡рпЗ `try/catch` block-роР рокропройрпНрокроЯрпБродрпНродро┐ роЗроирпНрод роиро┐роЪрпНроЪропрооро▒рпНро▒ родройрпНроорпИропрпИ роиро┐ро░рпНро╡роХро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН. API рокродро┐ро▓ро│ро┐роХрпНроХрпБроорпН ро╡рпЗроХродрпНродрпИ роирпАроЩрпНроХро│рпН роХроЯрпНроЯрпБрокрпНрокроЯрпБродрпНрод роорпБроЯро┐ропро╛родрпБ (роЕродрпБ рокродро┐ро▓ро│ро┐роХрпНроХро╡рпЗ роЗро▓рпНро▓ро╛рооро▓рпН роЗро░рпБроХрпНроХро▓ро╛роорпН!), роОройро╡рпЗ роЗроирпНрод роиро┐роЪрпНроЪропрооро▒рпНро▒ родройрпНроорпИропрпИ роЕроЪро┐роЩрпНроХрооро╛роХ роЕро┤рпИрокрпНрокродройрпН роорпВро▓роорпН роиро┐ро░рпНро╡роХро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.
- co2signal API-роР роЙроЩрпНроХро│рпН рокро┐ро░ро╛роирпНродро┐ропродрпНродро┐ройрпН родро░ро╡рпБроХро│рпИрокрпН рокрпЖро▒ роХрпЗроЯрпНроХро┐ро▒рпАро░рпНроХро│рпН, роЙроЩрпНроХро│рпН API Key-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐. роЕроирпНрод key-роР рокропройрпНрокроЯрпБродрпНрод, роЙроЩрпНроХро│рпН header parameters-ро▓рпН authentication ро╡роХрпИропрпИ роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН.
- API рокродро┐ро▓ро│ро┐родрпНродро╡рпБроЯройрпН, роЕродройрпН рокродро┐ро▓ро┐ройрпН рокро▓рпНро╡рпЗро▒рпБ роХрпВро▒рпБроХро│рпИ роЙроЩрпНроХро│рпН родро┐ро░рпИропро┐ро▓рпН роХро╛роЯрпНроЯ роЗроирпНрод родро░ро╡рпБроХро│рпИ роирпАроЩрпНроХро│рпН роТродрпБроХрпНроХрпБроХро┐ро▒рпАро░рпНроХро│рпН.
- рокро┐ро┤рпИ роЗро░рпБроирпНродро╛ро▓рпН, роЕро▓рпНро▓родрпБ роорпБроЯро┐ро╡рпБ роЗро▓рпНро▓рпИропрпЖройро┐ро▓рпН, рокро┐ро┤рпИ роЪрпЖропрпНродро┐ропрпИ роирпАроЩрпНроХро│рпН роХро╛роЯрпНроЯрпБроХро┐ро▒рпАро░рпНроХро│рпН.

тЬЕ роЕроЪро┐роЩрпНроХрооро╛рой роиро┐ро░ро▓ро╛роХрпНроХ роорпБро▒рпИроХро│рпН роЙроЩрпНроХро│рпН роХро░рпБро╡ро┐ рокрпЖроЯрпНроЯро┐ропро┐ро▓рпН рооро▒рпНро▒рпКро░рпБ рокропройрпБро│рпНро│ роХро░рпБро╡ро┐ропро╛роХрпБроорпН. [роЗроирпНрод ро╡роХрпИропро╛рой роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/async_function) роЕроорпИроХрпНроХ рокро▓рпНро╡рпЗро▒рпБ ро╡ро┤ро┐роХро│рпИрокрпН рокро▒рпНро▒ро┐ рокроЯро┐роХрпНроХро╡рпБроорпН.

ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН! роЙроЩрпНроХро│рпН роирпАроЯрпНроЯро┐рокрпНрокрпИ роЙро░рпБро╡ро╛роХрпНроХро┐ройро╛ро▓рпН (`npm run build`) рооро▒рпНро▒рпБроорпН роЙроЩрпНроХро│рпН extensions pane-ро▓рпН роЕродрпИ refresh роЪрпЖропрпНродро╛ро▓рпН, роирпАроЩрпНроХро│рпН роТро░рпБ роЪрпЖропро▓рпНрокроЯрпБроорпН роирпАроЯрпНроЯро┐рокрпНрокрпИ рокрпЖро▒рпНро▒рпБро╡ро┐роЯрпНроЯрпАро░рпНроХро│рпН! роЪрпЖропро▓ро┐ роороЯрпНроЯрпБроорпН ро╡рпЗро▓рпИ роЪрпЖропрпНропро╡ро┐ро▓рпНро▓рпИ, роЕродрпИ роЕроЯрпБродрпНрод рокро╛роЯродрпНродро┐ро▓рпН роЪро░ро┐ роЪрпЖропрпНро╡рпАро░рпНроХро│рпН.

---

## ЁЯЪА роЪро╡ро╛ро▓рпН

роЗроирпНрод рокро╛роЯроЩрпНроХро│ро┐ро▓рпН роЗродрпБро╡ро░рпИ рокро▓ ро╡роХрпИропро╛рой API-роХрпНроХро│рпИрокрпН рокро▒рпНро▒ро┐ ро╡ро┐ро╡ро╛родро┐родрпНродрпБро│рпНро│рпЛроорпН. роТро░рпБ ро╡ро▓рпИ API-роР родрпЗро░рпНроирпНродрпЖроЯрпБродрпНродрпБ, роЕродрпБ роОройрпНрой ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ роОройрпНрокродрпИ роЖро┤рооро╛роХ роЖро░ро╛ропрпБроЩрпНроХро│рпН. роЙродро╛ро░рогрооро╛роХ, роЙро▓ро╛ро╡ро┐роХро│ро┐ро▓рпН роХро┐роЯрпИроХрпНроХрпБроорпН API-роХрпНроХро│рпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН, [HTML Drag and Drop API](https://developer.mozilla.org/docs/Web/API/HTML_Drag_and_Drop_API) рокрпЛройрпНро▒ро╡рпИ. роЙроЩрпНроХро│рпН роХро░рпБродрпНродро┐ро▓рпН роТро░рпБ роЪро┐ро▒роирпНрод API роОройрпНрой?

## ро╡роХрпБрокрпНрокрпБроХрпНроХрпБрокрпН рокро┐ройрпН ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛

[ро╡роХрпБрокрпНрокрпБроХрпНроХрпБрокрпН рокро┐ройрпН ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛](https://ff-quizzes.netlify.app/web/quiz/26)

## роородро┐рокрпНрокрпАроЯрпБ рооро▒рпНро▒рпБроорпН роЪрпБропрокропро┐ро▒рпНроЪро┐

роЗроирпНрод рокро╛роЯродрпНродро┐ро▓рпН, LocalStorage рооро▒рпНро▒рпБроорпН API-роХрпНроХро│рпИрокрпН рокро▒рпНро▒ро┐ роХро▒рпНро▒рпАро░рпНроХро│рпН, роЗро░рогрпНроЯрпБроорпН родрпКро┤ро┐ро▓рпНроорпБро▒рпИ ро╡ро▓рпИ роЯрпЖро╡ро▓рокрпНрокро░рпБроХрпНроХрпБ рооро┐роХро╡рпБроорпН рокропройрпБро│рпНро│родро╛роХ роЗро░рпБроХрпНроХрпБроорпН. роЗроирпНрод роЗро░рогрпНроЯрпБ ро╡ро┐ро╖ропроЩрпНроХро│рпН роТройрпНро▒рпБроХрпНроХрпКройрпНро▒рпБ роОрокрпНрокроЯро┐ ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ройрпНро▒рой роОройрпНрокродрпИрокрпН рокро▒рпНро▒ро┐ ропрпЛроЪро┐роХрпНроХ роорпБроЯро┐ропрпБрооро╛? API-ропро╛ро▓рпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН рокрпКро░рпБроЯрпНроХро│рпИ роЪрпЗрооро┐роХрпНроХрпБроорпН роТро░рпБ ро╡ро▓рпИродрпНродро│родрпНродрпИ роирпАроЩрпНроХро│рпН роОрокрпНрокроЯро┐ ро╡роЯро┐ро╡роорпИрокрпНрокрпАро░рпНроХро│рпН?

## рокрогро┐роХрпНроХроЯрпНроЯро│рпИ

[роТро░рпБ API-роР роПро▒рпНро▒рпБроХрпНроХрпКро│рпНро│ро╡рпБроорпН](assignment.md)

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХроХрпН роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.