<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b91cbf14240ee59411b96448b994ace1",
  "translation_date": "2025-10-11T12:18:11+00:00",
  "source_file": "5-browser-extension/3-background-tasks-and-performance/README.md",
  "language_code": "ta"
}
-->
# роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБ родро┐роЯрпНроЯроорпН рокроХрпБродро┐ 3: рокро┐ройрпНройрогро┐ рокрогро┐роХро│рпН рооро▒рпНро▒рпБроорпН роЪрпЖропро▓рпНродро┐ро▒ройрпИрокрпН рокро▒рпНро▒ро┐ роЕро▒ро┐роХ

## роорпБройрпН-ро╡роХрпБрокрпНрокрпБ ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛

[роорпБройрпН-ро╡роХрпБрокрпНрокрпБ ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛](https://ff-quizzes.netlify.app/web/quiz/27)

### роЕро▒ро┐роорпБроХроорпН

роЗроирпНрод родрпКроХрпБродро┐ропро┐ройрпН роХроЯрпИроЪро┐ роЗро░рогрпНроЯрпБ рокро╛роЯроЩрпНроХро│ро┐ро▓рпН, API-роЗро▓рпН роЗро░рпБроирпНродрпБ родро░ро╡рпИ рокрпЖро▒рпБро╡родро▒рпНроХро╛рой роТро░рпБ рокроЯро┐ро╡роорпН рооро▒рпНро▒рпБроорпН роХро╛роЯрпНроЪро┐рокрпН рокроХрпБродро┐ропрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родрпБ роОрокрпНрокроЯро┐ роОройрпНрокродрпИ роирпАроЩрпНроХро│рпН роХро▒рпНро▒рпБроХрпНроХрпКрогрпНроЯрпАро░рпНроХро│рпН. роЗродрпБ роЗрогрпИропродрпНродро┐ро▓рпН роТро░рпБ ро╡ро▓рпИродрпНродро│родрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро▒рпНроХро╛рой рооро┐роХро╡рпБроорпН ро╡ро┤роХрпНроХрооро╛рой роорпБро▒рпИропро╛роХрпБроорпН. роорпЗро▓рпБроорпН, родро░ро╡рпИ роЕроЪро┐роЩрпНроХро░рооро╛роХрокрпН рокрпЖро▒рпБро╡родрпБ роОрокрпНрокроЯро┐ роОройрпНрокродрпИ роирпАроЩрпНроХро│рпН роХро▒рпНро▒рпБроХрпНроХрпКрогрпНроЯрпАро░рпНроХро│рпН. роЙроЩрпНроХро│рпН роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБ рооро┐роХро╡рпБроорпН роорпБроЯро┐ро╡роЯрпИропрпБроорпН роиро┐ро▓рпИропро┐ро▓рпН роЙро│рпНро│родрпБ.

роЗрокрпНрокрпЛродрпБ, роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБ роРроХро╛ройро┐ройрпН роиро┐ро▒родрпНродрпИ рокрпБродрпБрокрпНрокро┐рокрпНрокродрпИ роЙро│рпНро│роЯроХрпНроХро┐роп роЪро┐ро▓ рокро┐ройрпНройрогро┐ рокрогро┐роХро│рпИ роиро┐ро░рпНро╡роХро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН, роОройро╡рпЗ роЙро▓ро╛ро╡ро┐ роЗроирпНрод ро╡роХрпИропро╛рой рокрогро┐роХро│рпИ роОрокрпНрокроЯро┐ роиро┐ро░рпНро╡роХро┐роХрпНроХро┐ро▒родрпБ роОройрпНрокродрпИрокрпН рокро▒рпНро▒ро┐ рокрпЗроЪрпБро╡родро▒рпНроХро╛рой роЪро┐ро▒роирпНрод роирпЗро░роорпН роЗродрпБ. роЙроЩрпНроХро│рпН ро╡ро▓рпИродрпНродро│родрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН рокрпЛродрпБ, роЙро▓ро╛ро╡ро┐ рокрогро┐роХро│рпИ роЕродройрпН роЪрпЖропро▓рпНродро┐ро▒ройро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роЪро┐роирпНродро┐роХрпНроХро▓ро╛роорпН.

## ро╡ро▓рпИ роЪрпЖропро▓рпНродро┐ро▒ройрпН роЕроЯро┐рокрпНрокроЯрпИроХро│рпН

> "ро╡ро▓рпИродрпНродро│ роЪрпЖропро▓рпНродро┐ро▒ройрпН роОройрпНрокродрпБ роЗро░рогрпНроЯрпБ ро╡ро┐ро╖ропроЩрпНроХро│рпИрокрпН рокро▒рпНро▒ро┐ропродрпБ: рокроХрпНроХроорпН роОро╡рпНро╡ро│ро╡рпБ ро╡рпЗроХрооро╛роХ роПро▒рпНро▒рокрпНрокроЯрпБроХро┐ро▒родрпБ, рооро▒рпНро▒рпБроорпН роЕродро┐ро▓рпН роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпБ роОро╡рпНро╡ро│ро╡рпБ ро╡рпЗроХрооро╛роХ роЗропроЩрпНроХрпБроХро┐ро▒родрпБ." -- [Zack Grossbart](https://www.smashingmagazine.com/2012/06/javascript-profiling-chrome-developer-tools/)

роЙроЩрпНроХро│рпН ро╡ро▓рпИродрпНродро│роЩрпНроХро│рпИ роЕройрпИродрпНродрпБ ро╡роХрпИропро╛рой роЪро╛родройроЩрпНроХро│ро┐ро▓рпН, роЕройрпИродрпНродрпБ ро╡роХрпИропро╛рой рокропройро░рпНроХро│рпБроХрпНроХрпБ, роЕройрпИродрпНродрпБ ро╡роХрпИропро╛рой роЪрпВро┤ро▓рпНроХро│ро┐ро▓рпН рооро┐роХро╡рпБроорпН ро╡рпЗроХрооро╛роХ роЪрпЖропро▓рпНрокроЯроЪрпН роЪрпЖропрпНро╡родрпБ роОрокрпНрокроЯро┐ роОройрпНрокродрпБ рокро▒рпНро▒ро┐роп родро▓рпИрокрпНрокрпБ, роОродро┐ро░рпНрокро╛ро░ро╛родро╡ро┐родрооро╛роХ, рокро░роирпНродродрпБ. роТро░рпБ ро╡ро┤роХрпНроХрооро╛рой ро╡ро▓рпИродрпН родро┐роЯрпНроЯроорпН роЕро▓рпНро▓родрпБ роЙро▓ро╛ро╡ро┐ роирпАроЯрпНроЯро┐рокрпНрокрпБ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН рокрпЛродрпБ роХро╡ройро┐роХрпНроХ ро╡рпЗрогрпНроЯро┐роп роЪро┐ро▓ роорпБроХрпНроХро┐роп роЕроорпНроЪроЩрпНроХро│рпН роЗроЩрпНроХрпЗ роЙро│рпНро│рой.

роЙроЩрпНроХро│рпН родро│родрпНродро┐ройрпН роЪрпЖропро▓рпНродро┐ро▒ройрпН родро┐ро▒роорпНрокроЯ роЗропроЩрпНроХрпБроХро┐ро▒родрпБ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНрод роорпБродро▓ро┐ро▓рпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯро┐ропродрпБ, роЕродройрпН роЪрпЖропро▓рпНродро┐ро▒ройрпН рокро▒рпНро▒ро┐роп родро░ро╡рпБроХро│рпИроЪрпН роЪрпЗроХро░ро┐рокрпНрокродро╛роХрпБроорпН. роЗродро▒рпНроХро╛рой роорпБродро▓рпН роЗроЯроорпН роЙроЩрпНроХро│рпН ро╡ро▓рпИ роЙро▓ро╛ро╡ро┐ропро┐ройрпН роЯрпЖро╡ро▓рокрпНрокро░рпН роЯрпВро▓рпНро╕рпН роЖроХрпБроорпН. Edge роЙро▓ро╛ро╡ро┐ропро┐ро▓рпН, "Settings and more" рокрпКродрпНродро╛ройрпИ (роЙро▓ро╛ро╡ро┐ропро┐ройрпН роорпЗро▓рпН ро╡ро▓родрпБ роорпВро▓рпИропро┐ро▓рпН роЙро│рпНро│ роорпВройрпНро▒рпБ рокрпБро│рпНро│ро┐роХро│рпН роРроХро╛ройрпН) родрпЗро░рпНроирпНродрпЖроЯрпБродрпНродрпБ, More Tools > Developer Tools-роХрпНроХрпБ роЪрпЖро▓рпНро▓ро╡рпБроорпН рооро▒рпНро▒рпБроорпН Performance tab-роР родро┐ро▒роХрпНроХро╡рпБроорпН. Windows-ро▓рпН `Ctrl` + `Shift` + `I` роЕро▓рпНро▓родрпБ Mac-ро▓рпН `Option` + `Command` + `I` роОройрпНро▒ ро╡ро┐роЪрпИрокрпНрокро▓роХрпИ роХрпБро▒рпБроХрпНроХрпБро╡ро┤ро┐роХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЯрпЖро╡ро▓рокрпНрокро░рпН роЯрпВро▓рпНро╕рпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН.

Performance tab-ро▓рпН Profiling tool роЙро│рпНро│родрпБ. роТро░рпБ ро╡ро▓рпИродрпНродро│родрпНродрпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН (роЙродро╛ро░рогрооро╛роХ, [https://www.microsoft.com](https://www.microsoft.com/?WT.mc_id=academic-77807-sagibbon)) рооро▒рпНро▒рпБроорпН 'Record' рокрпКродрпНродро╛ройрпИ роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН, рокро┐ройрпНройро░рпН родро│родрпНродрпИрокрпН рокрпБродрпБрокрпНрокро┐роХрпНроХро╡рпБроорпН. роОроирпНрод роирпЗро░родрпНродро┐ро▓рпБроорпН рокродро┐ро╡рпБ роЪрпЖропрпНроп роиро┐ро▒рпБродрпНродро╡рпБроорпН, рокро┐ройрпНройро░рпН 'script', 'render', рооро▒рпНро▒рпБроорпН 'paint' роЪрпЖропрпНропрпБроорпН роЪрпЖропро▓рпНроорпБро▒рпИроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХ роорпБроЯро┐ропрпБроорпН:

![Edge profiler](../../../../translated_images/profiler.5a4a62479c5df01cfec9aab74173dba13f91d2c968e1a1ae434c26165792df15.ta.png)

тЬЕ [Microsoft Documentation](https://docs.microsoft.com/microsoft-edge/devtools-guide/performance/?WT.mc_id=academic-77807-sagibbon) роР Edge-роЗро▓рпН роЙро│рпНро│ Performance panel рокро▒рпНро▒ро┐роп родроХро╡ро▓рпБроХрпНроХрпБ рокро╛ро░рпНро╡рпИропро┐роЯро╡рпБроорпН.

> роХрпБро▒ро┐рокрпНрокрпБроХро│рпН: роЙроЩрпНроХро│рпН ро╡ро▓рпИродрпНродро│родрпНродро┐ройрпН родрпКроЯроХрпНроХ роирпЗро░родрпНродрпИ роЪро░ро┐ропро╛роХ роЕро│ро╡ро┐роЯ, роЙро▓ро╛ро╡ро┐ропро┐ройрпН cache-роР роЕро┤ро┐роХрпНроХро╡рпБроорпН.

рокроХрпНроХроорпН роПро▒рпНро▒рпБроорпНрокрпЛродрпБ роиро┐роХро┤рпБроорпН роиро┐роХро┤рпНро╡рпБроХро│рпИ роирпЖро░рпБроХрпНроХрооро╛роХрокрпН рокро╛ро░рпНроХрпНроХ timeline-роЗро▓рпН роЙро│рпНро│ рокроХрпБродро┐роХро│рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.

Timeline-роЗро▓рпН роТро░рпБ рокроХрпБродро┐ропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБродрпНродрпБ, summary pane-роРрокрпН рокро╛ро░рпНродрпНродрпБ роЙроЩрпНроХро│рпН рокроХрпНроХродрпНродро┐ройрпН роЪрпЖропро▓рпНродро┐ро▒ройро┐ройрпН роТро░рпБ роЪрпБро░рпБроХрпНроХродрпНродрпИрокрпН рокрпЖро▒ро╡рпБроорпН:

![Edge profiler snapshot](../../../../translated_images/snapshot.97750180ebcad73794a3594b36925eb5c8dbaac9e03fec7f9b974188c9ac63c7.ta.png)

Event Log pane-роРроЪрпН роЪро░ро┐рокро╛ро░рпНродрпНродрпБ, роОроирпНрод роиро┐роХро┤рпНро╡рпБ 15 ms-роХрпНроХрпБ роорпЗро▓рпН роОроЯрпБродрпНродродро╛ роОройрпНрокродрпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН:

![Edge event log](../../../../translated_images/log.804026979f3707e00eebcfa028b2b5a88cec6292f858767bb6703afba65a7d9c.ta.png)

тЬЕ роЙроЩрпНроХро│рпН profiler-роР роЕро▒ро┐роирпНродрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН! роЗроирпНрод родро│родрпНродро┐ро▓рпН роЯрпЖро╡ро▓рокрпНрокро░рпН роЯрпВро▓рпНро╕рпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН рооро▒рпНро▒рпБроорпН bottlenecks роЙро│рпНро│родро╛ роОройрпНрокродрпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН. роОроирпНрод resource рооро┐роХро╡рпБроорпН роорпЖродрпБро╡ро╛роХ роПро▒рпНро▒рпБроХро┐ро▒родрпБ? роОроирпНрод resource рооро┐роХро╡рпБроорпН ро╡рпЗроХрооро╛роХ роПро▒рпНро▒рпБроХро┐ро▒родрпБ?

## Profiling checks

рокрпКродрпБро╡ро╛роХ, роТро░рпБ ро╡ро▓рпИродрпНродро│родрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН рокрпЛродрпБ, deployment роирпЗро░родрпНродро┐ро▓рпН роОродро┐ро░рпНрокро╛ро░ро╛род рокро┐ро░роЪрпНроЪройрпИроХро│рпИродрпН родро╡ро┐ро░рпНроХрпНроХ, роТро╡рпНро╡рпКро░рпБ ро╡ро▓рпИ роЯрпЖро╡ро▓рокрпНрокро░рпБроорпН роХро╡ройро┐роХрпНроХ ро╡рпЗрогрпНроЯро┐роп роЪро┐ро▓ "рокро┐ро░роЪрпНроЪройрпИ рокроХрпБродро┐роХро│рпН" роЙро│рпНро│рой.

**Asset sizes**: роХроЯроирпНрод роЪро┐ро▓ роЖрогрпНроЯрпБроХро│ро┐ро▓рпН ро╡ро▓рпИ "роХройро░роХрооро╛роХ" рооро╛ро▒ро┐, роорпЖродрпБро╡ро╛роХ рооро╛ро▒ро┐ропрпБро│рпНро│родрпБ. роЗроирпНрод "роХройро░роХродрпНродройрпНроорпИ" роЪро┐ро▓ роЕро│ро╡рпБроХрпНроХрпБ рокроЯроЩрпНроХро│ро┐ройрпН рокропройрпНрокро╛роЯрпНроЯро╛ро▓рпН роПро▒рпНрокроЯрпБроХро┐ро▒родрпБ.

тЬЕ [Internet Archive](https://httparchive.org/reports/page-weight) роРрокрпН рокро╛ро░рпНро╡рпИропро┐роЯрпНроЯрпБ, рокроХрпНроХ роОроЯрпИ рооро▒рпНро▒рпБроорпН роорпЗро▓рпБроорпН рокро▓ро╡ро▒рпНро▒ро┐ройрпН ро╡ро░ро▓ро╛ро▒рпНро▒рпБ рокро╛ро░рпНро╡рпИропрпИрокрпН рокрпЖро▒ро╡рпБроорпН.

роЙроЩрпНроХро│рпН рокроЯроЩрпНроХро│рпН роЙроЩрпНроХро│рпН рокропройро░рпНроХро│рпБроХрпНроХрпБ роЪро░ро┐ропро╛рой роЕро│ро╡рпБ рооро▒рпНро▒рпБроорпН родрпАро░рпНрооро╛ройродрпНродро┐ро▓рпН родроХрпБроирпНродро╡ро╛ро▒рпБ ро╡ро┤роЩрпНроХрокрпНрокроЯрпБро╡родрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродрпБро╡родрпБ роиро▓рпНро▓ роироЯрпИроорпБро▒рпИропро╛роХрпБроорпН.

**DOM traversals**: роЙро▓ро╛ро╡ро┐ роЙроЩрпНроХро│рпН роОро┤рпБродро┐роп роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН Document Object Model-роР роЙро░рпБро╡ро╛роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН, роОройро╡рпЗ роЙроЩрпНроХро│рпН рокроХрпНроХродрпНродро┐ройрпН роЪрпЖропро▓рпНродро┐ро▒ройрпИ роорпЗроорпНрокроЯрпБродрпНрод, роХрпБро▒рпИроирпНрод роЕро│ро╡ро┐ро▓ро╛рой tags-роХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родрпБ роиро▓рпНро▓родрпБ. роЙродро╛ро░рогрооро╛роХ, роТро░рпБ рокроХрпНроХродрпНродро┐ро▓рпН роороЯрпНроЯрпБроорпЗ рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро┐роп styles, роорпБроХрпНроХро┐роп style sheet-роЗро▓рпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯ родрпЗро╡рпИропро┐ро▓рпНро▓рпИ.

**JavaScript**: роТро╡рпНро╡рпКро░рпБ JavaScript роЯрпЖро╡ро▓рокрпНрокро░рпБроорпН 'render-blocking' scripts-роХро│рпИ роХро╡ройро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН, роПройрпЖройро┐ро▓рпН роЕро╡рпИ DOM-роР traverse рооро▒рпНро▒рпБроорпН paint роЪрпЖропрпНропрпБроорпН роорпБройрпН роПро▒рпНро▒рокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роЙроЩрпНроХро│рпН inline scripts-роХро│рпБроЯройрпН `defer` роРрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН (Terrarium module-ро▓рпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯродрпБ рокрпЛро▓).

тЬЕ [Site Speed Test website](https://www.webpagetest.org/) роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐, родро│ роЪрпЖропро▓рпНродро┐ро▒ройрпИ роиро┐ро░рпНрогропро┐роХрпНроХ рокрпКродрпБро╡ро╛роХ роЪрпЖропрпНропрокрпНрокроЯрпБроорпН роЪро░ро┐рокро╛ро░рпНрокрпНрокрпБроХро│рпИрокрпН рокро▒рпНро▒ро┐ роорпЗро▓рпБроорпН роЕро▒ро┐роп роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН.

роЗрокрпНрокрпЛродрпБ роЙро▓ро╛ро╡ро┐ роирпАроЩрпНроХро│рпН роЕройрпБрокрпНрокрпБроорпН resources-роР render роЪрпЖропрпНропрпБроорпН ро╡ро┐родродрпНродрпИрокрпН рокро▒рпНро▒ро┐ роТро░рпБ роХро░рпБродрпНродрпБ роЙроЩрпНроХро│рпБроХрпНроХрпБ ро╡роирпНродрпБро╡ро┐роЯрпНроЯродрпБ, роЙроЩрпНроХро│рпН extension-роР роорпБроЯро┐роХрпНроХ роирпАроЩрпНроХро│рпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯро┐роп роХроЯрпИроЪро┐ роЪро┐ро▓ ро╡ро┐ро╖ропроЩрпНроХро│рпИрокрпН рокро╛ро░рпНрокрпНрокрпЛроорпН:

### роиро┐ро▒родрпНродрпИ роХрогроХрпНроХро┐роЯ роТро░рпБ function роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН

`/src/index.js`-ро▓рпН, DOM-роР роЕрогрпБроХрпБро╡родро▒рпНроХро╛рой `const` variables-роХро│ро┐ройрпН родрпКроЯро░ро┐ройрпН рокро┐ройрпНройро░рпН `calculateColor()` роОройрпНро▒ function-роР роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

```JavaScript
function calculateColor(value) {
	let co2Scale = [0, 150, 600, 750, 800];
	let colors = ['#2AA364', '#F5EB4D', '#9E4229', '#381D02', '#381D02'];

	let closestNum = co2Scale.sort((a, b) => {
		return Math.abs(a - value) - Math.abs(b - value);
	})[0];
	console.log(value + ' is closest to ' + closestNum);
	let num = (element) => element > closestNum;
	let scaleIndex = co2Scale.findIndex(num);

	let closestColor = colors[scaleIndex];
	console.log(scaleIndex, closestColor);

	chrome.runtime.sendMessage({ action: 'updateIcon', value: { color: closestColor } });
}
```

роЗроЩрпНроХрпЗ роОройрпНрой роироЯроХрпНроХро┐ро▒родрпБ? роирпАроЩрпНроХро│рпН API call-ро▓рпН роЗро░рпБроирпНродрпБ рокрпЖро▒рокрпНрокроЯрпНроЯ роТро░рпБ роородро┐рокрпНрокрпИ (carbon intensity) pass роЪрпЖропрпНроХро┐ро▒рпАро░рпНроХро│рпН, рокро┐ройрпНройро░рпН роЕродройрпН роородро┐рокрпНрокрпБ colors array-ро▓рпН роЙро│рпНро│ index-роХрпНроХрпБ роОро╡рпНро╡ро│ро╡рпБ роЕро░рпБроХро┐ро▓рпН роЙро│рпНро│родрпБ роОройрпНрокродрпИ роХрогроХрпНроХро┐роЯрпБроХро┐ро▒рпАро░рпНроХро│рпН. рокро┐ройрпНройро░рпН роЕроирпНрод рооро┐роХ роЕро░рпБроХро┐ро▓рпБро│рпНро│ роиро┐ро▒ роородро┐рокрпНрокрпИ chrome runtime-роХрпНроХрпБ роЕройрпБрокрпНрокрпБроХро┐ро▒рпАро░рпНроХро│рпН.

chrome.runtime-ро▓рпН [роТро░рпБ API](https://developer.chrome.com/extensions/runtime) роЙро│рпНро│родрпБ, роЗродрпБ роЕройрпИродрпНродрпБ ро╡роХрпИропро╛рой рокро┐ройрпНройрогро┐ рокрогро┐роХро│рпИ роиро┐ро░рпНро╡роХро┐роХрпНроХро┐ро▒родрпБ, рооро▒рпНро▒рпБроорпН роЙроЩрпНроХро│рпН extension роЕродрпИ рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ:

> "chrome.runtime API-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ рокро┐ройрпНройрогро┐ рокроХрпНроХроорпН, manifest рокро▒рпНро▒ро┐роп ро╡ро┐ро╡ро░роЩрпНроХро│рпИ return роЪрпЖропрпНропро╡рпБроорпН, рооро▒рпНро▒рпБроорпН app роЕро▓рпНро▓родрпБ extension lifecycle-роЗро▓рпН роиро┐роХро┤рпНро╡рпБроХро│рпИ роХрпЗроЯрпНроЯрпБ рокродро┐ро▓ро│ро┐роХрпНроХро╡рпБроорпН. URLs-роЗройрпН relative path-роР роорпБро┤рпБроорпИропро╛роХ-qualified URLs-роЖроХ рооро╛ро▒рпНро▒ роЗроирпНрод API-роРрокрпН рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН."

тЬЕ роирпАроЩрпНроХро│рпН Edge роЙро▓ро╛ро╡ро┐роХрпНроХро╛роХ роЗроирпНрод роЙро▓ро╛ро╡ро┐ extension-роР роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒рпАро░рпНроХро│рпН роОройрпНро▒ро╛ро▓рпН, роирпАроЩрпНроХро│рпН chrome API-роРрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родрпБ роЙроЩрпНроХро│рпИ роЖроЪрпНроЪро░ро┐ропрокрпНрокроЯрпБродрпНродро▓ро╛роорпН. рокрпБродро┐роп Edge роЙро▓ро╛ро╡ро┐ рокродро┐рокрпНрокрпБроХро│рпН Chromium роЙро▓ро╛ро╡ро┐ engine-ро▓рпН роЗропроЩрпНроХрпБроХро┐ройрпНро▒рой, роОройро╡рпЗ роирпАроЩрпНроХро│рпН роЗроирпНрод tools-роРрокрпН рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН.

> роХрпБро▒ро┐рокрпНрокрпБроХро│рпН: роЙро▓ро╛ро╡ро┐ extension-роР profile роЪрпЖропрпНроп ро╡ро┐ро░рпБроорпНрокро┐ройро╛ро▓рпН, extension-роЗройрпН dev tools-роР роЕродройрпН родройро┐родрпНродрпБро╡рооро╛рой роЙро▓ро╛ро╡ро┐ instance-роЗро▓рпН роЗро░рпБроирпНродрпБ launch роЪрпЖропрпНропро╡рпБроорпН.

### роТро░рпБ default icon роиро┐ро▒родрпНродрпИ роЕроорпИроХрпНроХро╡рпБроорпН

роЗрокрпНрокрпЛродрпБ, `init()` function-роЗро▓рпН, chrome-роЗройрпН `updateIcon` action-роР роорпАрогрпНроЯрпБроорпН роЕро┤рпИродрпНродрпБ, icon-роР роЖро░роорпНрокродрпНродро┐ро▓рпН рокрпКродрпБро╡ро╛рой рокроЪрпНроЪрпИ роиро┐ро▒рооро╛роХ роЕроорпИроХрпНроХро╡рпБроорпН:

```JavaScript
chrome.runtime.sendMessage({
	action: 'updateIcon',
		value: {
			color: 'green',
		},
});
```
### function-роР роЕро┤рпИроХрпНроХро╡рпБроорпН, call-роР роЪрпЖропро▓рпНрокроЯрпБродрпНродро╡рпБроорпН

рокро┐ройрпНройро░рпН, роирпАроЩрпНроХро│рпН роЙро░рпБро╡ро╛роХрпНроХро┐роп function-роР C02Signal API promise-роЗро▓рпН роЪрпЗро░рпНродрпНродрпБ роЕро┤рпИроХрпНроХро╡рпБроорпН:

```JavaScript
//let CO2...
calculateColor(CO2);
```

роорпБроЯро┐ро╡ро╛роХ, `/dist/background.js`-ро▓рпН, роЗроирпНрод рокро┐ройрпНройрогро┐ action calls-роХрпНроХрпБ listener-роР роЪрпЗро░рпНроХрпНроХро╡рпБроорпН:

```JavaScript
chrome.runtime.onMessage.addListener(function (msg, sender, sendResponse) {
	if (msg.action === 'updateIcon') {
		chrome.action.setIcon({ imageData: drawIcon(msg.value) });
	}
});
//borrowed from energy lollipop extension, nice feature!
function drawIcon(value) {
	let canvas = new OffscreenCanvas(200, 200);
	let context = canvas.getContext('2d');

	context.beginPath();
	context.fillStyle = value.color;
	context.arc(100, 100, 50, 0, 2 * Math.PI);
	context.fill();

	return context.getImageData(50, 50, 100, 100);
}
```
роЗроирпНрод code-ро▓рпН, backend task manager-роХрпНроХрпБ ро╡ро░рпБроорпН роОроирпНрод messages-роХрпНроХрпБроорпН listener-роР роирпАроЩрпНроХро│рпН роЪрпЗро░рпНроХрпНроХро┐ро▒рпАро░рпНроХро│рпН. роЕродрпБ 'updateIcon' роОройрпНро▒рпБ роЕро┤рпИроХрпНроХрокрпНрокроЯрпНроЯро╛ро▓рпН, Canvas API-роРрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЪро░ро┐ропро╛рой роиро┐ро▒родрпНродро┐ро▓рпН icon-роР draw роЪрпЖропрпНропрпБроорпН code роЕроЯрпБродрпНродродро╛роХ роЗропроЩрпНроХрпБроорпН.

тЬЕ [Space Game lessons](../../6-space-game/2-drawing-to-canvas/README.md) роЗро▓рпН Canvas API рокро▒рпНро▒ро┐ роорпЗро▓рпБроорпН роЕро▒ро┐ропро▓ро╛роорпН.

роЗрокрпНрокрпЛродрпБ, роЙроЩрпНроХро│рпН extension-роР роорпАрогрпНроЯрпБроорпН build роЪрпЖропрпНропро╡рпБроорпН (`npm run build`), refresh роЪрпЖропрпНродрпБ роЙроЩрпНроХро│рпН extension-роР launch роЪрпЖропрпНропро╡рпБроорпН, рооро▒рпНро▒рпБроорпН роиро┐ро▒роорпН рооро╛ро▒рпБро╡родрпИрокрпН рокро╛ро░рпБроЩрпНроХро│рпН. роЗродрпБ errands роЪрпЖропрпНроп роЕро▓рпНро▓родрпБ рокро╛родрпНродро┐ро░роЩрпНроХро│рпН роХро┤рпБро╡ роиро▓рпНро▓ роирпЗро░рооро╛? роЗрокрпНрокрпЛродрпБ роЙроЩрпНроХро│рпБроХрпНроХрпБ родрпЖро░ро┐ропрпБроорпН!

ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН, роирпАроЩрпНроХро│рпН роТро░рпБ рокропройрпБро│рпНро│ роЙро▓ро╛ро╡ро┐ extension-роР роЙро░рпБро╡ро╛роХрпНроХро┐, роЙро▓ро╛ро╡ро┐ роОрокрпНрокроЯро┐ роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ рооро▒рпНро▒рпБроорпН роЕродройрпН роЪрпЖропро▓рпНродро┐ро▒ройрпИ роОрокрпНрокроЯро┐ profile роЪрпЖропрпНро╡родрпБ роОройрпНрокродрпИрокрпН рокро▒рпНро▒ро┐ роорпЗро▓рпБроорпН роХро▒рпНро▒рпБроХрпНроХрпКрогрпНроЯрпАро░рпНроХро│рпН.

---

## ЁЯЪА роЪро╡ро╛ро▓рпН

роирпАрогрпНроЯ роХро╛ро▓рооро╛роХ роЗро░рпБроирпНрод роЪро┐ро▓ родро┐ро▒роирпНрод роорпВро▓ ро╡ро▓рпИродрпНродро│роЩрпНроХро│рпИ роЖро░ро╛ропрпНроирпНродрпБ, роЕро╡рпИ роЪрпЖропро▓рпНродро┐ро▒ройрпБроХрпНроХро╛роХ роЖрогрпНроЯрпБроХро│ро╛роХ роОрокрпНрокроЯро┐ роорпЗроорпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯрой роОройрпНрокродрпИ GitHub ро╡ро░ро▓ро╛ро▒рпНро▒ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роХрогрпНроЯро▒ро┐роп роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН. рооро┐роХро╡рпБроорпН рокрпКродрпБро╡ро╛рой рокро┐ро░роЪрпНроЪройрпИ роОройрпНрой?

## ро╡роХрпБрокрпНрокрпБроХрпНроХрпБрокрпН рокро┐ройрпН ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛

[ро╡роХрпБрокрпНрокрпБроХрпНроХрпБрокрпН рокро┐ройрпН ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛](https://ff-quizzes.netlify.app/web/quiz/28)

## роородро┐рокрпНрокрпАроЯрпБ & роЪрпБропрокроЯро┐рокрпНрокрпБ

[performance newsletter](https://perf.email/) роХрпНроХрпБ рокродро┐ро╡рпБ роЪрпЖропрпНроп рокро░ро┐роЪрпАро▓ро┐роХрпНроХро╡рпБроорпН.

роЙро▓ро╛ро╡ро┐роХро│рпН ро╡ро▓рпИ роЪрпЖропро▓рпНродро┐ро▒ройрпИ роОрокрпНрокроЯро┐ роЕро│ро╡ро┐роЯрпБроХро┐ройрпНро▒рой роОройрпНрокродрпИ роЕро╡ро░рпНроХро│ро┐ройрпН web tools-роЗро▓рпН роЙро│рпНро│ performance tabs-роРрокрпН рокро╛ро░рпНро╡рпИропро┐роЯрпНроЯрпБ роЖро░ро╛ропро╡рпБроорпН. роОроирпНрод роорпБроХрпНроХро┐роп ро╡рпЗро▒рпБрокро╛роЯрпБроХро│рпИ роирпАроЩрпНроХро│рпН роХрогрпНроЯрпБрокро┐роЯро┐роХрпНроХро┐ро▒рпАро░рпНроХро│рпН?

## рокрогро┐роХрпНроХрпВро▒рпНро▒рпБ

[родро│ роЪрпЖропро▓рпНродро┐ро▒ройрпИ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНропро╡рпБроорпН](assignment.md)

---

**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН [Co-op Translator](https://github.com/Azure/co-op-translator) роОройрпНро▒ AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐роХрпНроХро┐ройрпНро▒рпЛроорпН, роЖройро╛ро▓рпН родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой родроХро╡ро▓рпНроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ роХро╡ройродрпНродро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН. роЕродройрпН родро╛ропрпНроорпКро┤ро┐ропро┐ро▓рпН роЙро│рпНро│ роорпВро▓ роЖро╡рогроорпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роЖродро╛ро░рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБро╡родро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНрод родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпНроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокро▓рпНро▓.