<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "862f7f2ef320f6f8950fae379e6ece45",
  "translation_date": "2025-10-24T13:52:06+00:00",
  "source_file": "6-space-game/1-introduction/README.md",
  "language_code": "vi"
}
-->
# XÃ¢y dá»±ng trÃ² chÆ¡i khÃ´ng gian Pháº§n 1: Giá»›i thiá»‡u

![Hoáº¡t áº£nh trÃ² chÆ¡i khÃ´ng gian hiá»ƒn thá»‹ gameplay](../../../../6-space-game/images/pewpew.gif)

Giá»‘ng nhÆ° trung tÃ¢m Ä‘iá»u khiá»ƒn cá»§a NASA phá»‘i há»£p nhiá»u há»‡ thá»‘ng trong má»™t láº§n phÃ³ng tÃ u vÅ© trá»¥, chÃºng ta sáº½ xÃ¢y dá»±ng má»™t trÃ² chÆ¡i khÃ´ng gian Ä‘á»ƒ minh há»a cÃ¡ch cÃ¡c pháº§n khÃ¡c nhau cá»§a má»™t chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng cÃ¹ng nhau má»™t cÃ¡ch mÆ°á»£t mÃ . Trong khi táº¡o ra má»™t thá»© mÃ  báº¡n thá»±c sá»± cÃ³ thá»ƒ chÆ¡i, báº¡n sáº½ há»c Ä‘Æ°á»£c cÃ¡c khÃ¡i niá»‡m láº­p trÃ¬nh cÆ¡ báº£n Ã¡p dá»¥ng cho báº¥t ká»³ dá»± Ã¡n pháº§n má»m nÃ o.

ChÃºng ta sáº½ khÃ¡m phÃ¡ hai cÃ¡ch tiáº¿p cáº­n cÆ¡ báº£n Ä‘á»ƒ tá»• chá»©c mÃ£: káº¿ thá»«a vÃ  thÃ nh pháº§n. ÄÃ¢y khÃ´ng chá»‰ lÃ  cÃ¡c khÃ¡i niá»‡m há»c thuáº­t â€“ chÃºng lÃ  cÃ¡c máº«u thiáº¿t káº¿ Ä‘Æ°á»£c sá»­ dá»¥ng trong má»i thá»© tá»« trÃ² chÆ¡i Ä‘iá»‡n tá»­ Ä‘áº¿n há»‡ thá»‘ng ngÃ¢n hÃ ng. ChÃºng ta cÅ©ng sáº½ triá»ƒn khai má»™t há»‡ thá»‘ng giao tiáº¿p gá»i lÃ  pub/sub, hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° cÃ¡c máº¡ng lÆ°á»›i giao tiáº¿p Ä‘Æ°á»£c sá»­ dá»¥ng trong tÃ u vÅ© trá»¥, cho phÃ©p cÃ¡c thÃ nh pháº§n khÃ¡c nhau chia sáº» thÃ´ng tin mÃ  khÃ´ng táº¡o ra sá»± phá»¥ thuá»™c.

Káº¿t thÃºc loáº¡t bÃ i nÃ y, báº¡n sáº½ hiá»ƒu cÃ¡ch xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  phÃ¡t triá»ƒn â€“ dÃ¹ báº¡n Ä‘ang phÃ¡t triá»ƒn trÃ² chÆ¡i, á»©ng dá»¥ng web hay báº¥t ká»³ há»‡ thá»‘ng pháº§n má»m nÃ o khÃ¡c.

## Quiz trÆ°á»›c bÃ i giáº£ng

[Quiz trÆ°á»›c bÃ i giáº£ng](https://ff-quizzes.netlify.app/web/quiz/29)

## Káº¿ thá»«a vÃ  ThÃ nh pháº§n trong PhÃ¡t triá»ƒn TrÃ² chÆ¡i

Khi cÃ¡c dá»± Ã¡n trá»Ÿ nÃªn phá»©c táº¡p hÆ¡n, viá»‡c tá»• chá»©c mÃ£ trá»Ÿ nÃªn ráº¥t quan trá»ng. Nhá»¯ng gÃ¬ báº¯t Ä‘áº§u lÃ  má»™t script Ä‘Æ¡n giáº£n cÃ³ thá»ƒ trá»Ÿ nÃªn khÃ³ duy trÃ¬ náº¿u khÃ´ng cÃ³ cáº¥u trÃºc phÃ¹ há»£p â€“ giá»‘ng nhÆ° cÃ¡ch cÃ¡c nhiá»‡m vá»¥ Apollo yÃªu cáº§u sá»± phá»‘i há»£p cáº©n tháº­n giá»¯a hÃ ng ngÃ n thÃ nh pháº§n.

ChÃºng ta sáº½ khÃ¡m phÃ¡ hai cÃ¡ch tiáº¿p cáº­n cÆ¡ báº£n Ä‘á»ƒ tá»• chá»©c mÃ£: káº¿ thá»«a vÃ  thÃ nh pháº§n. Má»—i cÃ¡ch cÃ³ nhá»¯ng lá»£i Ã­ch riÃªng, vÃ  viá»‡c hiá»ƒu cáº£ hai giÃºp báº¡n chá»n cÃ¡ch tiáº¿p cáº­n phÃ¹ há»£p cho tá»«ng tÃ¬nh huá»‘ng. ChÃºng ta sáº½ minh há»a cÃ¡c khÃ¡i niá»‡m nÃ y thÃ´ng qua trÃ² chÆ¡i khÃ´ng gian cá»§a mÃ¬nh, nÆ¡i cÃ¡c anh hÃ¹ng, káº» thÃ¹, váº­t pháº©m tÄƒng cÆ°á»ng sá»©c máº¡nh vÃ  cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c pháº£i tÆ°Æ¡ng tÃ¡c hiá»‡u quáº£.

âœ… Má»™t trong nhá»¯ng cuá»‘n sÃ¡ch láº­p trÃ¬nh ná»•i tiáº¿ng nháº¥t tá»«ng Ä‘Æ°á»£c viáº¿t liÃªn quan Ä‘áº¿n [máº«u thiáº¿t káº¿](https://en.wikipedia.org/wiki/Design_Patterns).

Trong báº¥t ká»³ trÃ² chÆ¡i nÃ o, báº¡n cÃ³ cÃ¡c `Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i` â€“ cÃ¡c yáº¿u tá»‘ tÆ°Æ¡ng tÃ¡c táº¡o nÃªn tháº¿ giá»›i trÃ² chÆ¡i cá»§a báº¡n. Anh hÃ¹ng, káº» thÃ¹, váº­t pháº©m tÄƒng cÆ°á»ng sá»©c máº¡nh vÃ  hiá»‡u á»©ng hÃ¬nh áº£nh Ä‘á»u lÃ  cÃ¡c Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i. Má»—i Ä‘á»‘i tÆ°á»£ng tá»“n táº¡i táº¡i cÃ¡c tá»a Ä‘á»™ mÃ n hÃ¬nh cá»¥ thá»ƒ sá»­ dá»¥ng giÃ¡ trá»‹ `x` vÃ  `y`, tÆ°Æ¡ng tá»± nhÆ° viá»‡c váº½ Ä‘iá»ƒm trÃªn má»™t máº·t pháº³ng tá»a Ä‘á»™.

Máº·c dÃ¹ cÃ³ sá»± khÃ¡c biá»‡t vá» hÃ¬nh áº£nh, cÃ¡c Ä‘á»‘i tÆ°á»£ng nÃ y thÆ°á»ng chia sáº» cÃ¡c hÃ nh vi cÆ¡ báº£n:

- **ChÃºng tá»“n táº¡i á»Ÿ Ä‘Ã¢u Ä‘Ã³** â€“ Má»—i Ä‘á»‘i tÆ°á»£ng cÃ³ tá»a Ä‘á»™ x vÃ  y Ä‘á»ƒ trÃ² chÆ¡i biáº¿t nÆ¡i váº½ nÃ³
- **Nhiá»u Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ di chuyá»ƒn** â€“ Anh hÃ¹ng cháº¡y, káº» thÃ¹ Ä‘uá»•i theo, Ä‘áº¡n bay qua mÃ n hÃ¬nh
- **ChÃºng cÃ³ vÃ²ng Ä‘á»i** â€“ Má»™t sá»‘ tá»“n táº¡i mÃ£i mÃ£i, nhá»¯ng Ä‘á»‘i tÆ°á»£ng khÃ¡c (nhÆ° vá»¥ ná»•) xuáº¥t hiá»‡n ngáº¯n ngá»§i rá»“i biáº¿n máº¥t
- **ChÃºng pháº£n á»©ng vá»›i cÃ¡c sá»± kiá»‡n** â€“ Khi cÃ¡c Ä‘á»‘i tÆ°á»£ng va cháº¡m, váº­t pháº©m tÄƒng cÆ°á»ng sá»©c máº¡nh Ä‘Æ°á»£c thu tháº­p, thanh mÃ¡u Ä‘Æ°á»£c cáº­p nháº­t

âœ… HÃ£y nghÄ© vá» má»™t trÃ² chÆ¡i nhÆ° Pac-Man. Báº¡n cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh bá»‘n loáº¡i Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c liá»‡t kÃª á»Ÿ trÃªn trong trÃ² chÆ¡i nÃ y khÃ´ng?

### Thá»ƒ hiá»‡n HÃ nh vi Qua MÃ£

BÃ¢y giá» báº¡n Ä‘Ã£ hiá»ƒu cÃ¡c hÃ nh vi chung mÃ  cÃ¡c Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i chia sáº», hÃ£y khÃ¡m phÃ¡ cÃ¡ch triá»ƒn khai cÃ¡c hÃ nh vi nÃ y trong JavaScript. Báº¡n cÃ³ thá»ƒ thá»ƒ hiá»‡n hÃ nh vi cá»§a Ä‘á»‘i tÆ°á»£ng thÃ´ng qua cÃ¡c phÆ°Æ¡ng thá»©c gáº¯n vá»›i cÃ¡c lá»›p hoáº·c cÃ¡c Ä‘á»‘i tÆ°á»£ng riÃªng láº», vÃ  cÃ³ nhiá»u cÃ¡ch tiáº¿p cáº­n Ä‘á»ƒ lá»±a chá»n.

**CÃ¡ch Tiáº¿p Cáº­n Dá»±a TrÃªn Lá»›p**

CÃ¡c lá»›p vÃ  káº¿ thá»«a cung cáº¥p má»™t cÃ¡ch tiáº¿p cáº­n cÃ³ cáº¥u trÃºc Ä‘á»ƒ tá»• chá»©c cÃ¡c Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i. Giá»‘ng nhÆ° há»‡ thá»‘ng phÃ¢n loáº¡i sinh há»c Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi Carl Linnaeus, báº¡n báº¯t Ä‘áº§u vá»›i má»™t lá»›p cÆ¡ sá»Ÿ chá»©a cÃ¡c thuá»™c tÃ­nh chung, sau Ä‘Ã³ táº¡o cÃ¡c lá»›p chuyÃªn biá»‡t káº¿ thá»«a cÃ¡c yáº¿u tá»‘ cÆ¡ báº£n nÃ y trong khi thÃªm cÃ¡c kháº£ nÄƒng cá»¥ thá»ƒ.

âœ… Káº¿ thá»«a lÃ  má»™t khÃ¡i niá»‡m quan trá»ng cáº§n hiá»ƒu. TÃ¬m hiá»ƒu thÃªm trong [bÃ i viáº¿t cá»§a MDN vá» káº¿ thá»«a](https://developer.mozilla.org/docs/Web/JavaScript/Inheritance_and_the_prototype_chain).

DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch báº¡n cÃ³ thá»ƒ triá»ƒn khai cÃ¡c Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c lá»›p vÃ  káº¿ thá»«a:

```javascript
// Step 1: Create the base GameObject class
class GameObject {
  constructor(x, y, type) {
    this.x = x;
    this.y = y;
    this.type = type;
  }
}
```

**HÃ£y phÃ¢n tÃ­ch tá»«ng bÆ°á»›c:**
- ChÃºng ta Ä‘ang táº¡o má»™t máº«u cÆ¡ báº£n mÃ  má»i Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i cÃ³ thá»ƒ sá»­ dá»¥ng
- Constructor lÆ°u vá»‹ trÃ­ cá»§a Ä‘á»‘i tÆ°á»£ng (`x`, `y`) vÃ  loáº¡i cá»§a nÃ³
- ÄÃ¢y trá»Ÿ thÃ nh ná»n táº£ng mÃ  táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i cá»§a báº¡n sáº½ xÃ¢y dá»±ng trÃªn Ä‘Ã³

```javascript
// Step 2: Add movement capability through inheritance
class Movable extends GameObject {
  constructor(x, y, type) {
    super(x, y, type); // Call parent constructor
  }

  // Add the ability to move to a new position
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
}
```

**Trong Ä‘oáº¡n mÃ£ trÃªn, chÃºng ta Ä‘Ã£:**
- **Má»Ÿ rá»™ng** lá»›p GameObject Ä‘á»ƒ thÃªm chá»©c nÄƒng di chuyá»ƒn
- **Gá»i** constructor cá»§a lá»›p cha báº±ng `super()` Ä‘á»ƒ khá»Ÿi táº¡o cÃ¡c thuá»™c tÃ­nh Ä‘Æ°á»£c káº¿ thá»«a
- **ThÃªm** phÆ°Æ¡ng thá»©c `moveTo()` Ä‘á»ƒ cáº­p nháº­t vá»‹ trÃ­ cá»§a Ä‘á»‘i tÆ°á»£ng

```javascript
// Step 3: Create specific game object types
class Hero extends Movable {
  constructor(x, y) {
    super(x, y, 'Hero'); // Set type automatically
  }
}

class Tree extends GameObject {
  constructor(x, y) {
    super(x, y, 'Tree'); // Trees don't need movement
  }
}

// Step 4: Use your game objects
const hero = new Hero(0, 0);
hero.moveTo(5, 5); // Hero can move!

const tree = new Tree(10, 15);
// tree.moveTo() would cause an error - trees can't move
```

**Hiá»ƒu cÃ¡c khÃ¡i niá»‡m nÃ y:**
- **Táº¡o** cÃ¡c loáº¡i Ä‘á»‘i tÆ°á»£ng chuyÃªn biá»‡t káº¿ thá»«a cÃ¡c hÃ nh vi phÃ¹ há»£p
- **Minh há»a** cÃ¡ch káº¿ thá»«a cho phÃ©p chá»n lá»c cÃ¡c tÃ­nh nÄƒng
- **Cho tháº¥y** ráº±ng anh hÃ¹ng cÃ³ thá»ƒ di chuyá»ƒn trong khi cÃ¢y cá»‘i váº«n Ä‘á»©ng yÃªn
- **Minh há»a** cÃ¡ch há»‡ thá»‘ng phÃ¢n cáº¥p lá»›p ngÄƒn cháº·n cÃ¡c hÃ nh Ä‘á»™ng khÃ´ng phÃ¹ há»£p

âœ… DÃ nh vÃ i phÃºt Ä‘á»ƒ hÃ¬nh dung láº¡i má»™t anh hÃ¹ng Pac-Man (vÃ­ dá»¥ nhÆ° Inky, Pinky hoáº·c Blinky) vÃ  cÃ¡ch nÃ³ sáº½ Ä‘Æ°á»£c viáº¿t trong JavaScript.

**CÃ¡ch Tiáº¿p Cáº­n ThÃ nh Pháº§n**

ThÃ nh pháº§n tuÃ¢n theo triáº¿t lÃ½ thiáº¿t káº¿ mÃ´-Ä‘un, tÆ°Æ¡ng tá»± nhÆ° cÃ¡ch cÃ¡c ká»¹ sÆ° thiáº¿t káº¿ tÃ u vÅ© trá»¥ vá»›i cÃ¡c thÃ nh pháº§n cÃ³ thá»ƒ thay tháº¿. Thay vÃ¬ káº¿ thá»«a tá»« má»™t lá»›p cha, báº¡n káº¿t há»£p cÃ¡c hÃ nh vi cá»¥ thá»ƒ Ä‘á»ƒ táº¡o ra cÃ¡c Ä‘á»‘i tÆ°á»£ng vá»›i chÃ­nh xÃ¡c cÃ¡c chá»©c nÄƒng mÃ  chÃºng cáº§n. CÃ¡ch tiáº¿p cáº­n nÃ y mang láº¡i sá»± linh hoáº¡t mÃ  khÃ´ng bá»‹ rÃ ng buá»™c bá»Ÿi cÃ¡c há»‡ thá»‘ng phÃ¢n cáº¥p cá»©ng nháº¯c.

```javascript
// Step 1: Create base behavior objects
const gameObject = {
  x: 0,
  y: 0,
  type: ''
};

const movable = {
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
};
```

**Äoáº¡n mÃ£ nÃ y lÃ m gÃ¬:**
- **Äá»‹nh nghÄ©a** má»™t Ä‘á»‘i tÆ°á»£ng cÆ¡ báº£n `gameObject` vá»›i cÃ¡c thuá»™c tÃ­nh vá»‹ trÃ­ vÃ  loáº¡i
- **Táº¡o** má»™t Ä‘á»‘i tÆ°á»£ng hÃ nh vi `movable` riÃªng biá»‡t vá»›i chá»©c nÄƒng di chuyá»ƒn
- **TÃ¡ch biá»‡t** cÃ¡c má»‘i quan tÃ¢m báº±ng cÃ¡ch giá»¯ dá»¯ liá»‡u vá»‹ trÃ­ vÃ  logic di chuyá»ƒn Ä‘á»™c láº­p

```javascript
// Step 2: Compose objects by combining behaviors
const movableObject = { ...gameObject, ...movable };

// Step 3: Create factory functions for different object types
function createHero(x, y) {
  return {
    ...movableObject,
    x,
    y,
    type: 'Hero'
  };
}

function createStatic(x, y, type) {
  return {
    ...gameObject,
    x,
    y,
    type
  };
}
```

**Trong Ä‘oáº¡n mÃ£ trÃªn, chÃºng ta Ä‘Ã£:**
- **Káº¿t há»£p** cÃ¡c thuá»™c tÃ­nh Ä‘á»‘i tÆ°á»£ng cÆ¡ báº£n vá»›i hÃ nh vi di chuyá»ƒn báº±ng cÃº phÃ¡p spread
- **Táº¡o** cÃ¡c hÃ m nhÃ  mÃ¡y tráº£ vá» cÃ¡c Ä‘á»‘i tÆ°á»£ng tÃ¹y chá»‰nh
- **Cho phÃ©p** táº¡o Ä‘á»‘i tÆ°á»£ng linh hoáº¡t mÃ  khÃ´ng cáº§n há»‡ thá»‘ng phÃ¢n cáº¥p lá»›p cá»©ng nháº¯c
- **Cho phÃ©p** cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ chÃ­nh xÃ¡c cÃ¡c hÃ nh vi mÃ  chÃºng cáº§n

```javascript
// Step 4: Create and use your composed objects
const hero = createHero(10, 10);
hero.moveTo(5, 5); // Works perfectly!

const tree = createStatic(0, 0, 'Tree');
// tree.moveTo() is undefined - no movement behavior was composed
```

**Nhá»¯ng Ä‘iá»ƒm chÃ­nh cáº§n nhá»›:**
- **Káº¿t há»£p** cÃ¡c Ä‘á»‘i tÆ°á»£ng báº±ng cÃ¡ch trá»™n cÃ¡c hÃ nh vi thay vÃ¬ káº¿ thá»«a chÃºng
- **Cung cáº¥p** sá»± linh hoáº¡t hÆ¡n so vá»›i cÃ¡c há»‡ thá»‘ng phÃ¢n cáº¥p káº¿ thá»«a cá»©ng nháº¯c
- **Cho phÃ©p** cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ chÃ­nh xÃ¡c cÃ¡c tÃ­nh nÄƒng mÃ  chÃºng cáº§n
- **Sá»­ dá»¥ng** cÃº phÃ¡p spread hiá»‡n Ä‘áº¡i cá»§a JavaScript Ä‘á»ƒ káº¿t há»£p Ä‘á»‘i tÆ°á»£ng má»™t cÃ¡ch sáº¡ch sáº½
```

**Which Pattern Should You Choose?**

> ğŸ’¡ **Pro Tip**: Both patterns have their place in modern JavaScript development. Classes work well for clearly defined hierarchies, while composition shines when you need maximum flexibility.
> 
**Here's when to use each approach:**
- **Choose** inheritance when you have clear "is-a" relationships (a Hero *is-a* Movable object)
- **Select** composition when you need "has-a" relationships (a Hero *has* movement abilities)
- **Consider** your team's preferences and project requirements
- **Remember** that you can mix both approaches in the same application

## Communication Patterns: The Pub/Sub System

As applications grow complex, managing communication between components becomes challenging. The publish-subscribe pattern (pub/sub) solves this problem using principles similar to radio broadcasting â€“ one transmitter can reach multiple receivers without knowing who's listening.

Consider what happens when a hero takes damage: the health bar updates, sound effects play, visual feedback appears. Rather than coupling the hero object directly to these systems, pub/sub allows the hero to broadcast a "damage taken" message. Any system that needs to respond can subscribe to this message type and react accordingly.

âœ… **Pub/Sub** stands for 'publish-subscribe'

### Understanding the Pub/Sub Architecture

The pub/sub pattern keeps different parts of your application loosely coupled, meaning they can work together without being directly dependent on each other. This separation makes your code more maintainable, testable, and flexible to changes.

**The key players in pub/sub:**
- **Messages** â€“ Simple text labels like `'PLAYER_SCORED'` that describe what happened (plus any extra info)
- **Publishers** â€“ The objects that shout out "Something happened!" to anyone who's listening
- **Subscribers** â€“ The objects that say "I care about that event" and react when it happens
- **Event System** â€“ The middleman that makes sure messages get to the right listeners

### Building an Event System

Let's create a simple but powerful event system that demonstrates these concepts:

```javascript
// Step 1: Create the EventEmitter class
class EventEmitter {
  constructor() {
    this.listeners = {}; // Store all event listeners
  }
  
  // Register a listener for a specific message type
  on(message, listener) {
    if (!this.listeners[message]) {
      this.listeners[message] = [];
    }
    this.listeners[message].push(listener);
  }
  
  // Send a message to all registered listeners
  emit(message, payload = null) {
    if (this.listeners[message]) {
      this.listeners[message].forEach(listener => {
        listener(message, payload);
      });
    }
  }
}
```

**PhÃ¢n tÃ­ch nhá»¯ng gÃ¬ xáº£y ra á»Ÿ Ä‘Ã¢y:**
- **Táº¡o** má»™t há»‡ thá»‘ng quáº£n lÃ½ sá»± kiá»‡n trung tÃ¢m báº±ng cÃ¡ch sá»­ dá»¥ng má»™t lá»›p Ä‘Æ¡n giáº£n
- **LÆ°u trá»¯** cÃ¡c listener trong má»™t Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c tá»• chá»©c theo loáº¡i thÃ´ng bÃ¡o
- **ÄÄƒng kÃ½** cÃ¡c listener má»›i báº±ng phÆ°Æ¡ng thá»©c `on()`
- **PhÃ¡t** thÃ´ng bÃ¡o Ä‘áº¿n táº¥t cáº£ cÃ¡c listener quan tÃ¢m báº±ng phÆ°Æ¡ng thá»©c `emit()`
- **Há»— trá»£** cÃ¡c payload dá»¯ liá»‡u tÃ¹y chá»n Ä‘á»ƒ truyá»n thÃ´ng tin liÃªn quan

### Káº¿t há»£p Táº¥t Cáº£: Má»™t VÃ­ Dá»¥ Thá»±c Táº¿

ÄÆ°á»£c rá»“i, hÃ£y xem Ä‘iá»u nÃ y hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o! ChÃºng ta sáº½ xÃ¢y dá»±ng má»™t há»‡ thá»‘ng di chuyá»ƒn Ä‘Æ¡n giáº£n Ä‘á»ƒ minh há»a cÃ¡ch pub/sub cÃ³ thá»ƒ sáº¡ch sáº½ vÃ  linh hoáº¡t:

```javascript
// Step 1: Define your message types
const Messages = {
  HERO_MOVE_LEFT: 'HERO_MOVE_LEFT',
  HERO_MOVE_RIGHT: 'HERO_MOVE_RIGHT',
  ENEMY_SPOTTED: 'ENEMY_SPOTTED'
};

// Step 2: Create your event system and game objects
const eventEmitter = new EventEmitter();
const hero = createHero(0, 0);
```

**Äoáº¡n mÃ£ nÃ y lÃ m gÃ¬:**
- **Äá»‹nh nghÄ©a** má»™t Ä‘á»‘i tÆ°á»£ng constants Ä‘á»ƒ trÃ¡nh lá»—i chÃ­nh táº£ trong tÃªn thÃ´ng bÃ¡o
- **Táº¡o** má»™t instance cá»§a event emitter Ä‘á»ƒ xá»­ lÃ½ táº¥t cáº£ giao tiáº¿p
- **Khá»Ÿi táº¡o** má»™t Ä‘á»‘i tÆ°á»£ng anh hÃ¹ng táº¡i vá»‹ trÃ­ báº¯t Ä‘áº§u

```javascript
// Step 3: Set up event listeners (subscribers)
eventEmitter.on(Messages.HERO_MOVE_LEFT, () => {
  hero.moveTo(hero.x - 5, hero.y);
  console.log(`Hero moved to position: ${hero.x}, ${hero.y}`);
});

eventEmitter.on(Messages.HERO_MOVE_RIGHT, () => {
  hero.moveTo(hero.x + 5, hero.y);
  console.log(`Hero moved to position: ${hero.x}, ${hero.y}`);
});
```

**Trong Ä‘oáº¡n mÃ£ trÃªn, chÃºng ta Ä‘Ã£:**
- **ÄÄƒng kÃ½** cÃ¡c listener sá»± kiá»‡n pháº£n há»“i cÃ¡c thÃ´ng bÃ¡o di chuyá»ƒn
- **Cáº­p nháº­t** vá»‹ trÃ­ cá»§a anh hÃ¹ng dá»±a trÃªn hÆ°á»›ng di chuyá»ƒn
- **ThÃªm** console logging Ä‘á»ƒ theo dÃµi cÃ¡c thay Ä‘á»•i vá»‹ trÃ­ cá»§a anh hÃ¹ng
- **TÃ¡ch biá»‡t** logic di chuyá»ƒn khá»i xá»­ lÃ½ Ä‘áº§u vÃ o

```javascript
// Step 4: Connect keyboard input to events (publishers)
window.addEventListener('keydown', (event) => {
  switch(event.key) {
    case 'ArrowLeft':
      eventEmitter.emit(Messages.HERO_MOVE_LEFT);
      break;
    case 'ArrowRight':
      eventEmitter.emit(Messages.HERO_MOVE_RIGHT);
      break;
  }
});
```

**Hiá»ƒu cÃ¡c khÃ¡i niá»‡m nÃ y:**
- **Káº¿t ná»‘i** Ä‘áº§u vÃ o tá»« bÃ n phÃ­m vá»›i cÃ¡c sá»± kiá»‡n trÃ² chÆ¡i mÃ  khÃ´ng bá»‹ rÃ ng buá»™c cháº·t cháº½
- **Cho phÃ©p** há»‡ thá»‘ng Ä‘áº§u vÃ o giao tiáº¿p vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i má»™t cÃ¡ch giÃ¡n tiáº¿p
- **Cho phÃ©p** nhiá»u há»‡ thá»‘ng pháº£n há»“i cÃ¹ng má»™t sá»± kiá»‡n bÃ n phÃ­m
- **Dá»… dÃ ng** thay Ä‘á»•i cÃ¡c phÃ­m hoáº·c thÃªm cÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘áº§u vÃ o má»›i

> ğŸ’¡ **Máº¹o chuyÃªn nghiá»‡p**: Váº» Ä‘áº¹p cá»§a máº«u thiáº¿t káº¿ nÃ y lÃ  sá»± linh hoáº¡t! Báº¡n cÃ³ thá»ƒ dá»… dÃ ng thÃªm hiá»‡u á»©ng Ã¢m thanh, rung mÃ n hÃ¬nh hoáº·c hiá»‡u á»©ng háº¡t chá»‰ báº±ng cÃ¡ch thÃªm nhiá»u listener sá»± kiá»‡n â€“ khÃ´ng cáº§n pháº£i sá»­a Ä‘á»•i mÃ£ bÃ n phÃ­m hoáº·c di chuyá»ƒn hiá»‡n cÃ³.
> 
**Táº¡i sao báº¡n sáº½ yÃªu thÃ­ch cÃ¡ch tiáº¿p cáº­n nÃ y:**
- Viá»‡c thÃªm tÃ­nh nÄƒng má»›i trá»Ÿ nÃªn cá»±c ká»³ dá»… dÃ ng â€“ chá»‰ cáº§n láº¯ng nghe cÃ¡c sá»± kiá»‡n báº¡n quan tÃ¢m
- Nhiá»u thá»© cÃ³ thá»ƒ pháº£n á»©ng vá»›i cÃ¹ng má»™t sá»± kiá»‡n mÃ  khÃ´ng gÃ¢y xung Ä‘á»™t
- Viá»‡c kiá»ƒm tra trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n vÃ¬ má»—i pháº§n hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p
- Khi cÃ³ lá»—i xáº£y ra, báº¡n biáº¿t chÃ­nh xÃ¡c nÆ¡i cáº§n kiá»ƒm tra

### Táº¡i sao Pub/Sub Má»Ÿ Rá»™ng Hiá»‡u Quáº£

Máº«u thiáº¿t káº¿ pub/sub duy trÃ¬ sá»± Ä‘Æ¡n giáº£n khi cÃ¡c á»©ng dá»¥ng trá»Ÿ nÃªn phá»©c táº¡p hÆ¡n. DÃ¹ quáº£n lÃ½ hÃ ng chá»¥c káº» thÃ¹, cáº­p nháº­t giao diá»‡n ngÆ°á»i dÃ¹ng Ä‘á»™ng hay há»‡ thá»‘ng Ã¢m thanh, máº«u thiáº¿t káº¿ nÃ y xá»­ lÃ½ quy mÃ´ tÄƒng lÃªn mÃ  khÃ´ng cáº§n thay Ä‘á»•i kiáº¿n trÃºc. CÃ¡c tÃ­nh nÄƒng má»›i tÃ­ch há»£p vÃ o há»‡ thá»‘ng sá»± kiá»‡n hiá»‡n cÃ³ mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n chá»©c nÄƒng Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p.

> âš ï¸ **Lá»—i thÆ°á»ng gáº·p**: Äá»«ng táº¡o quÃ¡ nhiá»u loáº¡i thÃ´ng bÃ¡o cá»¥ thá»ƒ ngay tá»« Ä‘áº§u. Báº¯t Ä‘áº§u vá»›i cÃ¡c danh má»¥c rá»™ng vÃ  tinh chá»‰nh chÃºng khi nhu cáº§u cá»§a trÃ² chÆ¡i trá»Ÿ nÃªn rÃµ rÃ ng.
> 
**CÃ¡c thá»±c hÃ nh tá»‘t nháº¥t cáº§n tuÃ¢n theo:**
- **NhÃ³m** cÃ¡c thÃ´ng bÃ¡o liÃªn quan vÃ o cÃ¡c danh má»¥c logic
- **Sá»­ dá»¥ng** tÃªn mÃ´ táº£ rÃµ rÃ ng Ä‘iá»u gÃ¬ Ä‘Ã£ xáº£y ra
- **Giá»¯** cÃ¡c payload thÃ´ng bÃ¡o Ä‘Æ¡n giáº£n vÃ  táº­p trung
- **TÃ i liá»‡u hÃ³a** cÃ¡c loáº¡i thÃ´ng bÃ¡o cá»§a báº¡n Ä‘á»ƒ há»£p tÃ¡c nhÃ³m

---

## Thá»­ thÃ¡ch GitHub Copilot Agent ğŸš€

Sá»­ dá»¥ng cháº¿ Ä‘á»™ Agent Ä‘á»ƒ hoÃ n thÃ nh thá»­ thÃ¡ch sau:

**MÃ´ táº£:** Táº¡o má»™t há»‡ thá»‘ng Ä‘á»‘i tÆ°á»£ng trÃ² chÆ¡i Ä‘Æ¡n giáº£n sá»­ dá»¥ng cáº£ káº¿ thá»«a vÃ  máº«u thiáº¿t káº¿ pub/sub. Báº¡n sáº½ triá»ƒn khai má»™t trÃ² chÆ¡i cÆ¡ báº£n nÆ¡i cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau cÃ³ thá»ƒ giao tiáº¿p thÃ´ng qua cÃ¡c sá»± kiá»‡n mÃ  khÃ´ng biáº¿t trá»±c tiáº¿p vá» nhau.

**YÃªu cáº§u:** Táº¡o má»™t há»‡ thá»‘ng trÃ² chÆ¡i JavaScript vá»›i cÃ¡c yÃªu cáº§u sau: 1) Táº¡o má»™t lá»›p GameObject cÆ¡ sá»Ÿ vá»›i tá»a Ä‘á»™ x, y vÃ  thuá»™c tÃ­nh loáº¡i. 2) Táº¡o má»™t lá»›p Hero má»Ÿ rá»™ng GameObject vÃ  cÃ³ thá»ƒ di chuyá»ƒn. 3) Táº¡o má»™t lá»›p Enemy má»Ÿ rá»™ng GameObject vÃ  cÃ³ thá»ƒ Ä‘uá»•i theo anh hÃ¹ng. 4) Triá»ƒn khai má»™t lá»›p EventEmitter cho máº«u thiáº¿t káº¿ pub/sub. 5) Thiáº¿t láº­p cÃ¡c listener sá»± kiá»‡n Ä‘á»ƒ khi anh hÃ¹ng di chuyá»ƒn, cÃ¡c káº» thÃ¹ gáº§n Ä‘Ã³ nháº­n Ä‘Æ°á»£c sá»± kiá»‡n 'HERO_MOVED' vÃ  cáº­p nháº­t vá»‹ trÃ­ cá»§a chÃºng Ä‘á»ƒ Ä‘uá»•i theo anh hÃ¹ng. Bao gá»“m cÃ¡c cÃ¢u lá»‡nh console.log Ä‘á»ƒ hiá»ƒn thá»‹ giao tiáº¿p giá»¯a cÃ¡c Ä‘á»‘i tÆ°á»£ng.

TÃ¬m hiá»ƒu thÃªm vá» [cháº¿ Ä‘á»™ agent](https://code.visualstudio.com/blogs/2025/02/24/introducing-copilot-agent-mode) táº¡i Ä‘Ã¢y.

## ğŸš€ Thá»­ thÃ¡ch

HÃ£y xem xÃ©t cÃ¡ch máº«u thiáº¿t káº¿ pub-sub cÃ³ thá»ƒ cáº£i thiá»‡n kiáº¿n trÃºc trÃ² chÆ¡i. XÃ¡c Ä‘á»‹nh cÃ¡c thÃ nh pháº§n nÃ o nÃªn phÃ¡t ra sá»± kiá»‡n vÃ  cÃ¡ch há»‡ thá»‘ng nÃªn pháº£n há»“i. Thiáº¿t káº¿ má»™t Ã½ tÆ°á»Ÿng trÃ² chÆ¡i vÃ  láº­p báº£n Ä‘á»“ cÃ¡c máº«u giao tiáº¿p giá»¯a cÃ¡c thÃ nh pháº§n cá»§a nÃ³.

## Quiz sau bÃ i giáº£ng

[Quiz sau bÃ i giáº£ng](https://ff-quizzes.netlify.app/web/quiz/30)

## Ã”n táº­p & Tá»± há»c

TÃ¬m hiá»ƒu thÃªm vá» Pub/Sub báº±ng cÃ¡ch [Ä‘á»c vá» nÃ³](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber/?WT.mc_id=academic-77807-sagibbon).

## BÃ i táº­p

[PhÃ¡c tháº£o má»™t trÃ² chÆ¡i](assignment.md)

---

**TuyÃªn bá»‘ miá»…n trá»« trÃ¡ch nhiá»‡m**:  
TÃ i liá»‡u nÃ y Ä‘Ã£ Ä‘Æ°á»£c dá»‹ch báº±ng dá»‹ch vá»¥ dá»‹ch thuáº­t AI [Co-op Translator](https://github.com/Azure/co-op-translator). Máº·c dÃ¹ chÃºng tÃ´i cá»‘ gáº¯ng Ä‘áº£m báº£o Ä‘á»™ chÃ­nh xÃ¡c, xin lÆ°u Ã½ ráº±ng cÃ¡c báº£n dá»‹ch tá»± Ä‘á»™ng cÃ³ thá»ƒ chá»©a lá»—i hoáº·c khÃ´ng chÃ­nh xÃ¡c. TÃ i liá»‡u gá»‘c báº±ng ngÃ´n ngá»¯ báº£n Ä‘á»‹a nÃªn Ä‘Æ°á»£c coi lÃ  nguá»“n thÃ´ng tin chÃ­nh thá»©c. Äá»‘i vá»›i thÃ´ng tin quan trá»ng, nÃªn sá»­ dá»¥ng dá»‹ch vá»¥ dá»‹ch thuáº­t chuyÃªn nghiá»‡p bá»Ÿi con ngÆ°á»i. ChÃºng tÃ´i khÃ´ng chá»‹u trÃ¡ch nhiá»‡m cho báº¥t ká»³ sá»± hiá»ƒu láº§m hoáº·c diá»…n giáº£i sai nÃ o phÃ¡t sinh tá»« viá»‡c sá»­ dá»¥ng báº£n dá»‹ch nÃ y.