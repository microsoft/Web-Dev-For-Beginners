<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "2c1164912414820c8efd699b43f64954",
  "translation_date": "2025-10-24T21:03:25+00:00",
  "source_file": "7-bank-project/3-data/README.md",
  "language_code": "cs"
}
-->
# Vytvo≈ôen√≠ bankovn√≠ aplikace, ƒç√°st 3: Metody z√≠sk√°v√°n√≠ a pou≈æ√≠v√°n√≠ dat

P≈ôedstavte si poƒç√≠taƒç Enterprise ze Star Treku ‚Äì kdy≈æ kapit√°n Picard po≈æ√°d√° o stav lodi, informace se okam≈æitƒõ zobraz√≠, ani≈æ by se cel√© rozhran√≠ muselo vypnout a znovu naƒç√≠st. P≈ôesnƒõ takov√Ω plynul√Ω tok informac√≠ se sna≈æ√≠me vytvo≈ôit pomoc√≠ dynamick√©ho z√≠sk√°v√°n√≠ dat.

Va≈°e bankovn√≠ aplikace je moment√°lnƒõ jako ti≈°tƒõn√© noviny ‚Äì informativn√≠, ale statick√°. Promƒõn√≠me ji v nƒõco podobn√©ho ≈ô√≠d√≠c√≠mu centru NASA, kde data proud√≠ nep≈ôetr≈æitƒõ a aktualizuj√≠ se v re√°ln√©m ƒçase, ani≈æ by naru≈°ovala u≈æivatelsk√Ω z√°≈æitek.

Nauƒç√≠te se komunikovat se servery asynchronnƒõ, pracovat s daty, kter√° p≈ôich√°zej√≠ v r≈Øzn√Ωch ƒçasech, a transformovat surov√© informace na nƒõco smyslupln√©ho pro va≈°e u≈æivatele. To je rozd√≠l mezi uk√°zkov√Ωm a produkƒçnƒõ p≈ôipraven√Ωm softwarem.

## Kv√≠z p≈ôed p≈ôedn√°≈°kou

[Pre-lecture quiz](https://ff-quizzes.netlify.app/web/quiz/45)

### P≈ôedpoklady

Ne≈æ se pust√≠te do z√≠sk√°v√°n√≠ dat, ujistƒõte se, ≈æe m√°te p≈ôipraveny tyto komponenty:

- **P≈ôedchoz√≠ lekce**: Dokonƒçete [P≈ôihla≈°ovac√≠ a registraƒçn√≠ formul√°≈ô](../2-forms/README.md) ‚Äì budeme na tomto z√°kladƒõ stavƒõt
- **Lok√°ln√≠ server**: Nainstalujte [Node.js](https://nodejs.org) a [spus≈•te server API](../api/README.md), kter√Ω poskytne data o √∫ƒçtu
- **P≈ôipojen√≠ k API**: Otestujte p≈ôipojen√≠ k serveru t√≠mto p≈ô√≠kazem:

```bash
curl http://localhost:5000/api
# Expected response: "Bank API v1.0.0"
```

Tento rychl√Ω test zajist√≠, ≈æe v≈°echny komponenty spr√°vnƒõ komunikuj√≠:
- Ovƒõ≈ô√≠, ≈æe Node.js na va≈°em syst√©mu bƒõ≈æ√≠ spr√°vnƒõ
- Potvrd√≠, ≈æe v√°≈° API server je aktivn√≠ a reaguje
- Ovƒõ≈ô√≠, ≈æe va≈°e aplikace m≈Ø≈æe dos√°hnout na server (jako kontrola r√°diov√©ho spojen√≠ p≈ôed mis√≠)

---

## Porozumƒõn√≠ z√≠sk√°v√°n√≠ dat v modern√≠ch webov√Ωch aplikac√≠ch

Zp≈Øsob, jak√Ωm webov√© aplikace pracuj√≠ s daty, se za posledn√≠ dvƒõ desetilet√≠ dramaticky vyvinul. Pochopen√≠ tohoto v√Ωvoje v√°m pom≈Ø≈æe ocenit, proƒç jsou modern√≠ techniky jako AJAX a Fetch API tak siln√© a proƒç se staly nezbytn√Ωmi n√°stroji pro webov√© v√Ωvoj√°≈ôe.

Pojƒème prozkoumat, jak fungovaly tradiƒçn√≠ webov√© str√°nky ve srovn√°n√≠ s dynamick√Ωmi, responzivn√≠mi aplikacemi, kter√© dnes vytv√°≈ô√≠me.

### Tradiƒçn√≠ v√≠ce str√°nkov√© aplikace (MPA)

V poƒç√°tc√≠ch webu byl ka≈æd√Ω klik jako p≈ôep√≠n√°n√≠ kan√°l≈Ø na star√© televizi ‚Äì obrazovka zƒçernala a pot√© se pomalu naladil nov√Ω obsah. Takov√° byla realita ran√Ωch webov√Ωch aplikac√≠, kde ka≈æd√° interakce znamenala kompletn√≠ p≈ôestavbu cel√© str√°nky od zaƒç√°tku.

```mermaid
sequenceDiagram
    participant User
    participant Browser
    participant Server
    
    User->>Browser: Clicks link or submits form
    Browser->>Server: Requests new HTML page
    Note over Browser: Page goes blank
    Server->>Browser: Returns complete HTML page
    Browser->>User: Displays new page (flash/reload)
```

![Pracovn√≠ postup aktualizace v v√≠ce str√°nkov√© aplikaci](../../../../translated_images/mpa.7f7375a1a2d4aa779d3f928a2aaaf9ad76bcdeb05cfce2dc27ab126024050f51.cs.png)

**Proƒç tento p≈ô√≠stup p≈Øsobil neohrabanƒõ:**
- Ka≈æd√Ω klik znamenal kompletn√≠ p≈ôestavbu cel√© str√°nky od zaƒç√°tku
- U≈æivatel√© byli p≈ôeru≈°ov√°ni nep≈ô√≠jemn√Ωmi z√°blesky str√°nky
- Va≈°e internetov√© p≈ôipojen√≠ pracovalo p≈ôesƒças p≈ôi stahov√°n√≠ stejn√Ωch z√°hlav√≠ a z√°pat√≠ opakovanƒõ
- Aplikace p≈Øsobily sp√≠≈°e jako proch√°zen√≠ kartot√©ky ne≈æ jako pou≈æ√≠v√°n√≠ softwaru

### Modern√≠ jednostr√°nkov√© aplikace (SPA)

AJAX (Asynchronous JavaScript and XML) zcela zmƒõnil tento p≈ô√≠stup. Stejnƒõ jako modul√°rn√≠ design Mezin√°rodn√≠ vesm√≠rn√© stanice, kde astronauti mohou vymƒõnit jednotliv√© komponenty bez p≈ôestavby cel√© struktury, AJAX n√°m umo≈æ≈àuje aktualizovat konkr√©tn√≠ ƒç√°sti webov√© str√°nky bez jej√≠ho kompletn√≠ho znovunaƒçten√≠. I kdy≈æ n√°zev zmi≈àuje XML, dnes vƒõt≈°inou pou≈æ√≠v√°me JSON, ale z√°kladn√≠ princip z≈Øst√°v√°: aktualizovat pouze to, co se mus√≠ zmƒõnit.

```mermaid
sequenceDiagram
    participant User
    participant Browser
    participant JavaScript
    participant Server
    
    User->>Browser: Interacts with page
    Browser->>JavaScript: Triggers event handler
    JavaScript->>Server: Fetches only needed data
    Server->>JavaScript: Returns JSON data
    JavaScript->>Browser: Updates specific page elements
    Browser->>User: Shows updated content (no reload)
```

![Pracovn√≠ postup aktualizace v jednostr√°nkov√© aplikaci](../../../../translated_images/spa.268ec73b41f992c2a21ef9294235c6ae597b3c37e2c03f0494c2d8857325cc57.cs.png)

**Proƒç jsou SPA tak p≈ô√≠jemn√©:**
- Aktualizuj√≠ se pouze ƒç√°sti, kter√© se skuteƒçnƒõ zmƒõnily (chytr√©, ≈æe?)
- ≈Ω√°dn√© ru≈°iv√© p≈ôeru≈°en√≠ ‚Äì u≈æivatel√© z≈Øst√°vaj√≠ ve sv√©m pracovn√≠m toku
- M√©nƒõ dat putuje po s√≠ti, co≈æ znamen√° rychlej≈°√≠ naƒç√≠t√°n√≠
- V≈°echno p≈Øsob√≠ svi≈ænƒõ a responzivnƒõ, jako aplikace na va≈°em telefonu

### V√Ωvoj k modern√≠mu Fetch API

Modern√≠ prohl√≠≈æeƒçe poskytuj√≠ [`Fetch` API](https://developer.mozilla.org/docs/Web/API/Fetch_API), kter√© nahrazuje star≈°√≠ [`XMLHttpRequest`](https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest). Stejnƒõ jako rozd√≠l mezi ovl√°d√°n√≠m telegrafu a pou≈æ√≠v√°n√≠m e-mailu, Fetch API pou≈æ√≠v√° promises pro ƒçist≈°√≠ asynchronn√≠ k√≥d a p≈ôirozenƒõ pracuje s JSON.

| Funkce | XMLHttpRequest | Fetch API |
|--------|----------------|-----------|
| **Syntaxe** | Slo≈æit√°, zalo≈æen√° na zpƒõtn√Ωch vol√°n√≠ch | ƒåist√°, zalo≈æen√° na promises |
| **Pr√°ce s JSON** | Nutn√© ruƒçn√≠ parsov√°n√≠ | Vestavƒõn√° metoda `.json()` |
| **Zpracov√°n√≠ chyb** | Omezen√© informace o chyb√°ch | Komplexn√≠ detaily o chyb√°ch |
| **Podpora modern√≠ch prohl√≠≈æeƒç≈Ø** | Kompatibilita se star≈°√≠mi verzemi | ES6+ promises a async/await |

> üí° **Kompatibilita prohl√≠≈æeƒç≈Ø**: Dobr√° zpr√°va ‚Äì Fetch API funguje ve v≈°ech modern√≠ch prohl√≠≈æeƒç√≠ch! Pokud v√°s zaj√≠maj√≠ konkr√©tn√≠ verze, [caniuse.com](https://caniuse.com/fetch) m√° kompletn√≠ p≈ô√≠bƒõh o kompatibilitƒõ.
> 
**Shrnut√≠:**
- Funguje skvƒõle v Chrome, Firefoxu, Safari a Edge (prakticky v≈°ude, kde jsou va≈°i u≈æivatel√©)
- Pouze Internet Explorer pot≈ôebuje dodateƒçnou pomoc (a up≈ô√≠mnƒõ, je ƒças se s IE rozlouƒçit)
- Perfektnƒõ se hod√≠ pro elegantn√≠ vzory async/await, kter√© budeme pou≈æ√≠vat pozdƒõji

### Implementace p≈ôihl√°≈°en√≠ u≈æivatele a z√≠sk√°v√°n√≠ dat

Nyn√≠ implementujeme p≈ôihla≈°ovac√≠ syst√©m, kter√Ω promƒõn√≠ va≈°i bankovn√≠ aplikaci ze statick√©ho zobrazen√≠ na funkƒçn√≠ aplikaci. Stejnƒõ jako autentizaƒçn√≠ protokoly pou≈æ√≠van√© v zabezpeƒçen√Ωch vojensk√Ωch za≈ô√≠zen√≠ch ovƒõ≈ô√≠me p≈ôihla≈°ovac√≠ √∫daje u≈æivatele a pot√© mu poskytneme p≈ô√≠stup k jeho konkr√©tn√≠m dat≈Øm.

Budeme postupovat krok za krokem, zaƒçneme z√°kladn√≠ autentizac√≠ a pot√© p≈ôid√°me schopnosti z√≠sk√°v√°n√≠ dat.

#### Krok 1: Vytvo≈ôen√≠ z√°kladn√≠ funkce pro p≈ôihl√°≈°en√≠

Otev≈ôete soubor `app.js` a p≈ôidejte novou funkci `login`. Ta bude zaji≈°≈•ovat proces autentizace u≈æivatele:

```javascript
async function login() {
  const loginForm = document.getElementById('loginForm');
  const user = loginForm.user.value;
}
```

**Rozbor k√≥du:**
- Kl√≠ƒçov√© slovo `async` ≈ô√≠k√° JavaScriptu ‚Äûhej, tato funkce mo≈æn√° bude muset na nƒõco poƒçkat‚Äú
- Najdeme formul√°≈ô na str√°nce (nic slo≈æit√©ho, prostƒõ ho najdeme podle jeho ID)
- Pot√© z√≠sk√°me, co u≈æivatel zadal jako sv√© u≈æivatelsk√© jm√©no
- Mal√Ω trik: k jak√©mukoli vstupu formul√°≈ôe m≈Ø≈æete p≈ôistupovat pomoc√≠ atributu `name` ‚Äì nen√≠ pot≈ôeba dal≈°√≠ch vol√°n√≠ getElementById!

> üí° **Vzor p≈ô√≠stupu k formul√°≈ôi**: Ke ka≈æd√©mu ovl√°dac√≠mu prvku formul√°≈ôe lze p≈ôistupovat podle jeho n√°zvu (nastaven√©ho v HTML pomoc√≠ atributu `name`) jako k vlastnosti elementu formul√°≈ôe. To poskytuje ƒçist√Ω a ƒçiteln√Ω zp≈Øsob z√≠sk√°v√°n√≠ dat z formul√°≈ôe.

#### Krok 2: Vytvo≈ôen√≠ funkce pro z√≠sk√°v√°n√≠ dat o √∫ƒçtu

D√°le vytvo≈ô√≠me dedikovanou funkci pro z√≠sk√°v√°n√≠ dat o √∫ƒçtu ze serveru. Ta bude n√°sledovat stejn√Ω vzor jako va≈°e registraƒçn√≠ funkce, ale zamƒõ≈ô√≠ se na z√≠sk√°v√°n√≠ dat:

```javascript
async function getAccount(user) {
  try {
    const response = await fetch('//localhost:5000/api/accounts/' + encodeURIComponent(user));
    return await response.json();
  } catch (error) {
    return { error: error.message || 'Unknown error' };
  }
}
```

**Co tento k√≥d zaji≈°≈•uje:**
- **Pou≈æ√≠v√°** modern√≠ `fetch` API pro asynchronn√≠ po≈æadavky na data
- **Sestavuje** URL GET po≈æadavku s parametrem u≈æivatelsk√©ho jm√©na
- **Aplikuje** `encodeURIComponent()` pro bezpeƒçn√© zpracov√°n√≠ speci√°ln√≠ch znak≈Ø v URL
- **P≈ôev√°d√≠** odpovƒõƒè na form√°t JSON pro snadnou manipulaci s daty
- **Zpracov√°v√°** chyby elegantnƒõ t√≠m, ≈æe vrac√≠ objekt chyby m√≠sto p√°du aplikace

> ‚ö†Ô∏è **Bezpeƒçnostn√≠ pozn√°mka**: Funkce `encodeURIComponent()` zpracov√°v√° speci√°ln√≠ znaky v URL. Stejnƒõ jako k√≥dovac√≠ syst√©my pou≈æ√≠van√© v n√°mo≈ôn√≠ komunikaci zaji≈°≈•uje, ≈æe va≈°e zpr√°va doraz√≠ p≈ôesnƒõ tak, jak byla zam√Ω≈°lena, a zabr√°n√≠ tomu, aby byly znaky jako "#" nebo "&" ≈°patnƒõ interpretov√°ny.
> 
**Proƒç na tom z√°le≈æ√≠:**
- Zabra≈àuje speci√°ln√≠m znak≈Øm v naru≈°en√≠ URL
- Chr√°n√≠ p≈ôed √∫toky manipulac√≠ s URL
- Zaji≈°≈•uje, ≈æe server obdr≈æ√≠ zam√Ω≈°len√° data
- Dodr≈æuje bezpeƒçn√© postupy p≈ôi programov√°n√≠

#### Porozumƒõn√≠ HTTP GET po≈æadavk≈Øm

Mo≈æn√° v√°s p≈ôekvap√≠: kdy≈æ pou≈æijete `fetch` bez dal≈°√≠ch mo≈ænost√≠, automaticky vytvo≈ô√≠ [`GET`](https://developer.mozilla.org/docs/Web/HTTP/Methods/GET) po≈æadavek. To je ide√°ln√≠ pro to, co dƒõl√°me ‚Äì pt√°me se serveru ‚Äûhej, m≈Ø≈æu vidƒõt data tohoto u≈æivatele?‚Äú

P≈ôedstavte si GET po≈æadavky jako zdvo≈ôil√© ≈æ√°dosti o p≈Øjƒçen√≠ knihy z knihovny ‚Äì ≈æ√°d√°te o nƒõco, co u≈æ existuje. POST po≈æadavky (kter√© jsme pou≈æili pro registraci) jsou sp√≠≈°e jako odevzd√°n√≠ nov√© knihy, kter√° m√° b√Ωt p≈ôid√°na do sb√≠rky.

| GET po≈æadavek | POST po≈æadavek |
|---------------|----------------|
| **√öƒçel** | Z√≠sk√°n√≠ existuj√≠c√≠ch dat | Odesl√°n√≠ nov√Ωch dat na server |
| **Parametry** | V cestƒõ URL/≈ôetƒõzci dotazu | V tƒõle po≈æadavku |
| **Caching** | M≈Ø≈æe b√Ωt cachov√°no prohl√≠≈æeƒçi | Obvykle nen√≠ cachov√°no |
| **Bezpeƒçnost** | Viditeln√© v URL/logech | Skryt√© v tƒõle po≈æadavku |

#### Krok 3: Spojen√≠ v≈°eho dohromady

Nyn√≠ p≈ôich√°z√≠ uspokojiv√° ƒç√°st ‚Äì spoj√≠me va≈°i funkci pro z√≠sk√°v√°n√≠ dat o √∫ƒçtu s procesem p≈ôihl√°≈°en√≠. Tady v≈°e zapadne na sv√© m√≠sto:

```javascript
async function login() {
  const loginForm = document.getElementById('loginForm');
  const user = loginForm.user.value;
  const data = await getAccount(user);

  if (data.error) {
    return console.log('loginError', data.error);
  }

  account = data;
  navigate('/dashboard');
}
```

Tato funkce n√°sleduje jasnou sekvenci:
- Z√≠sk√° u≈æivatelsk√© jm√©no z vstupu formul√°≈ôe
- Po≈æ√°d√° server o data u≈æivatelsk√©ho √∫ƒçtu
- Zpracuje jak√©koli chyby, kter√© se bƒõhem procesu vyskytnou
- Ulo≈æ√≠ data o √∫ƒçtu a po √∫spƒõ≈°n√©m p≈ôihl√°≈°en√≠ p≈ôejde na dashboard

> üéØ **Vzor async/await**: Proto≈æe `getAccount` je asynchronn√≠ funkce, pou≈æ√≠v√°me kl√≠ƒçov√© slovo `await`, abychom pozastavili prov√°dƒõn√≠, dokud server neodpov√≠. To zabr√°n√≠ pokraƒçov√°n√≠ k√≥du s nedefinovan√Ωmi daty.

#### Krok 4: Vytvo≈ôen√≠ m√≠sta pro va≈°e data

Va≈°e aplikace pot≈ôebuje m√≠sto, kde si zapamatuje informace o √∫ƒçtu, jakmile budou naƒçteny. P≈ôedstavte si to jako kr√°tkodobou pamƒõ≈• va≈°√≠ aplikace ‚Äì m√≠sto, kde si uchov√° aktu√°ln√≠ data u≈æivatele. P≈ôidejte tento ≈ô√°dek na zaƒç√°tek va≈°eho souboru `app.js`:

```javascript
// This holds the current user's account data
let account = null;
```

**Proƒç to pot≈ôebujeme:**
- Udr≈æuje data o √∫ƒçtu dostupn√° odkudkoli v aplikaci
- Zaƒç√≠n√° s hodnotou `null`, co≈æ znamen√° ‚Äûzat√≠m nikdo nen√≠ p≈ôihl√°≈°en‚Äú
- Aktualizuje se, kdy≈æ se nƒõkdo √∫spƒõ≈°nƒõ p≈ôihl√°s√≠ nebo zaregistruje
- Funguje jako jedin√Ω zdroj pravdy ‚Äì ≈æ√°dn√© zmatky o tom, kdo je p≈ôihl√°≈°en

#### Krok 5: Propojen√≠ va≈°eho formul√°≈ôe

Nyn√≠ p≈ôipoj√≠me va≈°i novou funkci p≈ôihl√°≈°en√≠ k HTML formul√°≈ôi. Aktualizujte tag formul√°≈ôe takto:

```html
<form id="loginForm" action="javascript:login()">
  <!-- Your existing form inputs -->
</form>
```

**Co tato mal√° zmƒõna dƒõl√°:**
- Zastav√≠ formul√°≈ô, aby nedƒõlal sv√© v√Ωchoz√≠ ‚Äûznovunaƒçten√≠ cel√© str√°nky‚Äú
- M√≠sto toho zavol√° va≈°i vlastn√≠ JavaScriptovou funkci
- Udr≈æuje v≈°e hladk√© a ve stylu jednostr√°nkov√© aplikace
- D√°v√° v√°m √∫plnou kontrolu nad t√≠m, co se stane, kdy≈æ u≈æivatel√© kliknou na ‚ÄûP≈ôihl√°sit se‚Äú

#### Krok 6: Vylep≈°en√≠ registraƒçn√≠ funkce

Pro konzistenci aktualizujte svou funkci `register`, aby tak√© ukl√°dala data o √∫ƒçtu a p≈ôech√°zela na dashboard:

```javascript
// Add these lines at the end of your register function
account = result;
navigate('/dashboard');
```

**Toto vylep≈°en√≠ poskytuje:**
- **Plynul√Ω** p≈ôechod z registrace na dashboard
- **Konzistentn√≠** u≈æivatelsk√Ω z√°≈æitek mezi p≈ôihla≈°ovac√≠mi a registraƒçn√≠mi procesy
- **Okam≈æit√Ω** p≈ô√≠stup k dat≈Øm o √∫ƒçtu po √∫spƒõ≈°n√© registraci

#### Testov√°n√≠ va≈°√≠ implementace

```mermaid
flowchart TD
    A[User enters credentials] --> B[Login function called]
    B --> C[Fetch account data from server]
    C --> D{Data received successfully?}
    D -->|Yes| E[Store account data globally]
    D -->|No| F[Display error message]
    E --> G[Navigate to dashboard]
    F --> H[User stays on login page]
```

**ƒåas to vyzkou≈°et:**
1. Vytvo≈ôte nov√Ω √∫ƒçet, abyste se ujistili, ≈æe v≈°e funguje
2. Zkuste se p≈ôihl√°sit pomoc√≠ stejn√Ωch p≈ôihla≈°ovac√≠ch √∫daj≈Ø
3. Pod√≠vejte se do konzole prohl√≠≈æeƒçe (F12), pokud se nƒõco zd√° b√Ωt ≈°patnƒõ
4. Ujistƒõte se, ≈æe po √∫spƒõ≈°n√©m p≈ôihl√°≈°en√≠ p≈ôist√°v√°te na dashboardu

Pokud nƒõco nefunguje, nepanika≈ôte! Vƒõt≈°ina probl√©m≈Ø jsou jednoduch√© opravy, jako p≈ôeklepy nebo zapomenut√≠ spustit API server.

#### Rychl√© slovo o magii mezi dom√©nami

Mo≈æn√° v√°s zaj√≠m√°: ‚ÄûJak moje webov√° aplikace komunikuje s t√≠mto API serverem, kdy≈æ bƒõ≈æ√≠ na r≈Øzn√Ωch portech?‚Äú Skvƒõl√° ot√°zka! To se dot√Ωk√° nƒõƒçeho, na co ka≈æd√Ω webov√Ω v√Ωvoj√°≈ô d≈ô√≠ve ƒçi pozdƒõji naraz√≠.

> üîí **Bezpeƒçnost mezi dom√©nami**: Prohl√≠≈æeƒçe prosazuj√≠ ‚Äûpolitiku stejn√©ho p≈Øvodu‚Äú, aby zabr√°nily neopr√°vnƒõn√© komunikaci mezi r≈Øzn√Ωmi dom√©nami. Stejnƒõ jako kontroln√≠ syst√©m v Pentagonu ovƒõ≈ôuj√≠, ≈æe komunikace je autorizovan√°, ne≈æ umo≈æn√≠ p≈ôenos dat.
> 
**V na≈°em nastaven√≠:**
- Va≈°e webov√° aplikace bƒõ≈æ√≠ na `localhost:3000` (v√Ωvojov√Ω server)
- V√°≈° API server bƒõ≈æ√≠ na `localhost:5000` (backend server)
- API server zahrnuje [CORS hlaviƒçky](https://developer.mozilla.org/docs/Web/HTTP/CORS), kter√© explicitnƒõ autorizuj√≠ komunikaci z va≈°√≠ webov√© aplikace

Toto nastaven√≠ odr√°≈æ√≠ re√°ln√Ω v√Ωvoj, kde frontendov√© a backendov√© aplikace obvykle bƒõ≈æ√≠ na samostatn√Ωch serverech.

> üìö **Dal≈°√≠ informace**: Prozkoumejte hloubƒõji API a z√≠sk√°v√°n√≠ dat s t√≠mto komplexn√≠m [Microsoft Learn modulem o API](https://docs.microsoft.com/learn/modules/use-apis-discover-museum-art/?WT.mc_id=academic-77807-sagibbon).

## O≈æiven√≠ va≈°ich dat v HTML

Nyn√≠ udƒõl√°me z√≠skan√° data viditeln√° pro u≈æivatele prost≈ôednictv√≠m manipulace s DOM. Stejnƒõ jako proces vyvol√°v√°n√≠ fotografi√≠ v temn√© komo≈ôe, vezmeme neviditeln√° data a zobraz√≠me je tak, aby je u≈æivatel√© mohli vidƒõt a interagovat s nimi.

Manipulace s DOM je technika, kter√° transformuje statick√© webov√© str√°nky na dynamick√© aplikace, kter√© aktualizuj√≠ sv≈Øj obsah na z√°kladƒõ interakc√≠ u≈æivatel≈Ø a odpovƒõd√≠ serveru.

### V√Ωbƒõr spr√°vn√©ho n√°stroje pro pr√°ci

Pokud jde o aktualizaci va≈°eho HTML pomoc√≠ JavaScriptu, m√°te nƒõkolik mo≈ænost√≠. P≈ôedstavte si je jako r≈Øzn√© n√°stroje v sadƒõ n√°≈ôad√≠ ‚Äì ka≈æd√Ω z nich je ide√°ln√≠ pro konkr√©tn√≠ √∫koly:

| Metoda | Na co je skvƒõl√° | Kdy ji pou≈æ√≠t | √örove≈à bezpeƒçnosti |
|--------|-----------------|---------------|--------------------|
| `textContent` | Bezpeƒçn√© zobrazov√°n√≠ u≈æivatelsk√Ωch dat | Kdykoli zobrazujete text | ‚úÖ Spolehliv√© |

Pro slo≈æitƒõj≈°√≠ obsah zkombinujte [`document.createElement()`](https://developer.mozilla.org/docs/Web/API/Document/createElement) s metodou [`append()`](https://developer.mozilla.org/docs/Web/API/ParentNode/append):

```javascript
// Safe way to create new elements
const transactionItem = document.createElement('div');
transactionItem.className = 'transaction-item';
transactionItem.textContent = `${transaction.date}: ${transaction.description}`;
container.append(transactionItem);
```

**Porozumƒõn√≠ tomuto p≈ô√≠stupu:**
- **Vytv√°≈ô√≠** nov√© DOM prvky programovƒõ
- **Umo≈æ≈àuje** plnou kontrolu nad atributy a obsahem prvk≈Ø
- **Podporuje** slo≈æit√©, vno≈ôen√© struktury prvk≈Ø
- **Zaji≈°≈•uje** bezpeƒçnost oddƒõlen√≠m struktury od obsahu

> ‚ö†Ô∏è **Bezpeƒçnostn√≠ √∫vaha**: I kdy≈æ [`innerHTML`](https://developer.mozilla.org/docs/Web/API/Element/innerHTML) ƒçasto figuruje v tutori√°lech, m≈Ø≈æe spou≈°tƒõt vlo≈æen√© skripty. Stejnƒõ jako bezpeƒçnostn√≠ protokoly v CERNu zabra≈àuj√≠ neopr√°vnƒõn√©mu spu≈°tƒõn√≠ k√≥du, pou≈æit√≠ `textContent` a `createElement` poskytuje bezpeƒçnƒõj≈°√≠ alternativy.
> 
**Rizika innerHTML:**
- Spou≈°t√≠ jak√©koli `<script>` tagy v u≈æivatelsk√Ωch datech
- Zraniteln√© v≈Øƒçi √∫tok≈Øm injekc√≠ k√≥du
- Vytv√°≈ô√≠ potenci√°ln√≠ bezpeƒçnostn√≠ slabiny
- Bezpeƒçnƒõj≈°√≠ alternativy, kter√© pou≈æ√≠v√°me, poskytuj√≠ ekvivalentn√≠ funkƒçnost

### Zp≈ô√≠stupnƒõn√≠ chyb u≈æivatel≈Øm

V souƒçasnosti se chyby p≈ôi p≈ôihl√°≈°en√≠ zobrazuj√≠ pouze v konzoli prohl√≠≈æeƒçe, co≈æ je pro u≈æivatele neviditeln√©. Stejnƒõ jako rozd√≠l mezi intern√≠ diagnostikou pilota a informaƒçn√≠m syst√©mem pro cestuj√≠c√≠, je t≈ôeba komunikovat d≈Øle≈æit√© informace prost≈ôednictv√≠m vhodn√©ho kan√°lu.

Implementace viditeln√Ωch chybov√Ωch zpr√°v poskytuje u≈æivatel≈Øm okam≈æitou zpƒõtnou vazbu o tom, co se pokazilo a jak postupovat d√°l.

#### Krok 1: P≈ôidejte m√≠sto pro chybov√© zpr√°vy

Nejprve vytvo≈ôte prostor pro chybov√© zpr√°vy ve va≈°em HTML. P≈ôidejte ho tƒõsnƒõ p≈ôed tlaƒç√≠tko pro p≈ôihl√°≈°en√≠, aby ho u≈æivatel√© p≈ôirozenƒõ vidƒõli:

```html
<!-- This is where error messages will appear -->
<div id="loginError" role="alert"></div>
<button>Login</button>
```

**Co se zde dƒõje:**
- Vytv√°≈ô√≠me pr√°zdn√Ω kontejner, kter√Ω z≈Østane neviditeln√Ω, dokud nebude pot≈ôeba
- Je um√≠stƒõn tam, kde u≈æivatel√© p≈ôirozenƒõ hledaj√≠ po kliknut√≠ na "P≈ôihl√°sit se"
- `role="alert"` je skvƒõl√Ω doplnƒõk pro ƒçteƒçky obrazovky - ≈ô√≠k√° asistivn√≠ technologii "hej, tohle je d≈Øle≈æit√©!"
- Unik√°tn√≠ `id` poskytuje na≈°emu JavaScriptu snadn√Ω c√≠l

#### Krok 2: Vytvo≈ôte praktickou pomocnou funkci

Vytvo≈ôme malou pomocnou funkci, kter√° dok√°≈æe aktualizovat text libovoln√©ho prvku. Je to jedna z tƒõch funkc√≠ "napi≈° jednou, pou≈æij v≈°ude", kter√° v√°m u≈°et≈ô√≠ ƒças:

```javascript
function updateElement(id, text) {
  const element = document.getElementById(id);
  element.textContent = text;
}
```

**V√Ωhody funkce:**
- Jednoduch√© rozhran√≠ vy≈æaduj√≠c√≠ pouze ID prvku a textov√Ω obsah
- Bezpeƒçnƒõ vyhled√°v√° a aktualizuje DOM prvky
- Opakovanƒõ pou≈æiteln√Ω vzor, kter√Ω sni≈æuje duplicitu k√≥du
- Zaji≈°≈•uje konzistentn√≠ chov√°n√≠ aktualizace v cel√© aplikaci

#### Krok 3: Zobrazte chyby tam, kde je u≈æivatel√© uvid√≠

Nyn√≠ nahraƒète skrytou zpr√°vu v konzoli nƒõƒç√≠m, co u≈æivatel√© skuteƒçnƒõ uvid√≠. Aktualizujte svou funkci p≈ôihl√°≈°en√≠:

```javascript
// Instead of just logging to console, show the user what's wrong
if (data.error) {
  return updateElement('loginError', data.error);
}
```

**Tato mal√° zmƒõna m√° velk√Ω dopad:**
- Chybov√© zpr√°vy se zobrazuj√≠ p≈ô√≠mo tam, kde u≈æivatel√© hledaj√≠
- ≈Ω√°dn√© tajemn√© tich√© selh√°n√≠
- U≈æivatel√© dost√°vaj√≠ okam≈æitou, praktickou zpƒõtnou vazbu
- Va≈°e aplikace zaƒçne p≈Øsobit profesion√°lnƒõ a promy≈°lenƒõ

Nyn√≠, kdy≈æ otestujete neplatn√Ω √∫ƒçet, uvid√≠te u≈æiteƒçnou chybovou zpr√°vu p≈ô√≠mo na str√°nce!

![Screenshot zobrazuj√≠c√≠ chybovou zpr√°vu p≈ôi p≈ôihl√°≈°en√≠](../../../../translated_images/login-error.416fe019b36a63276764c2349df5d99e04ebda54fefe60c715ee87a28d5d4ad0.cs.png)

#### Krok 4: Buƒète inkluzivn√≠ s p≈ô√≠stupnost√≠

To je nƒõco skvƒõl√©ho na tom `role="alert"`, kter√© jsme p≈ôidali d≈ô√≠ve - nen√≠ to jen dekorace! Tento mal√Ω atribut vytv√°≈ô√≠ tzv. [Live Region](https://developer.mozilla.org/docs/Web/Accessibility/ARIA/ARIA_Live_Regions), kter√Ω okam≈æitƒõ oznamuje zmƒõny ƒçteƒçk√°m obrazovky:

```html
<div id="loginError" role="alert"></div>
```

**Proƒç na tom z√°le≈æ√≠:**
- U≈æivatel√© ƒçteƒçek obrazovky sly≈°√≠ chybovou zpr√°vu, jakmile se objev√≠
- V≈°ichni dost√°vaj√≠ stejn√© d≈Øle≈æit√© informace, bez ohledu na to, jak naviguj√≠
- Je to jednoduch√Ω zp≈Øsob, jak udƒõlat va≈°i aplikaci p≈ô√≠stupnou pro v√≠ce lid√≠
- Ukazuje, ≈æe v√°m z√°le≈æ√≠ na vytv√°≈ôen√≠ inkluzivn√≠ch z√°≈æitk≈Ø

Takov√© drobn√© detaily odli≈°uj√≠ dobr√© v√Ωvoj√°≈ôe od skvƒõl√Ωch!

#### Krok 5: Pou≈æijte stejn√Ω vzor pro registraci

Pro konzistenci implementujte identick√© zpracov√°n√≠ chyb ve va≈°em registraƒçn√≠m formul√°≈ôi:

1. **P≈ôidejte** prvek pro zobrazen√≠ chyb do va≈°eho registraƒçn√≠ho HTML:
```html
<div id="registerError" role="alert"></div>
```

2. **Aktualizujte** svou registraƒçn√≠ funkci, aby pou≈æ√≠vala stejn√Ω vzor zobrazen√≠ chyb:
```javascript
if (data.error) {
  return updateElement('registerError', data.error);
}
```

**V√Ωhody konzistentn√≠ho zpracov√°n√≠ chyb:**
- **Poskytuje** jednotn√Ω u≈æivatelsk√Ω z√°≈æitek nap≈ô√≠ƒç v≈°emi formul√°≈ôi
- **Sni≈æuje** kognitivn√≠ z√°tƒõ≈æ d√≠ky zn√°m√Ωm vzor≈Øm
- **Zjednodu≈°uje** √∫dr≈æbu d√≠ky opakovanƒõ pou≈æiteln√©mu k√≥du
- **Zaji≈°≈•uje** dodr≈æov√°n√≠ standard≈Ø p≈ô√≠stupnosti v cel√© aplikaci

## Vytvo≈ôen√≠ dynamick√©ho dashboardu

Nyn√≠ promƒõn√≠me v√°≈° statick√Ω dashboard na dynamick√© rozhran√≠, kter√© zobrazuje skuteƒçn√° data √∫ƒçtu. Stejnƒõ jako rozd√≠l mezi ti≈°tƒõn√Ωm letov√Ωm ≈ô√°dem a ≈æiv√Ωmi odletov√Ωmi tabulemi na leti≈°t√≠ch, p≈ôech√°z√≠me od statick√Ωch informac√≠ k aktu√°ln√≠m, responzivn√≠m zobrazen√≠m.

Pomoc√≠ technik manipulace s DOM, kter√© jste se nauƒçili, vytvo≈ô√≠me dashboard, kter√Ω se automaticky aktualizuje s aktu√°ln√≠mi informacemi o √∫ƒçtu.

### Sezn√°men√≠ s va≈°imi daty

Ne≈æ zaƒçneme stavƒõt, pod√≠vejme se, jak√° data v√°≈° server pos√≠l√° zpƒõt. Kdy≈æ se nƒõkdo √∫spƒõ≈°nƒõ p≈ôihl√°s√≠, zde je poklad informac√≠, se kter√Ωmi m≈Ø≈æete pracovat:

```json
{
  "user": "test",
  "currency": "$",
  "description": "Test account",
  "balance": 75,
  "transactions": [
    { "id": "1", "date": "2020-10-01", "object": "Pocket money", "amount": 50 },
    { "id": "2", "date": "2020-10-03", "object": "Book", "amount": -10 },
    { "id": "3", "date": "2020-10-04", "object": "Sandwich", "amount": -5 }
  ]
}
```

**Tato datov√° struktura poskytuje:**
- **`user`**: Ide√°ln√≠ pro personalizaci z√°≈æitku ("V√≠tejte zpƒõt, Sarah!")
- **`currency`**: Zaji≈°≈•uje spr√°vn√© zobrazen√≠ penƒõ≈æn√≠ch ƒç√°stek
- **`description`**: P≈ô√°telsk√Ω n√°zev √∫ƒçtu
- **`balance`**: D≈Øle≈æit√Ω aktu√°ln√≠ z≈Østatek
- **`transactions`**: Kompletn√≠ historie transakc√≠ se v≈°emi detaily

V≈°e, co pot≈ôebujete k vytvo≈ôen√≠ profesion√°lnƒõ vypadaj√≠c√≠ho bankovn√≠ho dashboardu!

> üí° **Tip**: Chcete vidƒõt sv≈Øj dashboard v akci hned? Pou≈æijte u≈æivatelsk√© jm√©no `test` p≈ôi p≈ôihl√°≈°en√≠ - je p≈ôedem naplnƒõno uk√°zkov√Ωmi daty, tak≈æe m≈Ø≈æete vidƒõt v≈°e fungovat, ani≈æ byste museli nejprve vytv√°≈ôet transakce.
> 
**Proƒç je testovac√≠ √∫ƒçet u≈æiteƒçn√Ω:**
- Obsahuje realistick√° uk√°zkov√° data ji≈æ nahran√°
- Perfektn√≠ pro zobrazen√≠, jak se transakce zobrazuj√≠
- Skvƒõl√© pro testov√°n√≠ funkc√≠ va≈°eho dashboardu
- U≈°et≈ô√≠ v√°s od nutnosti ruƒçnƒõ vytv√°≈ôet testovac√≠ data

### Vytvo≈ôen√≠ prvk≈Ø zobrazen√≠ dashboardu

Postupnƒõ vytvo≈ô√≠me rozhran√≠ dashboardu, poƒç√≠naje informacemi o souhrnu √∫ƒçtu a pot√© p≈ôejdeme k slo≈æitƒõj≈°√≠m funkc√≠m, jako jsou seznamy transakc√≠.

#### Krok 1: Aktualizujte strukturu HTML

Nejprve nahraƒète statickou sekci "Z≈Østatek" dynamick√Ωmi z√°stupn√Ωmi prvky, kter√© m≈Ø≈æe v√°≈° JavaScript naplnit:

```html
<section>
  Balance: <span id="balance"></span><span id="currency"></span>
</section>
```

D√°le p≈ôidejte sekci pro popis √∫ƒçtu. Proto≈æe funguje jako nadpis obsahu dashboardu, pou≈æijte s√©mantick√© HTML:

```html
<h2 id="description"></h2>
```

**Porozumƒõn√≠ struktu≈ôe HTML:**
- **Pou≈æ√≠v√°** samostatn√© prvky `<span>` pro z≈Østatek a mƒõnu pro individu√°ln√≠ kontrolu
- **Aplikuje** unik√°tn√≠ ID na ka≈æd√Ω prvek pro c√≠len√≠ JavaScriptu
- **Dodr≈æuje** s√©mantick√© HTML pou≈æit√≠m `<h2>` pro popis √∫ƒçtu
- **Vytv√°≈ô√≠** logickou hierarchii pro ƒçteƒçky obrazovky a SEO

> ‚úÖ **Pohled na p≈ô√≠stupnost**: Popis √∫ƒçtu funguje jako nadpis obsahu dashboardu, tak≈æe je oznaƒçen s√©manticky jako nadpis. Zjistƒõte v√≠ce o tom, jak [struktura nadpis≈Ø](https://www.nomensa.com/blog/2017/how-structure-headings-web-accessibility) ovliv≈àuje p≈ô√≠stupnost. Dok√°≈æete identifikovat dal≈°√≠ prvky na va≈°√≠ str√°nce, kter√© by mohly tƒõ≈æit z nadpisov√Ωch tag≈Ø?

#### Krok 2: Vytvo≈ôte funkci pro aktualizaci dashboardu

Nyn√≠ vytvo≈ôte funkci, kter√° napln√≠ v√°≈° dashboard skuteƒçn√Ωmi daty √∫ƒçtu:

```javascript
function updateDashboard() {
  if (!account) {
    return navigate('/login');
  }

  updateElement('description', account.description);
  updateElement('balance', account.balance.toFixed(2));
  updateElement('currency', account.currency);
}
```

**Krok za krokem, co tato funkce dƒõl√°:**
- **Ovƒõ≈ôuje**, ≈æe data √∫ƒçtu existuj√≠, ne≈æ pokraƒçuje
- **P≈ôesmƒõrov√°v√°** neautentizovan√© u≈æivatele zpƒõt na p≈ôihla≈°ovac√≠ str√°nku
- **Aktualizuje** popis √∫ƒçtu pomoc√≠ opakovanƒõ pou≈æiteln√© funkce `updateElement`
- **Form√°tuje** z≈Østatek tak, aby v≈ædy zobrazoval dvƒõ desetinn√° m√≠sta
- **Zobrazuje** odpov√≠daj√≠c√≠ symbol mƒõny

> üí∞ **Form√°tov√°n√≠ penƒõz**: Metoda [`toFixed(2)`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed) je z√°chrana! Zaji≈°≈•uje, ≈æe v√°≈° z≈Østatek v≈ædy vypad√° jako skuteƒçn√© pen√≠ze - "75.00" m√≠sto jen "75". Va≈°i u≈æivatel√© ocen√≠ vidƒõt zn√°m√© form√°tov√°n√≠ mƒõny.

#### Krok 3: Zajistƒõte, ≈æe se v√°≈° dashboard aktualizuje

Aby se zajistilo, ≈æe se v√°≈° dashboard aktualizuje s aktu√°ln√≠mi daty poka≈æd√©, kdy≈æ ho nƒõkdo nav≈°t√≠v√≠, mus√≠me se napojit na v√°≈° navigaƒçn√≠ syst√©m. Pokud jste dokonƒçili [√∫kol z lekce 1](../1-template-route/assignment.md), mƒõlo by v√°m to b√Ωt povƒõdom√©. Pokud ne, nebojte se - zde je, co pot≈ôebujete:

P≈ôidejte toto na konec va≈°√≠ funkce `updateRoute()`:

```javascript
if (typeof route.init === 'function') {
  route.init();
}
```

Pot√© aktualizujte sv√© trasy, aby zahrnovaly inicializaci dashboardu:

```javascript
const routes = {
  '/login': { templateId: 'login' },
  '/dashboard': { templateId: 'dashboard', init: updateDashboard }
};
```

**Co tento chytr√Ω p≈ô√≠stup dƒõl√°:**
- Kontroluje, zda m√° trasa speci√°ln√≠ inicializaƒçn√≠ k√≥d
- Automaticky spou≈°t√≠ tento k√≥d, kdy≈æ se trasa naƒçte
- Zaji≈°≈•uje, ≈æe v√°≈° dashboard v≈ædy zobrazuje ƒçerstv√°, aktu√°ln√≠ data
- Udr≈æuje logiku smƒõrov√°n√≠ ƒçistou a organizovanou

#### Testov√°n√≠ va≈°eho dashboardu

Po implementaci tƒõchto zmƒõn otestujte sv≈Øj dashboard:

1. **P≈ôihlaste se** pomoc√≠ testovac√≠ho √∫ƒçtu
2. **Ovƒõ≈ôte**, ≈æe jste p≈ôesmƒõrov√°ni na dashboard
3. **Zkontrolujte**, ≈æe se popis √∫ƒçtu, z≈Østatek a mƒõna zobrazuj√≠ spr√°vnƒõ
4. **Zkuste se odhl√°sit a znovu p≈ôihl√°sit**, abyste se ujistili, ≈æe se data spr√°vnƒõ aktualizuj√≠

V√°≈° dashboard by nyn√≠ mƒõl zobrazovat dynamick√© informace o √∫ƒçtu, kter√© se aktualizuj√≠ na z√°kladƒõ dat p≈ôihl√°≈°en√©ho u≈æivatele!

## Vytvo≈ôen√≠ chytr√Ωch seznam≈Ø transakc√≠ pomoc√≠ ≈°ablon

M√≠sto ruƒçn√≠ho vytv√°≈ôen√≠ HTML pro ka≈ædou transakci pou≈æijeme ≈°ablony k automatick√©mu generov√°n√≠ konzistentn√≠ho form√°tov√°n√≠. Stejnƒõ jako standardizovan√© komponenty pou≈æ√≠van√© p≈ôi v√Ωrobƒõ kosmick√Ωch lod√≠, ≈°ablony zaji≈°≈•uj√≠, ≈æe ka≈æd√Ω ≈ô√°dek transakce dodr≈æuje stejnou strukturu a vzhled.

Tato technika efektivnƒõ ≈°k√°luje od nƒõkolika transakc√≠ a≈æ po tis√≠ce, p≈ôiƒçem≈æ zachov√°v√° konzistentn√≠ v√Ωkon a prezentaci.

```mermaid
flowchart LR
    A[Transaction Data] --> B[HTML Template]
    B --> C[Clone Template]
    C --> D[Populate with Data]
    D --> E[Add to DOM]
    E --> F[Repeat for Each Transaction]
```

### Krok 1: Vytvo≈ôte ≈°ablonu transakce

Nejprve p≈ôidejte opakovanƒõ pou≈æitelnou ≈°ablonu pro ≈ô√°dky transakc√≠ do va≈°eho HTML `<body>`:

```html
<template id="transaction">
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</template>
```

**Porozumƒõn√≠ HTML ≈°ablon√°m:**
- **Definuje** strukturu pro jeden ≈ô√°dek tabulky
- **Z≈Øst√°v√°** neviditeln√°, dokud nen√≠ klonov√°na a naplnƒõna pomoc√≠ JavaScriptu
- **Obsahuje** t≈ôi bu≈àky pro datum, popis a ƒç√°stku
- **Poskytuje** opakovanƒõ pou≈æiteln√Ω vzor pro konzistentn√≠ form√°tov√°n√≠

### Krok 2: P≈ôipravte svou tabulku pro dynamick√Ω obsah

D√°le p≈ôidejte `id` do tƒõla tabulky, aby na nƒõj mohl JavaScript snadno c√≠lit:

```html
<tbody id="transactions"></tbody>
```

**Co to umo≈æ≈àuje:**
- **Vytv√°≈ô√≠** jasn√Ω c√≠l pro vkl√°d√°n√≠ ≈ô√°dk≈Ø transakc√≠
- **Oddƒõluje** strukturu tabulky od dynamick√©ho obsahu
- **Umo≈æ≈àuje** snadn√© maz√°n√≠ a opƒõtovn√© naplnƒõn√≠ dat transakc√≠

### Krok 3: Vytvo≈ôte tov√°rn√≠ funkci pro ≈ô√°dky transakc√≠

Nyn√≠ vytvo≈ôte funkci, kter√° transformuje data transakc√≠ na HTML prvky:

```javascript
function createTransactionRow(transaction) {
  const template = document.getElementById('transaction');
  const transactionRow = template.content.cloneNode(true);
  const tr = transactionRow.querySelector('tr');
  tr.children[0].textContent = transaction.date;
  tr.children[1].textContent = transaction.object;
  tr.children[2].textContent = transaction.amount.toFixed(2);
  return transactionRow;
}
```

**Rozbor t√©to tov√°rn√≠ funkce:**
- **Z√≠sk√°v√°** ≈°ablonu prvku podle jej√≠ho ID
- **Klonuje** obsah ≈°ablony pro bezpeƒçnou manipulaci
- **Vybere** ≈ô√°dek tabulky v klonovan√©m obsahu
- **Napln√≠** ka≈ædou bu≈àku daty transakce
- **Form√°tuje** ƒç√°stku tak, aby zobrazovala spr√°vn√° desetinn√° m√≠sta
- **Vrac√≠** dokonƒçen√Ω ≈ô√°dek p≈ôipraven√Ω k vlo≈æen√≠

### Krok 4: Efektivnƒõ generujte v√≠ce ≈ô√°dk≈Ø transakc√≠

P≈ôidejte tento k√≥d do va≈°√≠ funkce `updateDashboard()`, aby zobrazoval v≈°echny transakce:

```javascript
const transactionsRows = document.createDocumentFragment();
for (const transaction of account.transactions) {
  const transactionRow = createTransactionRow(transaction);
  transactionsRows.appendChild(transactionRow);
}
updateElement('transactions', transactionsRows);
```

**Porozumƒõn√≠ tomuto efektivn√≠mu p≈ô√≠stupu:**
- **Vytv√°≈ô√≠** dokumentov√Ω fragment pro d√°vkov√© operace s DOM
- **Iteruje** p≈ôes v≈°echny transakce v datech √∫ƒçtu
- **Generuje** ≈ô√°dek pro ka≈ædou transakci pomoc√≠ tov√°rn√≠ funkce
- **Sb√≠r√°** v≈°echny ≈ô√°dky do fragmentu p≈ôed p≈ôid√°n√≠m do DOM
- **Prov√°d√≠** jednu aktualizaci DOM m√≠sto v√≠ce jednotliv√Ωch vlo≈æen√≠

> ‚ö° **Optimalizace v√Ωkonu**: [`document.createDocumentFragment()`](https://developer.mozilla.org/docs/Web/API/Document/createDocumentFragment) funguje jako mont√°≈æn√≠ proces v Boeingu - komponenty jsou p≈ôipraveny mimo hlavn√≠ linku, pot√© instalov√°ny jako kompletn√≠ jednotka. Tento d√°vkov√Ω p≈ô√≠stup minimalizuje p≈ôet√≠≈æen√≠ DOM proveden√≠m jedn√© vlo≈æen√≠ m√≠sto v√≠ce jednotliv√Ωch operac√≠.

### Krok 5: Vylep≈°ete funkci aktualizace pro sm√≠≈°en√Ω obsah

Va≈°e funkce `updateElement()` aktu√°lnƒõ zpracov√°v√° pouze textov√Ω obsah. Aktualizujte ji, aby fungovala jak s textem, tak s DOM uzly:

```javascript
function updateElement(id, textOrNode) {
  const element = document.getElementById(id);
  element.textContent = ''; // Removes all children
  element.append(textOrNode);
}
```

**Kl√≠ƒçov√° vylep≈°en√≠ t√©to aktualizace:**
- **Vyma≈æe** existuj√≠c√≠ obsah p≈ôed p≈ôid√°n√≠m nov√©ho obsahu
- **P≈ôij√≠m√°** buƒè textov√© ≈ôetƒõzce, nebo DOM uzly jako parametry
- **Pou≈æ√≠v√°** metodu [`append()`](https://developer.mozilla.org/docs/Web/API/ParentNode/append) pro flexibilitu
- **Zachov√°v√°** zpƒõtnou kompatibilitu s existuj√≠c√≠m textov√Ωm pou≈æit√≠m

### Vyzkou≈°ejte sv≈Øj dashboard

Nastal ƒças na zkou≈°ku! Pod√≠vejme se, jak v√°≈° dynamick√Ω dashboard funguje:

1. P≈ôihlaste se pomoc√≠ √∫ƒç
**V√Ωzva:** Vytvo≈ôte vyhled√°vac√≠ funkci pro bankovn√≠ aplikaci, kter√° zahrnuje: 1) Vyhled√°vac√≠ formul√°≈ô s poli pro zad√°n√≠ ƒçasov√©ho rozmez√≠ (od/do), minim√°ln√≠ho/maxim√°ln√≠ho mno≈æstv√≠ a kl√≠ƒçov√Ωch slov popisu transakce, 2) Funkci `filterTransactions()`, kter√° filtruje pole account.transactions na z√°kladƒõ krit√©ri√≠ vyhled√°v√°n√≠, 3) Aktualizujte funkci `updateDashboard()`, aby zobrazovala filtrovan√© v√Ωsledky, a 4) P≈ôidejte tlaƒç√≠tko ‚ÄûVymazat filtry‚Äú pro resetov√°n√≠ zobrazen√≠. Pou≈æijte modern√≠ metody JavaScriptu jako `filter()` a zpracujte okrajov√© p≈ô√≠pady pr√°zdn√Ωch krit√©ri√≠ vyhled√°v√°n√≠.

V√≠ce informac√≠ o [agent mode](https://code.visualstudio.com/blogs/2025/02/24/introducing-copilot-agent-mode) najdete zde.

## üöÄ V√Ωzva

P≈ôipraveni posunout svou bankovn√≠ aplikaci na dal≈°√≠ √∫rove≈à? Udƒõlejme ji takovou, ≈æe ji budete cht√≠t skuteƒçnƒõ pou≈æ√≠vat. Zde je nƒõkolik n√°pad≈Ø, kter√© v√°s mohou inspirovat:

**Udƒõlejte ji kr√°snou**: P≈ôidejte CSS stylov√°n√≠, aby se v√°≈° funkƒçn√≠ dashboard promƒõnil v nƒõco vizu√°lnƒõ p≈ôita≈æliv√©ho. Myslete na ƒçist√© linie, dobr√© rozestupy a mo≈æn√° i jemn√© animace.

**Udƒõlejte ji responzivn√≠**: Zkuste pou≈æ√≠t [media queries](https://developer.mozilla.org/docs/Web/CSS/Media_Queries) k vytvo≈ôen√≠ [responzivn√≠ho designu](https://developer.mozilla.org/docs/Web/Progressive_web_apps/Responsive/responsive_design_building_blocks), kter√Ω bude skvƒõle fungovat na telefonech, tabletech i poƒç√≠taƒç√≠ch. Va≈°i u≈æivatel√© v√°m podƒõkuj√≠!

**P≈ôidejte trochu ≈°mrncu**: Zva≈æte barevn√© oznaƒçen√≠ transakc√≠ (zelen√° pro p≈ô√≠jmy, ƒçerven√° pro v√Ωdaje), p≈ôid√°n√≠ ikon nebo vytvo≈ôen√≠ efekt≈Ø p≈ôi najet√≠ my≈°√≠, kter√© rozhran√≠ uƒçin√≠ interaktivn√≠m.

Takto by mohl vypadat vyle≈°tƒõn√Ω dashboard:

![Screenshot p≈ô√≠kladu v√Ωsledn√©ho dashboardu po stylov√°n√≠](../../../../translated_images/screen2.123c82a831a1d14ab2061994be2fa5de9cec1ce651047217d326d4773a6348e4.cs.png)

Nemus√≠te se sna≈æit p≈ôesnƒõ napodobit tento vzhled ‚Äì pou≈æijte ho jako inspiraci a vytvo≈ôte nƒõco vlastn√≠ho!

## Kv√≠z po p≈ôedn√°≈°ce

[Kv√≠z po p≈ôedn√°≈°ce](https://ff-quizzes.netlify.app/web/quiz/46)

## Zad√°n√≠

[Refaktorujte a okomentujte sv≈Øj k√≥d](assignment.md)

---

**Prohl√°≈°en√≠**:  
Tento dokument byl p≈ôelo≈æen pomoc√≠ slu≈æby AI pro p≈ôeklady [Co-op Translator](https://github.com/Azure/co-op-translator). Aƒçkoli se sna≈æ√≠me o p≈ôesnost, mƒõjte pros√≠m na pamƒõti, ≈æe automatizovan√© p≈ôeklady mohou obsahovat chyby nebo nep≈ôesnosti. P≈Øvodn√≠ dokument v jeho p≈Øvodn√≠m jazyce by mƒõl b√Ωt pova≈æov√°n za autoritativn√≠ zdroj. Pro d≈Øle≈æit√© informace se doporuƒçuje profesion√°ln√≠ lidsk√Ω p≈ôeklad. Neodpov√≠d√°me za ≈æ√°dn√° nedorozumƒõn√≠ nebo nespr√°vn√© interpretace vypl√Ωvaj√≠c√≠ z pou≈æit√≠ tohoto p≈ôekladu.