<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b667b7d601e2ee19acb5aa9d102dc9f3",
  "translation_date": "2025-08-27T22:57:45+00:00",
  "source_file": "7-bank-project/2-forms/README.md",
  "language_code": "sr"
}
-->
# Изградња банкарске апликације, део 2: Израда форме за пријаву и регистрацију

## Квиз пре предавања

[Квиз пре предавања](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/43)

### Увод

У готово свим модерним веб апликацијама можете креирати налог како бисте имали свој приватни простор. Како више корисника може истовремено приступити веб апликацији, потребан је механизам за одвојено чување личних података сваког корисника и одабир информација које ће бити приказане. Нећемо се бавити тиме како [сигурно управљати идентитетом корисника](https://en.wikipedia.org/wiki/Authentication), јер је то обимна тема сама по себи, али ћемо осигурати да сваки корисник може креирати један (или више) банковних рачуна у нашој апликацији.

У овом делу ћемо користити HTML форме за додавање пријаве и регистрације у нашу веб апликацију. Видећемо како да програмски шаљемо податке серверској API-ју и на крају како да дефинишемо основна правила за валидацију корисничких уноса.

### Предуслови

Потребно је да сте завршили [HTML шаблоне и рутирање](../1-template-route/README.md) веб апликације за ову лекцију. Такође, потребно је да инсталирате [Node.js](https://nodejs.org) и [покренете серверски API](../api/README.md) локално како бисте могли слати податке за креирање налога.

**Имајте на уму**
Имаћете два терминала која раде истовремено, како је наведено у наставку:
1. За главну банкарску апликацију коју смо изградили у лекцији [HTML шаблони и рутирање](../1-template-route/README.md)
2. За [серверски API банкарске апликације](../api/README.md) који смо управо подесили.

Потребно је да оба сервера буду покренута како бисте могли пратити остатак лекције. Они слушају на различитим портовима (порт `3000` и порт `5000`), тако да би све требало да функционише без проблема.

Можете тестирати да ли сервер ради исправно извршавањем ове команде у терминалу:

```sh
curl http://localhost:5000/api
# -> should return "Bank API v1.0.0" as a result
```

---

## Форма и контроле

Елемент `<form>` обухвата део HTML документа где корисник може уносити и слати податке помоћу интерактивних контрола. Постоје разне корисничке интерфејс (UI) контроле које се могу користити унутар форме, а најчешће су елементи `<input>` и `<button>`.

Постоји много различитих [типова](https://developer.mozilla.org/docs/Web/HTML/Element/input) `<input>` елемената. На пример, да бисте креирали поље где корисник може унети своје корисничко име, можете користити:

```html
<input id="username" name="username" type="text">
```

Атрибут `name` ће се користити као назив својства када се подаци форме шаљу. Атрибут `id` се користи за повезивање `<label>` елемента са контролом форме.

> Погледајте целу листу [`<input>` типова](https://developer.mozilla.org/docs/Web/HTML/Element/input) и [друге контроле форме](https://developer.mozilla.org/docs/Learn/Forms/Other_form_controls) како бисте стекли идеју о свим нативним UI елементима које можете користити приликом изградње вашег интерфејса.

✅ Имајте на уму да је `<input>` [празан елемент](https://developer.mozilla.org/docs/Glossary/Empty_element) коме *не треба* додавати одговарајућу завршну ознаку. Можете, међутим, користити само-затварајућу нотацију `<input/>`, али то није обавезно.

Елемент `<button>` унутар форме је мало посебан. Ако не наведете његов атрибут `type`, аутоматски ће послати податке форме серверу када се притисне. Ево могућих вредности за `type`:

- `submit`: Подразумевано унутар `<form>`, дугме покреће акцију слања форме.
- `reset`: Дугме ресетује све контроле форме на њихове почетне вредности.
- `button`: Не додељује подразумевано понашање када се дугме притисне. Можете му доделити прилагођене акције помоћу JavaScript-а.

### Задатак

Почнимо са додавањем форме у `login` шаблон. Биће нам потребно поље за *корисничко име* и дугме за *Пријаву*.

```html
<template id="login">
  <h1>Bank App</h1>
  <section>
    <h2>Login</h2>
    <form id="loginForm">
      <label for="username">Username</label>
      <input id="username" name="user" type="text">
      <button>Login</button>
    </form>
  </section>
</template>
```

Ако пажљивије погледате, приметићете да смо овде додали и `<label>` елемент. `<label>` елементи се користе за додавање назива UI контролама, као што је наше поље за корисничко име. Ознаке су важне за читљивост ваших форми, али такође долазе са додатним предностима:

- Повезивањем ознаке са контролом форме, помаже корисницима који користе асистивне технологије (попут читача екрана) да разумеју које податке треба да унесу.
- Можете кликнути на ознаку да бисте директно ставили фокус на повезани унос, што олакшава приступ на уређајима са екраном осетљивим на додир.

> [Приступачност](https://developer.mozilla.org/docs/Learn/Accessibility/What_is_accessibility) на вебу је веома важна тема која се често занемарује. Захваљујући [семантичким HTML елементима](https://developer.mozilla.org/docs/Learn/Accessibility/HTML) није тешко креирати приступачан садржај ако их правилно користите. Можете [прочитати више о приступачности](https://developer.mozilla.org/docs/Web/Accessibility) како бисте избегли уобичајене грешке и постали одговоран програмер.

Сада ћемо додати другу форму за регистрацију, одмах испод претходне:

```html
<hr/>
<h2>Register</h2>
<form id="registerForm">
  <label for="user">Username</label>
  <input id="user" name="user" type="text">
  <label for="currency">Currency</label>
  <input id="currency" name="currency" type="text" value="$">
  <label for="description">Description</label>
  <input id="description" name="description" type="text">
  <label for="balance">Current balance</label>
  <input id="balance" name="balance" type="number" value="0">
  <button>Register</button>
</form>
```

Коришћењем атрибута `value` можемо дефинисати подразумевану вредност за дати унос. Такође приметите да унос за `balance` има тип `number`. Да ли изгледа другачије од осталих уноса? Пробајте да интерагујете са њим.

✅ Можете ли навигирати и интераговати са формама користећи само тастатуру? Како бисте то урадили?

## Слање података серверу

Сада када имамо функционалан UI, следећи корак је слање података серверу. Хајде да направимо брз тест користећи наш тренутни код: шта се дешава ако кликнете на дугме *Пријава* или *Регистрација*?

Да ли сте приметили промену у URL секцији вашег претраживача?

![Снимак екрана са променом URL-а претраживача након клика на дугме Регистрација](../../../../translated_images/click-register.e89a30bf0d4bc9ca867dc537c4cea679a7c26368bd790969082f524fed2355bc.sr.png)

Подразумевана акција за `<form>` је слање форме на тренутни URL сервера користећи [GET метод](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3), додајући податке форме директно у URL. Међутим, овај метод има неке недостатке:

- Подаци који се шаљу су веома ограничени по величини (око 2000 карактера)
- Подаци су директно видљиви у URL-у (што није добро за лозинке)
- Не ради са отпремањем датотека

Зато можете променити метод на [POST метод](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) који шаље податке форме серверу у телу HTTP захтева, без претходно наведених ограничења.

> Иако је POST најчешће коришћен метод за слање података, [у неким специфичним сценаријима](https://www.w3.org/2001/tag/doc/whenToUseGet.html) је пожељно користити GET метод, на пример приликом имплементације поља за претрагу.

### Задатак

Додајте `action` и `method` својства форми за регистрацију:

```html
<form id="registerForm" action="//localhost:5000/api/accounts" method="POST">
```

Сада покушајте да региструјете нови налог са вашим именом. Након клика на дугме *Регистрација* требало би да видите нешто овако:

![Прозор претраживача на адреси localhost:5000/api/accounts, приказује JSON низ са корисничким подацима](../../../../translated_images/form-post.61de4ca1b964d91a9e338416e19f218504dd0af5f762fbebabfe7ae80edf885f.sr.png)

Ако све функционише како треба, сервер би требало да одговори на ваш захтев са [JSON](https://www.json.org/json-en.html) одговором који садржи податке о креираном налогу.

✅ Покушајте поново да се региструјете са истим именом. Шта се дешава?
> Савет: можете прилагодити изглед контроле вашег формулара у зависности од тога да ли су валидне или не, користећи CSS псеудо-класе `:valid` и `:invalid`.
### Задатак

Постоје два обавезна поља за креирање важећег новог налога: корисничко име и валута, док су остала поља опционална. Ажурирајте HTML форме, користећи и `required` атрибут и текст у ознаци поља тако да:

```html
<label for="user">Username (required)</label>
<input id="user" name="user" type="text" required>
...
<label for="currency">Currency (required)</label>
<input id="currency" name="currency" type="text" value="$" required>
```

Иако ова конкретна серверска имплементација не намеће специфична ограничења за максималну дужину поља, увек је добра пракса дефинисати разумна ограничења за унос текста од стране корисника.

Додајте `maxlength` атрибут текстуалним пољима:

```html
<input id="user" name="user" type="text" maxlength="20" required>
...
<input id="currency" name="currency" type="text" value="$" maxlength="5" required>
...
<input id="description" name="description" type="text" maxlength="100">
```

Сада, ако притиснете дугме *Региструј се* и неко поље не поштује правило валидације које смо дефинисали, требало би да видите нешто овако:

![Снимак екрана који приказује грешку валидације приликом покушаја слања форме](../../../../translated_images/validation-error.8bd23e98d416c22f80076d04829a4bb718e0e550fd622862ef59008ccf0d5dce.sr.png)

Валидација која се извршава *пре* слања било каквих података серверу назива се **валидација на страни клијента**. Али имајте на уму да није увек могуће извршити све провере без слања података. На пример, овде не можемо проверити да ли већ постоји налог са истим корисничким именом без слања захтева серверу. Додатна валидација која се извршава на серверу назива се **валидација на страни сервера**.

Обично је потребно имплементирати обе врсте валидације, и док валидација на страни клијента побољшава корисничко искуство пружајући тренутне повратне информације кориснику, валидација на страни сервера је кључна како би се осигурало да су подаци корисника које обрађујете исправни и безбедни.

---

## 🚀 Изазов

Прикажите поруку о грешци у HTML-у ако корисник већ постоји.

Ево примера како коначна страница за пријаву може изгледати након мало стилизовања:

![Снимак екрана странице за пријаву након додавања CSS стилова](../../../../translated_images/result.96ef01f607bf856aa9789078633e94a4f7664d912f235efce2657299becca483.sr.png)

## Квиз након предавања

[Квиз након предавања](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/44)

## Преглед и самостално учење

Програмери су постали веома креативни у својим напорима за креирање форми, посебно када је реч о стратегијама валидације. Истражите различите токове форми прегледајући [CodePen](https://codepen.com); можете ли пронаћи неке занимљиве и инспиративне форме?

## Задатак

[Стилизујте своју апликацију за банку](assignment.md)

---

**Одрицање од одговорности**:  
Овај документ је преведен коришћењем услуге за превођење помоћу вештачке интелигенције [Co-op Translator](https://github.com/Azure/co-op-translator). Иако се трудимо да превод буде тачан, молимо вас да имате у виду да аутоматизовани преводи могу садржати грешке или нетачности. Оригинални документ на његовом изворном језику треба сматрати меродавним извором. За критичне информације препоручује се професионални превод од стране људи. Не преузимамо одговорност за било каква погрешна тумачења или неспоразуме који могу настати услед коришћења овог превода.