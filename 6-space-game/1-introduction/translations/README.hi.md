# рдПрдХ рдЕрдВрддрд░рд┐рдХреНрд╖ рдЦреЗрд▓ рдмрдирд╛рдПрдБ рднрд╛рдЧ 1: рдкрд░рд┐рдЪрдп

![рд╡реАрдбрд┐рдпреЛ](../../images/pewpew.gif)

## рд▓реЗрдХреНрдЪрд░ рд╕реЗ рдкрд╣рд▓реЗрдХреА рдХреНрд╡рд┐рдЬ

[рд▓реЗрдХреНрдЪрд░ рд╕реЗ рдкрд╣рд▓реЗрдХреА рдХреНрд╡рд┐рдЬ ](https://happy-mud-02d95f10f.azurestaticapps.net/quiz/29?loc=hi)

### рдЦреЗрд▓ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдЗрдиреНрд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдФрд░ рдХрдореНрдкреЛрдЬреАрд╢рди

рдкрд╣рд▓реЗ рдХреЗ рдкрд╛рдареЛрдВ рдореЗрдВ, рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рдРрдкреНрд╕ рдХреЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬреНрдпрд╛рджрд╛ рдЪрд┐рдВрддрд╛ рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рдереА, рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрд╣реБрдд рдХрдо рджрд╛рдпрд░реЗ рдореЗрдВ рдереЗ. рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЬрдм рдЖрдкрдХреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЖрдХрд╛рд░ рдФрд░ рджрд╛рдпрд░реЗ рдореЗрдВ рдмрдврд╝рддреЗ рд╣реИрдВ, рддреЛ рд╡рд╛рд╕реНрддреБ рдирд┐рд░реНрдгрдп рдПрдХ рдмрдбрд╝реА рдЪрд┐рдВрддрд╛ рдмрди рдЬрд╛рддреЗ рд╣реИрдВ. рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдмрдбрд╝рд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдкреНрд░рдореБрдЦ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣реИрдВ: _composition_ рдпрд╛ _inheritance_. рджреЛрдиреЛрдВ рдХреЗ рдкрдХреНрд╖ рдФрд░ рд╡рд┐рдкрдХреНрд╖ рд╣реИрдВ рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рдЦреЗрд▓ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЙрдиреНрд╣реЗрдВ рд╕рдордЭрддреЗ рд╣реИрдВ .

тЬЕ рдЕрдм рддрдХ рд▓рд┐рдЦреА рдЧрдИ рд╕рдмрд╕реЗ рдкреНрд░рд╕рд┐рджреНрдз рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд┐рддрд╛рдмреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ [рдбрд┐рдЬрд╛рдЗрди рдкреИрдЯрд░реНрди](https://en.wikipedia.org/wiki/Design_Patterns)

рдПрдХ рдЧреЗрдо рдореЗрдВ рдЖрдкрдХреЗ рдкрд╛рд╕ `game objects` рд╣реИрдВ рдЬреЛ рдПрдХ рд╕реНрдХреНрд░реАрди рдкрд░ рдореМрдЬреВрдж рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ. рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЙрдирдХреЗ рдкрд╛рд╕ рдПрдХ рдХрд╛рд░реНрдЯреЗрд╢рд┐рдпрди рд╕рдордиреНрд╡рдп рдкреНрд░рдгрд╛рд▓реА рдкрд░ рдПрдХ рд╕реНрдерд╛рди рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХ `x` рдФрд░` y` рд╕рдордиреНрд╡рдп рд╣реИ. рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдПрдХ рдЧреЗрдо рд╡рд┐рдХрд╕рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдЖрдкрдХреЗ рд╕рднреА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдПрдХ рдорд╛рдирдХ рдЧреБрдг рд╣реИ, рдЬреЛ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рддреНрдпреЗрдХ рдЧреЗрдо рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рд╣реИ, рдЕрд░реНрдерд╛рддреН рддрддреНрд╡ рд╣реИрдВ:

- **location-based** рдЕрдзрд┐рдХрд╛рдВрд╢, рдпрджрд┐ рд╕рднреА рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдЦреЗрд▓ рддрддреНрд╡ рд╕реНрдерд╛рди рдЖрдзрд╛рд░рд┐рдд рд╣реИрдВ. рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЙрдирдХреЗ рдкрд╛рд╕ рдПрдХ рд╕реНрдерд╛рди рд╣реИ, рдПрдХ `x` рдФрд░` y`.
- **movable** рдпреЗ рдРрд╕реА рд╡рд╕реНрддреБрдПрдВ рд╣реИрдВ рдЬреЛ рдПрдХ рдирдП рд╕реНрдерд╛рди рдкрд░ рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ. рдпрд╣ рдЖрдо рддреМрд░ рдкрд░ рдПрдХ рдирд╛рдпрдХ, рдПрдХ рд░рд╛рдХреНрд╖рд╕ рдпрд╛ рдПрдХ рдПрдирдкреАрд╕реА (рдПрдХ рдЧреИрд░ рдЦрд┐рд▓рд╛рдбрд╝реА рдЪрд░рд┐рддреНрд░) рд╣реИ, рд▓реЗрдХрд┐рди рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдкреЗрдбрд╝ рдЬреИрд╕реА рд╕реНрдерд┐рд░ рд╡рд╕реНрддреБ рдирд╣реАрдВ.
- **self-destructing** рдпреЗ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗрд╡рд▓ рд╕рдордп рдХреА рдПрдХ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рдореМрдЬреВрдж рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╡реЗ рд╕реНрд╡рдпрдВ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░реЗрдВ. рдЖрдорддреМрд░ рдкрд░ рдпрд╣ рдПрдХ `рдореГрдд` рдпрд╛` рдирд╖реНрдЯ` рдмреВрд▓рд┐рдпрди рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдЧреЗрдо рдЗрдВрдЬрди рдХреЛ рд╕рдВрдХреЗрдд рджреЗрддрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдЕрдм рдкреНрд░рд╕реНрддреБрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП.
- **cool-down** 'рдХреВрд▓-рдбрд╛рдЙрди' рдПрдХ рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рд╡рд╕реНрддреБрдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЧреБрдг рд╣реИ. рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрджрд╛рд╣рд░рдг рдПрдХ рд╡рд┐рд╕реНрдлреЛрдЯ рдХреА рддрд░рд╣ рдкрд╛рда рдпрд╛ рдЪрд┐рддреНрд░рдордп рдкреНрд░рднрд╛рд╡ рдХрд╛ рдПрдХ рдЯреБрдХрдбрд╝рд╛ рд╣реИ рдЬрд┐рд╕реЗ рдХреЗрд╡рд▓ рдХреБрдЫ рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдХреЗ рд▓рд┐рдП рджреЗрдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП.

тЬЕ рдкреИрдХ рдореИрди рдЬреИрд╕реЗ рдЦреЗрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪреЗрдВ. рдХреНрдпрд╛ рдЖрдк рдЗрд╕ рдЦреЗрд▓ рдореЗрдВ рдКрдкрд░ рд╕реВрдЪреАрдмрджреНрдз рдЪрд╛рд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?

### рд╡реНрдпрд╡рд╣рд╛рд░ рд╡реНрдпрдХреНрдд рдХрд░рдирд╛

рд╣рдо рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╕рднреА рд╡реНрдпрд╡рд╣рд╛рд░ рд╣реИрдВ рдЬреЛ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ . рддреЛ рд╣рдо рдЙрди рд╕рдмрдХреЛ рдХреЛ рдХреИрд╕реЗ рдПрдирдХреЛрдб рдХрд░реЗрдВрдЧреЗ? рд╣рдо рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдпрд╛ рддреЛ рдХреНрд▓рд╛рд╕реЗрдЬ рдпрд╛ objects рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╡реНрдпрдХреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ.

**рдХреНрд▓рд╛рд╕реЗрдЬ**

рд╡рд┐рдЪрд╛рд░ рдПрдХ рдХреНрд▓рд╛рд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП `inheritence` рдХреЗ рд╕рд╛рде рд╕рдВрдпреЛрдЬрди рдореЗрдВ `inheritence` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ.

тЬЕ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдиреНрд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрд╡рдзрд╛рд░рдгрд╛ рд╣реИред [рдПрдордбреАрдПрди рдХреЗ рдЗрдиреНрд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓реЗрдЦ](https://developer.mozilla.org/docs/Web/JavaScript/Inheritance_and_the_prototyp_chain) рдкрд░ рдФрд░ рдЬрд╛рдиреЗрдВ.

рдХреЛрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡реНрдпрдХреНрдд, рдПрдХ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдЖрдорддреМрд░ рдкрд░ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦ рд╕рдХрддрд╛ рд╣реИ:

```javascript
//set up the class GameObject
class GameObject {
  constructor(x, y, type) {
    this.x = x;
    this.y = y;
    this.type = type;
  }
}

//this class will extend the GameObject's inherent class properties
class Movable extends GameObject {
  constructor(x, y, type) {
    super(x, y, type);
  }

  //this movable object can be moved on the screen
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
}

//this is a specific class that extends the Movable class, so it can take advantage of all the properties that it inherits
class Hero extends Movable {
  constructor(x, y) {
    super(x, y, "Hero");
  }
}

//this class, on the other hand, only inherits the GameObject properties
class Tree extends GameObject {
  constructor(x, y) {
    super(x, y, "Tree");
  }
}

//a hero can move...
const hero = new Hero();
hero.moveTo(5, 5);

//but a tree cannot
const tree = new Tree();
```

тЬЕ рдПрдХ рдкреИрдХ-рдореИрди рд╣реАрд░реЛ (рдЗрдВрдХреА, рдкрд┐рдВрдХреА рдпрд╛ рдмреНрд▓рдВрдХреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП) рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдорд┐рдирдЯ рд▓реЗрдВ рдФрд░ рдпрд╣ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдХреИрд╕реЗ рд▓рд┐рдЦрд╛ рдЬрд╛рдПрдЧрд╛.

**рдХрдореНрдкреЛрдЬреАрд╢рди**

рдСрдмреНрдЬреЗрдХреНрдЯ рдЗрдиреНрд╣реЗрд░рд┐рдЯреЗрдВрд╕ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХрд╛ рдПрдХ рдЕрд▓рдЧ рддрд░реАрдХрд╛ _Composition_ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИ. рдлрд┐рд░, рдСрдмреНрдЬреЗрдХреНрдЯ рдЕрдкрдиреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдЗрд╕ рддрд░рд╣ рд╡реНрдпрдХреНрдд рдХрд░рддреЗ рд╣реИрдВ:

```javascript
//create a constant gameObject
const gameObject = {
  x: 0,
  y: 0,
  type: ''
};

//...and a constant movable
const movable = {
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
}
//then the constant movableObject is composed of the gameObject and movable constants
const movableObject = {...gameObject, ...movable};

//then create a function to create a new Hero who inherits the movableObject properties
function createHero(x, y) {
  return {
    ...movableObject,
    x,
    y,
    type: 'Hero'
  }
}
//...and a static object that inherits only the gameObject properties
function createStatic(x, y, type) {
  return {
    ...gameObject
    x,
    y,
    type
  }
}
//create the hero and move it
const hero = createHero(10,10);
hero.moveTo(5,5);
//and create a static tree which only stands around
const tree = createStatic(0,0, 'Tree');
```

**рдореБрдЭреЗ рдХрд┐рд╕ рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП?**

рдпрд╣ рдЖрдкрдХреЗ рдКрдкрд░ рд╣реИ рдХрд┐ рдЖрдк рдХрд┐рд╕ рдкреИрдЯрд░реНрди рдХреЛ рдЪреБрдирддреЗ рд╣реИрдВ ред рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрди рджреЛрдиреЛрдВ рдкреНрд░рддрд┐рдорд╛рдиреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ.

--

рдЦреЗрд▓ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдПрдХ рдФрд░ рдкреИрдЯрд░реНрди рдЖрдо рд╣реИ рдЬреЛ рдЧреЗрдо рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрднрд╡ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╕рдВрдмреЛрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ.

## Pub/sub рдкреИрдЯрд░реНрди

тЬЕ Pub/Sub рдЕрд░реНрде 'publish-subscribe' рд╣реИ

рдпрд╣ рдкреИрдЯрд░реНрди рдЗрд╕ рд╡рд┐рдЪрд╛рд░ рдХреЛ рд╕рдВрдмреЛрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдЖрд╡реЗрджрди рдХреЗ рдЕрд╕рдорд╛рди рднрд╛рдЧреЛрдВ рдХреЛ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП. рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЖрд╕рд╛рди рдмрдирд╛рддрд╛ рд╣реИ рдХрд┐ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ рдЕрдЧрд░ рд╡рд┐рднрд┐рдиреНрди рднрд╛рдЧреЛрдВ рдХреЛ рдЕрд▓рдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ. рдпрд╣ рднреА рдЕрдЧрд░ рдЖрдк рдХреА рдЬрд░реВрд░рдд рд╣реИ рдЕрдЪрд╛рдирдХ рд╡реНрдпрд╡рд╣рд╛рд░ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рди рдмрдирд╛рддрд╛ рд╣реИ. рд╣рдо рдЗрд╕реЗ рдХреИрд╕реЗ рдкреВрд░рд╛ рдХрд░реЗрдВрдЧреЗ? рд╣рдо рдХреБрдЫ рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдХреЗ рдРрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ:

- **message**: рдПрдХ рд╕рдВрджреЗрд╢ рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдЯреЗрдХреНрд╕реНрдЯ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╡реИрдХрд▓реНрдкрд┐рдХ рдкреЗрд▓реЛрдб (рдбреЗрдЯрд╛ рдХрд╛ рдПрдХ рдЯреБрдХрдбрд╝рд╛ рдЬреЛ рд╕реНрдкрд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕рдВрджреЗрд╢ рдХреНрдпрд╛ рд╣реИ). рдПрдХ рдЦреЗрд▓ рдореЗрдВ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрджреЗрд╢ `KEY_PRESSED_ENTER` рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
- **publisher**: рдпрд╣ рддрддреНрд╡ рдПрдХ рд╕рдВрджреЗрд╢ \_рдкреНрд░рдХрд╛рд╢рд┐рдд\_ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рд╕рднреА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рднреЗрдЬрддрд╛ рд╣реИ.
- **subscriber**: рдпрд╣ рддрддреНрд╡ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ \_рд╕реВрдЪреАрдмрджреНрдз\_ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рд╕рдВрджреЗрд╢ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдХреБрдЫ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рд▓реЗрдЬрд░ рдлрд╛рдпрд░рд┐рдВрдЧ.

рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЖрдХрд╛рд░ рдореЗрдВ рдХрд╛рдлреА рдЫреЛрдЯрд╛ рд╣реИ рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рдмрд╣реБрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдкреИрдЯрд░реНрди рд╣реИред рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

```javascript
//set up an EventEmitter class that contains listeners
class EventEmitter {
  constructor() {
    this.listeners = {};
  }
  //when a message is received, let the listener to handle its payload
  on(message, listener) {
    if (!this.listeners[message]) {
      this.listeners[message] = [];
    }
    this.listeners[message].push(listener);
  }
  //when a message is sent, send it to a listener with some payload
  emit(message, payload = null) {
    if (this.listeners[message]) {
      this.listeners[message].forEach((l) => l(message, payload));
    }
  }
}
```

рдЙрдкрд░реЛрдХреНрдд рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдо рдПрдХ рдмрд╣реБрдд рдЫреЛрдЯрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ:

```javascript
//set up a message structure
const Messages = {
  HERO_MOVE_LEFT: "HERO_MOVE_LEFT",
};
//invoke the eventEmitter you set up above
const eventEmitter = new EventEmitter();
//set up a hero
const hero = createHero(0, 0);
//let the eventEmitter know to watch for messages pertaining to the hero moving left, and act on it
eventEmitter.on(Messages.HERO_MOVE_LEFT, () => {
  hero.move(5, 0);
});

//set up the window to listen for the keyup event, specifically if the left arrow is hit, emit a message to move the hero left
window.addEventListener("keyup", (evt) => {
  if (evt.key === "ArrowLeft") {
    eventEmitter.emit(Messages.HERO_MOVE_LEFT);
  }
});
```

рдКрдкрд░ рд╣рдо рдПрдХ рдХреАрдмреЛрд░реНрдб рдИрд╡реЗрдВрдЯ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ, `ArrowLeft` рдФрд░ `HERO_MOVE_LEFT` рд╕рдВрджреЗрд╢ рднреЗрдЬреЗрдВ. рд╣рдо рдЙрд╕ рд╕рдВрджреЗрд╢ рдХреЛ рд╕реБрдирддреЗ рд╣реИрдВ рдФрд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк `hero` рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ. рдЗрд╕ рдкреИрдЯрд░реНрди рдХреЗ рд╕рд╛рде рддрд╛рдХрдд рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╡реЗрдВрдЯ рд▓рд┐рд╕реНрдЯрдиреЗрд░ рдФрд░ рд╣реАрд░реЛ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ. рдЖрдк `ArrowLeft` рдХреЛ `A` рдХреА рдХреЗ рд▓рд┐рдП рд░реАрдореИрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ. рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рдпрд╣ `ArrowLeft` рдкрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдХреБрдЫ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП EventEmitter рдХреА `on` рд╕рдорд╛рд░реЛрд╣ рдореЗрдВ рдХреБрдЫ рд╕рдВрдкрд╛рджрди:

```javascript
eventEmitter.on(Messages.HERO_MOVE_LEFT, () => {
  hero.move(5, 0);
});
```

рдЬрдм рдЖрдкрдХрд╛ рдЧреЗрдо рдмрдврд╝рддрд╛ рд╣реИ рддреЛ рдЪреАрдЬреЗрдВ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИрдВ, рдпрд╣ рдкреИрдЯрд░реНрди рдЬрдЯрд┐рд▓рддрд╛ рдореЗрдВ рд╕рдорд╛рди рд░рд╣рддрд╛ рд╣реИ рдФрд░ рдЖрдкрдХрд╛ рдХреЛрдб рд╕рд╛рдл рд░рд╣рддрд╛ рд╣реИ. рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕ рдкреИрдЯрд░реНрди рдХреЛ рдЕрдкрдирд╛рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЧрдИ рд╣реИ.

---

## ЁЯЪА рдЪреБрдиреМрддреА

рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪреЗрдВ рдХрд┐ pub-sub рдкреИрдЯрд░реНрди рдПрдХ рдЦреЗрд▓ рдХреЛ рдХреИрд╕реЗ рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВ. рдХрд┐рди рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЛ рдШрдЯрдирд╛рдУрдВ рдХрд╛ рдЙрддреНрд╕рд░реНрдЬрди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдЦреЗрд▓ рдХреЛ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджреЗрдиреА рдЪрд╛рд╣рд┐рдП? рдЕрдм рдЖрдкрдХрд╛ рдореМрдХрд╛ рд░рдЪрдирд╛рддреНрдордХ рдмрдирдиреЗ рдХрд╛ рд╣реИ, рдПрдХ рдирдП рдЦреЗрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрдХрд░ рдФрд░ рдЙрд╕рдХреЗ рднрд╛рдЧреЛрдВ рдХрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреИрд╕реЗ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ.

## рд▓реЗрдХреНрдЪрд░ рдмрд╛рдж рдХреА рдХреНрд╡рд┐рдЬ

[рд▓реЗрдХреНрдЪрд░ рдмрд╛рдж рдХреА рдХреНрд╡рд┐рдЬ](https://happy-mud-02d95f10f.azurestaticapps.net/quiz/30?loc=hi)

## рд╕рдореАрдХреНрд╖рд╛ рдФрд░ рд╕реНрд╡ рдЕрдзреНрдпрдпрди

pub/sub[рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреЭреЗ](https://docs.microsoft.com/azure/altecture/patterns/publisher-subscriber?WT.mc_id=academic-13441-cxa) рдФрд░ рдЕрдзрд┐рдХ рдЬрд╛рдиреЗрдВ .

## рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ

[рдПрдХ рдЦреЗрд▓ рдХрд╛ рдирдХрд╛](assignment.hi.md)
