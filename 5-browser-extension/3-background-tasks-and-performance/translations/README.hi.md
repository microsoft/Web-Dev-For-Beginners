# рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкрд╛рд░реНрдЯ 3: рдкреГрд╖реНрдарднреВрдорд┐ рдХрд╛рд░реНрдп рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдиреЗрдВ

## рдкреВрд░реНрд╡ рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА

[рдкреВрд░реНрд╡ рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА](https://happy-mud-02d95f10f.azurestaticapps.net/quiz/27?loc=hi)

### рдкрд░рд┐рдЪрдп

рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреЗ рдЕрдВрддрд┐рдо рджреЛ рдкрд╛рдареЛрдВ рдореЗрдВ, рдЖрдкрдиреЗ рд╕реАрдЦрд╛ рдХрд┐ рдПрдкреАрдЖрдИ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдлреЙрд░реНрдо рдФрд░ рдбрд┐рд╕реНрдкреНрд▓реЗ рдХреНрд╖реЗрддреНрд░ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред рдпрд╣ рд╡реЗрдм рдкрд░ рд╡реЗрдм рдЙрдкрд╕реНрдерд┐рддрд┐ рдмрдирд╛рдиреЗ рдХрд╛ рдПрдХ рдмрд╣реБрдд рд╣реА рдорд╛рдирдХ рддрд░реАрдХрд╛ рд╣реИред рдЖрдкрдиреЗ рдпрд╣ рднреА рд╕реАрдЦрд╛ рдХрд┐ рдХреИрд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рдЕрд╕рдВрдЧрдд рд░реВрдк рд╕реЗ рд╕рдВрднрд╛рд▓рдирд╛ рд╣реИред рдЖрдкрдХрд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд▓рдЧрднрдЧ рдкреВрд░рд╛ рд╣реЛ рдЪреБрдХрд╛ рд╣реИред

рдпрд╣ рдХреБрдЫ рдкреГрд╖реНрдарднреВрдорд┐ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╣реБрдЖ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рдЖрдЗрдХрди рдХрд╛ рд░рдВрдЧ рддрд╛рдЬрд╝рд╛ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╢рд╛рдирджрд╛рд░ рд╕рдордп рд╣реИ рдХрд┐ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЗрд╕ рддрд░рд╣ рдХреЗ рдХрд╛рд░реНрдп рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХреИрд╕реЗ рдХрд░рддрд╛ рд╣реИред рдЖрдЗрдП рдЗрди рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдкрдиреА рд╡реЗрдм рдкрд░рд┐рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╕реЛрдЪрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдЗрдиреНрд╣реЗрдВ рдмрдирд╛рддреЗ рд╣реИрдВред

## рд╡реЗрдм рдкреНрд░рджрд░реНрд╢рди рдореВрд▓ рдмрд╛рддреЗрдВ

> "рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рджреЛ рдЪреАрдЬреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ: рдкреЗрдЬ рдХрд┐рддрдиреА рддреЗрдЬреА рд╕реЗ рд▓реЛрдб рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЙрд╕ рдкрд░ рдХреЛрдб рдХрд┐рддрдиреА рддреЗрдЬреА рд╕реЗ рдЪрд▓рддрд╛ рд╣реИред" -- [рдЬреИрдХ рдЧреНрд░реЙрд╕рдмрд░рдд](https://www.smashingmagazine.com/2012/06/javascript-profiling-chrome-developer-tools/)

рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреА рд╡реЗрдм рд╕рд╛рдЗрдЯреЛрдВ рдХреЛ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рддреЗрдЬрд╝реА рд╕реЗ рддреЗрдЬрд╝ рдмрдирд╛рдиреЗ рдХрд╛ рд╡рд┐рд╖рдп, рдмрд╣реБрдд рд╣реА рд╡рд┐рд╢рд╛рд▓ рд╣реИред рдпрд╣рд╛рдВ рдХреБрдЫ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдпрд╛ рддреЛ рдПрдХ рдорд╛рдирдХ рд╡реЗрдм рдкрд░рд┐рдпреЛрдЬрдирд╛ рдпрд╛ рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╣реИрдВред

рдЕрдкрдиреА рд╕рд╛рдЗрдЯ рдХреЛ рдХреБрд╢рд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЙрд╕рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рдЗрдХрдЯреНрдард╛ рдХрд┐рдпрд╛ рдЬрд╛рдПред рдРрд╕рд╛ рдХрд░рдиреЗ рдХрд╛ рдкрд╣рд▓рд╛ рд╕реНрдерд╛рди рдЖрдкрдХреЗ рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдбреЗрд╡рд▓рдкрд░ рдЯреВрд▓ рдореЗрдВ рд╣реИред. рдПрдЬ рдореЗрдВ, рдЖрдк "Settings and more" рдмрдЯрди (рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рд╢реАрд░реНрд╖ рджрд╛рдИрдВ рдУрд░ рддреАрди рдбреЙрдЯреНрд╕ рдЖрдЗрдХрди) рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдлрд┐рд░ More Tools> Developer Tools рдкрд░ рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░реЗрдВ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдЯреИрдм рдЦреЛрд▓реЗрдВред рдЖрдк рд╡рд┐рдВрдбреЛрдЬ рдкрд░ рдХреАрдмреЛрд░реНрдб рд╢реЙрд░реНрдЯрдХрдЯ `Ctrl` +` рд╢рд┐рдлреНрдЯ` + `I` рдпрд╛ рдореИрдХ рдкрд░ рдбреЗрд╡рд▓рдкрд░ рд╡рд┐рдХрд▓реНрдк рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП `Option` + `Command` +` I` рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдкреНрд░рджрд░реНрд╢рди рдЯреИрдм рдореЗрдВ рдПрдХ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЙрдкрдХрд░рдг рд╣реЛрддрд╛ рд╣реИред рдПрдХ рд╡реЗрдм рд╕рд╛рдЗрдЯ рдЦреЛрд▓реЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, https://www.microsoft.com) рдФрд░ 'Record' рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдлрд┐рд░ рд╕рд╛рдЗрдЯ рдХреЛ рд░реАрдлрд╝реНрд░реЗрд╢ рдХрд░реЗрдВред рдХрд┐рд╕реА рднреА рд╕рдордп рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдмрдВрдж рдХрд░ рджреЗрдВ, рдФрд░ рдЖрдк рд╕рд╛рдЗрдЯ рдХреЛ 'рд╕реНрдХреНрд░рд┐рдкреНрдЯ', 'рд░реЗрдВрдбрд░' рдФрд░ 'рдкреЗрдВрдЯ' рд╕реЗ рдЙрддреНрдкрдиреНрди рд░реВрдЯреАрди рдХреЛ рджреЗрдЦ рдкрд╛рдПрдВрдЧреЗ:

![рдПрдЬ рдкреНрд░реЛрдлрд╛рдЗрд▓](../images/profiler.png)

тЬЕ рдХрд┐рдирд╛рд░реЗ рдкрд░ рдкреНрд░рджрд░реНрд╢рди рдкреИрдирд▓ рдкрд░ [Microsoft рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг](https://docs.microsoft.com/microsoft-edge/devtools-guide/performance?WT.mc_id=academy-13441-cxa) рдкрд░ рдЬрд╛рдПрдБ

> рдпреБрдХреНрддрд┐: рдЕрдкрдиреА рд╡реЗрдм рд╕рд╛рдЗрдЯ рдХреЗ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рд╕рдордп рдХрд╛ рд╕рд╣реА рдкрдарди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд╛ рдХреИрд╢ рд╕рд╛рдлрд╝ рдХрд░реЗрдВ

рдЖрдкрдХреЗ рдкреГрд╖реНрда рд▓реЛрдб рд╣реЛрдиреЗ рдкрд░ рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдШрдЯрдирд╛рдУрдВ рдХреЛ рдЬрд╝реВрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рд╕рдордпрд░реЗрдЦрд╛ рдХреЗ рддрддреНрд╡реЛрдВ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред

рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЯрд╛рдЗрдорд▓рд╛рдЗрди рдХреЗ рдПрдХ рднрд╛рдЧ рдХрд╛ рдЪрдпрди рдХрд░рдХреЗ рдФрд░ рд╕рд╛рд░рд╛рдВрд╢ рдлрд▓рдХ рдХреЛ рджреЗрдЦрдХрд░ рдЕрдкрдиреЗ рдкреГрд╖реНрда рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рдПрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:

![рдПрдЬ рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рд╕реНрдиреИрдкрд╢реЙрдЯ](../images/snapshot.png)

рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рдХреЛрдИ рдШрдЯрдирд╛ 15 ms рд╕реЗ рдЕрдзрд┐рдХ рд╕рдордп рдХреА рдирд╣реАрдВ рд╣реИ, рдЗрд╡реЗрдВрдЯ рд▓реЙрдЧ рдлрд▓рдХ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ:

![рдПрдЬ рдЗрд╡реЗрдВрдЯ рд▓реЙрдЧ](../images/log.png)

тЬЕ рдЕрдкрдиреЗ рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рдХреЛ рдЬрд╛рдиреЗ! рдЗрд╕ рд╕рд╛рдЗрдЯ рдкрд░ рдбреЗрд╡рд▓рдкрд░ рдЯреВрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдХреЛрдИ рдЕрдбрд╝рдЪрди рд╣реИред рд╕рдмрд╕реЗ рдзреАрдореА рдЧрддрд┐ рд╕реЗ рд▓реЛрдб рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдРрд╕реЗрдЯ рдХреНрдпрд╛ рд╣реИ? рд╕рдмрд╕реЗ рддреЗрдЬ?

## рдкреНрд░реЛрдлрд╛рдЗрд▓ рдХреА рдЬрд╛рдБрдЪ

рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░ рдХреБрдЫ "рд╕рдорд╕реНрдпрд╛ рд╡рд╛рд▓реЗ рдХреНрд╖реЗрддреНрд░" рд╣реЛрддреЗ рд╣реИрдВ, рдЬреЛ рд╣рд░ рд╡реЗрдм рдбреЗрд╡рд▓рдкрд░ рдХреЛ рд╕рд╛рдЗрдЯ рдмрдирд╛рддреЗ рд╕рдордп рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП, рддрд╛рдХрд┐ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рддреИрдирд╛рдд рд╣реЛрдиреЗ рдХреЗ рд╕рдордп рдмреБрд░рд╛ рдЖрд╢реНрдЪрд░реНрдп рди рд╣реЛред

**рдПрд╕реЗрдЯ рдЖрдХрд╛рд░**: рдкрд┐рдЫрд▓реЗ рдХреБрдЫ рд╡рд░реНрд╖реЛрдВ рдореЗрдВ рд╡реЗрдм 'рднрд╛рд░реА' рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рддрд░рд╣ рдзреАрдорд╛ рд╣реИред рдЗрд╕ рд╡рдЬрди рдХрд╛ рдХреБрдЫ рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИред

тЬЕ рдкреГрд╖реНрда рднрд╛рд░ рдФрд░ рдЕрдзрд┐рдХ рдХреЗ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рджреГрд╢реНрдп рдХреЗ рд▓рд┐рдП [рдЗрдВрдЯрд░рдиреЗрдЯ рдЖрд░реНрдХрд╛рдЗрд╡](https://httparchive.org/reports/page-weight) рджреЗрдЦреЗрдВред

рдПрдХ рдЕрдЪреНрдЫрд╛ рдЕрднреНрдпрд╛рд╕ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреА рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдП, рдЖрдкрдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдЖрдХрд╛рд░ рдФрд░ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдкрд░ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред

**DOM рдЯреНрд░реИрд╡рд░реНрд╕рд▓реНрд╕**: рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреЗ рдЧрдП рдХреЛрдб рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрдкрдиреЗ рдбреЙрдХреНрдпреВрдореЗрдВрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдореЙрдбрд▓ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЖрдкрдХреЗ рдЯреИрдЧ рдХреЛ рдХрдо рд╕реЗ рдХрдо рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫреЗ рдкреЗрдЬ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд╣рд┐рдд рдореЗрдВ рд╣реИ, рдХреЗрд╡рд▓ рдкреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ рд╕реНрдЯрд╛рдЗрд▓ рдХрд░рдХреЗред рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рдПрдХ рдкреГрд╖реНрда рд╕реЗ рдЬреБрдбрд╝реЗ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реАрдПрд╕рдПрд╕ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ; рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреЗрд╡рд▓ рдПрдХ рдкреГрд╖реНрда рдкрд░ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╢реИрд▓рд┐рдпреЛрдВ рдХреЛ рдореБрдЦреНрдп рд╢реИрд▓реА рдкрддреНрд░рдХ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред

**рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ**: Eрдмрд╣реБрдд рд╣реА рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдбреЗрд╡рд▓рдкрд░ рдХреЛ 'рд░реЗрдВрдбрд░-рдмреНрд▓реЙрдХрд┐рдВрдЧ' рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рдиреНрд╣реЗрдВ рдмрд╛рдХреА рдбреЛрдо рд╕реЗ рдкрд╣рд▓реЗ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдЙрдиреНрд╣реЗрдВ рдмреНрд░рд╛рдЙрдЬрд░ рдореЗрдВ рдЪрд┐рддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЕрдкрдиреА рдЗрдирд▓рд╛рдЗрди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде `defer` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ (рдЬреИрд╕рд╛ рдХрд┐ рдЯреЗрд░рд╛рд░рд┐рдпрдо рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ)ред

тЬЕ рд╕рд╛рдЗрдЯ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╕рд╛рдорд╛рдиреНрдп рдЬрд╛рдБрдЪреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП [рд╕рд╛рдЗрдЯ рд╕реНрдкреАрдб рдЯреЗрд╕реНрдЯ рд╡реЗрдмрд╕рд╛рдЗрдЯ](https://www.webpagetest.org/) рдкрд░ рдХреБрдЫ рд╕рд╛рдЗрдЯреЛрдВ рдХреЛ рдЖрдЬрд╝рдорд╛рдПрдБред

рдЕрдм рдЬрдм рдЖрдкрдХреЗ рдкрд╛рд╕ рдпрд╣ рд╡рд┐рдЪрд╛рд░ рд╣реИ рдХрд┐ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рднреЗрдЬреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдХреИрд╕реЗ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдЗрдП рдЖрдЦрд┐рд░реА рдХреБрдЫ рдЪреАрдЬреЛрдВ рдкрд░ рдЧреМрд░ рдХрд░реЗрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╡рд┐рд╕реНрддрд╛рд░ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рдирд╛ рд╣реИ:

### рд░рдВрдЧ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдПрдВ

`/src/index.js` рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рдирд╛,` const` рд╡реИрд░рд┐рдПрдмрд▓ рдХреА рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рдмрд╛рдж `calculateColor()` рдирд╛рдордХ рдПрдХ рдлрдВрдХреНрд╢рди рдЬреЛрдбрд╝реЗрдВ, рдЬрд┐рд╕рд╕реЗ рдЖрдк DOM рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```JavaScript
function calculateColor(value) {
	let co2Scale = [0, 150, 600, 750, 800];
	let colors = ['#2AA364', '#F5EB4D', '#9E4229', '#381D02', '#381D02'];

	let closestNum = co2Scale.sort((a, b) => {
		return Math.abs(a - value) - Math.abs(b - value);
	})[0];
	console.log(value + ' is closest to ' + closestNum);
	let num = (element) => element > closestNum;
	let scaleIndex = co2Scale.findIndex(num);

	let closestColor = colors[scaleIndex];
	console.log(scaleIndex, closestColor);

	chrome.runtime.sendMessage({ action: 'updateIcon', value: { color: closestColor } });
}
```

рдпрд╣рд╛рдБ рдХреНрдпрд╛ рдЪрд▓ рд░рд╣рд╛ рд╣реИ? рдЖрдк рдкрд┐рдЫрд▓реЗ рдкрд╛рда рдореЗрдВ рдкреВрд░реНрдг рдХреА рдЧрдИ рдПрдкреАрдЖрдИ рдХреЙрд▓ рд╕реЗ рдПрдХ рдореВрд▓реНрдп (рдХрд╛рд░реНрдмрди рдХреА рддреАрд╡реНрд░рддрд╛) рдореЗрдВ рдкрд╛рд╕ рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЖрдк рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рд░рдВрдЧреЛрдВ рдХреЗ рд╕рд░рдгреА рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдореВрд▓реНрдп рдХрд┐рддрдирд╛ рдХрд░реАрдм рд╣реИред рдлрд┐рд░ рдЖрдк рдЙрд╕ рдирд┐рдХрдЯрддрдо рд░рдВрдЧ рдорд╛рди рдХреЛ рдХреНрд░реЛрдо рд░рдирдЯрд╛рдЗрдо рдкрд░ рднреЗрдЬрддреЗ рд╣реИрдВред

Chrome.runtime рдореЗрдВ [рдПрдкреАрдЖрдИ](https://developer.chrome.com/extensions/runtime) рд╣реИ рдЬреЛ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреГрд╖реНрдарднреВрдорд┐ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ, рдФрд░ рдЖрдкрдХрд╛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЗрд╕рдХрд╛ рд▓рд╛рдн рдЙрдард╛ рд░рд╣рд╛ рд╣реИ:

> "рдкреГрд╖реНрдарднреВрдорд┐ рдкреГрд╖реНрда рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП chrome.runtime API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдкреНрд░рдХрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╡рд░рдг рд▓реМрдЯрд╛рдПрдВ, рдФрд░ рдРрдк рдпрд╛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЬреАрд╡рдирдЪрдХреНрд░ рдореЗрдВ рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕реБрдиреЗрдВ рдФрд░ рдЬрд╡рд╛рдм рджреЗрдВред рдЖрдк URL рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдкрде рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдпреЛрдЧреНрдп URL рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдЗрд╕ API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред"

тЬЕ рдпрджрд┐ рдЖрдк рдПрдЬ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдЖрдкрдХреЛ рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдХреНрд░реЛрдо рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВред рдирдпрд╛ рдПрдЬ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕рдВрд╕реНрдХрд░рдг рдХреНрд░реЛрдорд┐рдпрдо рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЗрдВрдЬрди рдкрд░ рдЪрд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рдЗрди рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рд▓рд╛рдн рдЙрдард╛ рд╕рдХрддреЗ рд╣реИрдВред

> рдзреНрдпрд╛рди рджреЗрдВ, рдпрджрд┐ рдЖрдк рдХрд┐рд╕реА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рднреАрддрд░ рд╕реЗ dev рдЯреВрд▓ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЙрд╕рдХрд╛ рдЕрдкрдирд╛ рдЕрд▓рдЧ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЙрджрд╛рд╣рд░рдг рд╣реИред

### рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЖрдЗрдХрди рд░рдВрдЧ рд╕реЗрдЯ рдХрд░реЗрдВ

рдЕрдм, `init()`рдлрдВрдХреНрд╢рди рдореЗрдВ, рдЖрдЗрдХреЙрди рдХреЛ рдлрд┐рд░ рд╕реЗ рдХреНрд░реЛрдо рдХреЗ `updateIcon` рдПрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЗрдиреЗрд░рд┐рдХ рдЧреНрд░реАрди рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░реЗрдВ:

```JavaScript
chrome.runtime.sendMessage({
	action: 'updateIcon',
		value: {
			color: 'green',
		},
});
```
### рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ, рдХреЙрд▓ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ

рдЗрд╕рдХреЗ рдмрд╛рдж, рдЙрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ C02Signal API рджреНрд╡рд╛рд░рд╛ рджрд┐рдП рдЧрдП рд╡рд╛рджреЗ рд╕реЗ рдЬреЛрдбрд╝рдХрд░ рдмрдирд╛рдпрд╛ рд╣реИ:

```JavaScript
//let CO2...
calculateColor(CO2);
```

рдФрд░ рдЕрдВрдд рдореЗрдВ, `/dist/background.js` рдореЗрдВ, рдЗрди рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдПрдХреНрд╢рди рдХреЙрд▓ рдХреЗ рд▓рд┐рдП рд╢реНрд░реЛрддрд╛ рдЬреЛрдбрд╝реЗрдВ:

```JavaScript
chrome.runtime.onMessage.addListener(function (msg, sender, sendResponse) {
	if (msg.action === 'updateIcon') {
		chrome.browserAction.setIcon({ imageData: drawIcon(msg.value) });
	}
});
//borrowed from energy lollipop extension, nice feature!
function drawIcon(value) {
	let canvas = document.createElement('canvas');
	let context = canvas.getContext('2d');

	context.beginPath();
	context.fillStyle = value.color;
	context.arc(100, 100, 50, 0, 2 * Math.PI);
	context.fill();

	return context.getImageData(50, 50, 100, 100);
}
```
рдЗрд╕ рдХреЛрдб рдореЗрдВ, рдЖрдк рдмреИрдХрдПрдВрдб рдЯрд╛рд╕реНрдХ рдореИрдиреЗрдЬрд░ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдХрд┐рд╕реА рднреА рд╕рдВрджреЗрд╢ рдХреЗ рд▓рд┐рдП рд╢реНрд░реЛрддрд╛ рдЬреЛрдбрд╝ рд░рд╣реЗ рд╣реИрдВред рдпрджрд┐ рдЗрд╕реЗ 'рдЕрдкрдбреЗрдЯрдЖрдИрдХреЙрди' рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЕрдЧрд▓рд╛ рдХреЛрдб рдЪрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреИрдирд╡рд╕ рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдЪрд┐рдд рд░рдВрдЧ рдХрд╛ рдПрдХ рдЖрдЗрдХрди рдЦреАрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдПред

тЬЕ рдЖрдк [рдЕрдВрддрд░рд┐рдХреНрд╖ рдЦреЗрд▓ рдХреЗ рдкрд╛рдареЛрдВ](../../../6-space-game/2-drawing-to-canvas/translations/README.hi.md) рдореЗрдВ рдХреИрдирд╡рд╕ рдПрдкреАрдЖрдИ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдиреЗрдВрдЧреЗ

рдЖрдк рд╕реНрдкреЗрд╕ рдЬреАрдПрдирдУ рдореЗрдВ рдХреИрдирд╡рд╕ рдПрдкреАрдЖрдИ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдиреЗрдВрдЧреЗ, рдЕрдкрдиреЗ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдВрдЧреЗ (`npm run build`), рдЕрдкрдиреЗ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ рд░реАрдлреНрд░реЗрд╢ рдФрд░ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ, рдФрд░ рд░рдВрдЧ рдкрд░рд┐рд╡рд░реНрддрди рджреЗрдЦреЗрдВред рдХреНрдпрд╛ рдпрд╣ рдЧрд▓рдд рдХрд╛рдо рдЪрд▓рд╛рдиреЗ рдпрд╛ рдмрд░реНрддрди рдзреЛрдиреЗ рдХрд╛ рдЕрдЪреНрдЫрд╛ рд╕рдордп рд╣реИ? рдЕрдм рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ!

рдмрдзрд╛рдИ рд╣реЛ, рдЖрдкрдиреЗ рдПрдХ рдЙрдкрдпреЛрдЧреА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдмрдирд╛рдпрд╛ рд╣реИ рдФрд░ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХреА рд╣реИ рдХрд┐ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдХреИрд╕реЗ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдХрд░рддрд╛ рд╣реИред

---

## ЁЯЪА рдЪреБрдиреМрддреА

рдХреБрдЫ рдУрдкрди рд╕реЛрд░реНрд╕ рд╡реЗрдм рд╕рд╛рдЗрдЯреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдЬреЛ рдмрд╣реБрдд рдкрд╣рд▓реЗ рд╕реЗ рд╣реИрдВ, рдФрд░, рдЙрдирдХреЗ GitHub рдЗрддрд┐рд╣рд╛рд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдЖрдк рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рд╡реЗ рд╡рд░реНрд╖реЛрдВ рдореЗрдВ рдХреИрд╕реЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдП рдЧрдП рдереЗ, рдпрджрд┐ рдмрд┐рд▓реНрдХреБрд▓ред рд╕рдмрд╕реЗ рдЖрдо рджрд░реНрдж рдмрд┐рдВрджреБ рдХреНрдпрд╛ рд╣реИ?

## рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдЙрдкрд░рд╛рдВрдд рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА

[рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдЙрдкрд░рд╛рдВрдд рдкреНрд░рд╢реНрдиреЛрддреНрддрд░реА](https://happy-mud-02d95f10f.azurestaticapps.net/quiz/28?loc=hi)

## рд╕рдореАрдХреНрд╖рд╛ рдФрд░ рд╕реНрд╡ рдЕрдзреНрдпрдпрди

[рдкреНрд░рджрд░реНрд╢рди рдиреНрдпреВрдЬрд╝рд▓реЗрдЯрд░](https://perf.email/) рдХреЗ рд▓рд┐рдП рд╕рд╛рдЗрди рдЕрдк рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ

рдХреБрдЫ рдРрд╕реЗ рддрд░реАрдХреЛрдВ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдЬреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЕрдкрдиреЗ рд╡реЗрдм рдЯреВрд▓ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рди рдЯреИрдм рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡реЗрдм рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдЧреЗрдЬ рдХрд░рддреЗ рд╣реИрдВред рдХреНрдпрд╛ рдЖрдкрдХреЛ рдХреЛрдИ рдмрдбрд╝рд╛ рдЕрдВрддрд░ рд▓рдЧрддрд╛ рд╣реИ?

## рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ

[рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рдЗрдЯ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ](assignment.hi.md)

